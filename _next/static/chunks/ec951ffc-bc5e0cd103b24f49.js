"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{9100:function(e,t,r){var i=r(1861);function n(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=n(r(2058));class o{constructor(e){this.iterator=e,this.buffer=[void 0,void 0,void 0],this.bufferIndex=0,this.isDone=!1,this.nextCount=0,this.advance()}get done(){return this.isDone}get current(){if(0===this.nextCount)throw new i.errors.InvalidOperationError("Cannot get the current when the iterator has not been advanced.");return this.buffer[this.bufferIndex]}get previous(){if(this.nextCount<=1)throw new i.errors.InvalidOperationError("Cannot get the previous when the iterator has not advanced enough.");return this.buffer[(this.bufferIndex+this.buffer.length-1)%this.buffer.length]}get peek(){if(this.isDone)throw new i.errors.InvalidOperationError("Cannot peek at the end of the iterator.");return this.buffer[(this.bufferIndex+1)%this.buffer.length]}next(){if(this.done)throw new i.errors.InvalidOperationError("Cannot get the next when at the end of the iterator.");const e=this.buffer[this.getNextBufferIndex()];return this.advance(),this.nextCount++,e}*rest(){for(;!this.done;)yield this.next()}advance(){const e=this.iterator.next();this.bufferIndex=this.getNextBufferIndex(),e.done?this.isDone=!0:this.buffer[this.getNextBufferIndex()]=e.value}getNextBufferIndex(){return(this.bufferIndex+1)%this.buffer.length}}const a="*".charCodeAt(0),l="\n".charCodeAt(0),c="\r".charCodeAt(0),d=" ".charCodeAt(0),u="\t".charCodeAt(0),h="}".charCodeAt(0);function p(e,t){let r;return r="string"===typeof t?e=>g(e,t):t,e.find(r)}function g(e,t){if(null==e.getNameNode)return!1;const r=e.getNameNode();if(null==r)return!1;if(Pt.isArrayBindingPattern(r)||Pt.isObjectBindingPattern(r))return r.getElements().some((e=>g(e,t)));return(null!=e.getName?e.getName():r.getText())===t}function m(e,t){return"string"===typeof t?`Expected to find ${e} named '${t}'.`:`Expected to find ${e} that matched the provided condition.`}function y(e,t){if(e.kind===i.SyntaxKind.EndOfFileToken)return;const r=e.parent;if(null==r)return;const{pos:n,end:s}=e;for(const o of r.getChildren(t)){if(o.pos>s||o===e)return;if(o.kind===i.SyntaxKind.SyntaxList&&o.pos<=n&&o.end>=s)return o}}function x(e,t){let r;return r="string"===typeof t?e=>e.getName()===t:t,e.find(r)}function f(e){if(S(e)||e._sourceFile.isDeclarationFile())return!0;for(const t of e._getAncestorsIterator(!1))if(S(t))return!0;return!1}function S(e){return(e.getCombinedModifierFlags()&i.ts.ModifierFlags.Ambient)===i.ts.ModifierFlags.Ambient||Pt.isInterfaceDeclaration(e)||Pt.isTypeAliasDeclaration(e)}function T(e){switch(e){case i.SyntaxKind.StringLiteral:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.TemplateHead:case i.SyntaxKind.TemplateMiddle:case i.SyntaxKind.TemplateTail:return!0;default:return!1}}class N{constructor(){}static isModuleSpecifierRelative(e){return e.startsWith("./")||e.startsWith("../")}static getReferencedSourceFileFromSymbol(e){const t=e.getDeclarations();if(0!==t.length&&t[0].getKind()===i.SyntaxKind.SourceFile)return t[0]}}function b(e,t,r){var n,s;const o=null==t||t.kind!==i.SyntaxKind.SourceFile,a=(o?t:r)||{},l=function(){if(o){if(e.kind===i.SyntaxKind.SourceFile)return;const t=function(){let t=e.parent;for(;null!=t&&null!=t.parent;)t=t.parent;return t}();if(null==t){const e=function(){var e;return null!==(e=a.scriptKind)&&void 0!==e?e:i.ScriptKind.TSX}();return i.ts.createSourceFile(`print.${function(e){return e===i.ScriptKind.JSX||e===i.ScriptKind.TSX?"tsx":"ts"}(e)}`,"",i.ScriptTarget.Latest,!1,e)}return t}return t}(),c=i.ts.createPrinter({newLine:null!==(n=a.newLineKind)&&void 0!==n?n:i.NewLineKind.LineFeed,removeComments:a.removeComments||!1});return null==l?c.printFile(e):c.printNode(null!==(s=a.emitHint)&&void 0!==s?s:i.EmitHint.Unspecified,e,l)}var K;t.xI4=void 0,(K=t.xI4||(t.xI4={})).TwoSpaces="  ",K.FourSpaces="    ",K.EightSpaces="        ",K.Tab="\t";class w extends i.SettingsContainer{constructor(){super({indentationText:t.xI4.FourSpaces,newLineKind:i.NewLineKind.LineFeed,quoteKind:t.ZiB.Double,insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:!0,usePrefixAndSuffixTextForRename:!1,useTrailingCommas:!1})}getEditorSettings(){return null==this._editorSettings&&(this._editorSettings={},C(this._editorSettings,this)),Object.assign({},this._editorSettings)}getFormatCodeSettings(){return null==this._formatCodeSettings&&(this._formatCodeSettings=Object.assign(Object.assign({},this.getEditorSettings()),{insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:this._settings.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces})),Object.assign({},this._formatCodeSettings)}getUserPreferences(){return null==this._userPreferences&&(this._userPreferences={quotePreference:this.getQuoteKind()===t.ZiB.Double?"double":"single",providePrefixAndSuffixTextForRename:this.getUsePrefixAndSuffixTextForRename()}),Object.assign({},this._userPreferences)}getQuoteKind(){return this._settings.quoteKind}getNewLineKind(){return this._settings.newLineKind}getNewLineKindAsString(){return function(e){switch(e){case i.NewLineKind.CarriageReturnLineFeed:return"\r\n";case i.NewLineKind.LineFeed:return"\n";default:throw new i.errors.NotImplementedError(`Not implemented newline kind: ${e}`)}}(this.getNewLineKind())}getIndentationText(){return this._settings.indentationText}getUsePrefixAndSuffixTextForRename(){return this._settings.usePrefixAndSuffixTextForRename}getUseTrailingCommas(){return this._settings.useTrailingCommas}set(e){super.set(e),this._editorSettings=void 0,this._formatCodeSettings=void 0,this._userPreferences=void 0}_getIndentSizeInSpaces(){const e=this.getIndentationText();switch(e){case t.xI4.EightSpaces:return 8;case t.xI4.FourSpaces:return 4;case t.xI4.TwoSpaces:return 2;case t.xI4.Tab:return 4;default:return i.errors.throwNotImplementedForNeverValueError(e)}}}function F(e,t,r){"undefined"===typeof e[t]&&(e[t]=r)}function C(e,r){F(e,"convertTabsToSpaces",r.getIndentationText()!==t.xI4.Tab),F(e,"newLineCharacter",r.getNewLineKindAsString()),F(e,"indentStyle",i.ts.IndentStyle.Smart),F(e,"indentSize",r.getIndentationText().length),F(e,"tabSize",r.getIndentationText().length)}function _(e,t){return I(e,t),e.toString()}function I(e,t){if("string"===typeof t)e.write(t);else if(t instanceof Function)t(e);else for(let r=0;r<t.length;r++)r>0&&e.newLineIfLastNot(),I(e,t[r])}class P extends class{constructor(){this.enabled=!1}setEnabled(e){this.enabled=e}log(e){this.enabled&&this.logInternal(e)}warn(e){this.enabled&&this.warnInternal(e)}}{logInternal(e){console.log(e)}warnInternal(e){console.warn(e)}}const v=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/;class E{constructor(e){this.dirtySourceFiles=new Set;const t=e=>{e.wasForgotten()||this.dirtySourceFiles.add(e)};e.onSourceFileAdded((e=>{this.dirtySourceFiles.add(e),e.onModified(t)})),e.onSourceFileRemoved((e=>{e._referenceContainer.clear(),this.dirtySourceFiles.delete(e),e.onModified(t,!1)}))}refreshDirtySourceFiles(){for(const e of this.dirtySourceFiles.values())e._referenceContainer.refresh();this.clearDirtySourceFiles()}refreshSourceFileIfDirty(e){this.dirtySourceFiles.has(e)&&(e._referenceContainer.refresh(),this.clearDityForSourceFile(e))}addDirtySourceFile(e){this.dirtySourceFiles.add(e)}clearDirtySourceFiles(){this.dirtySourceFiles.clear()}clearDityForSourceFile(e){this.dirtySourceFiles.delete(e)}}class D{constructor(e){this.sourceFile=e,this.nodesInThis=new i.KeyValueCache,this.nodesInOther=new i.KeyValueCache,this.unresolvedLiterals=[],this.resolveUnresolved=()=>{for(let e=this.unresolvedLiterals.length-1;e>=0;e--){const t=this.unresolvedLiterals[e],r=this.getSourceFileForLiteral(t);null!=r&&(this.unresolvedLiterals.splice(e,1),this.addNodeInThis(t,r))}0===this.unresolvedLiterals.length&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved,!1)}}getDependentSourceFiles(){this.sourceFile._context.lazyReferenceCoordinator.refreshDirtySourceFiles();const e=new Set;for(const t of this.nodesInOther.getKeys())e.add(t._sourceFile);return e.values()}getLiteralsReferencingOtherSourceFilesEntries(){return this.sourceFile._context.lazyReferenceCoordinator.refreshSourceFileIfDirty(this.sourceFile),this.nodesInThis.getEntries()}getReferencingLiteralsInOtherSourceFiles(){return this.sourceFile._context.lazyReferenceCoordinator.refreshDirtySourceFiles(),this.nodesInOther.getKeys()}refresh(){this.unresolvedLiterals.length>0&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved,!1),this.clear(),this.populateReferences(),this.unresolvedLiterals.length>0&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved)}clear(){this.unresolvedLiterals.length=0;for(const[e,t]of this.nodesInThis.getEntries())this.nodesInThis.removeByKey(e),t._referenceContainer.nodesInOther.removeByKey(e)}populateReferences(){this.sourceFile._context.compilerFactory.forgetNodesCreatedInBlock((e=>{for(const t of this.sourceFile.getImportStringLiterals()){const r=this.getSourceFileForLiteral(t);e(t),null==r?this.unresolvedLiterals.push(t):this.addNodeInThis(t,r)}}))}getSourceFileForLiteral(e){const t=e.getParentOrThrow(),r=t.getParent();if(Pt.isImportDeclaration(t)||Pt.isExportDeclaration(t))return t.getModuleSpecifierSourceFile();if(null!=r&&Pt.isImportEqualsDeclaration(r))return r.getExternalModuleReferenceSourceFile();if(Pt.isCallExpression(t)){const t=e.getSymbol();if(null!=t)return N.getReferencedSourceFileFromSymbol(t)}else this.sourceFile._context.logger.warn(`Unknown import string literal parent: ${t.getKindName()}`)}addNodeInThis(e,t){this.nodesInThis.set(e,t),t._referenceContainer.nodesInOther.set(e,t)}}i.ts.version.split(".").map((e=>parseInt(e,10)));class O{constructor(){}static getLastCharactersToPos(e,t){const r=e.getLength(),i=new Array(r-t);return e.iterateLastChars(((e,r)=>{const n=r-t;if(n<0)return!0;i[n]=e})),i.join("")}}function A(e,t,r){let n;return n=null!=e.getStructure?e.getStructure.call(t):{},null!=r&&i.ObjectUtils.assign(n,r),n}function L(e,t,r){null!=e.set&&e.set.call(t,r)}function k(e){return class extends e{hasDeclareKeyword(){return null!=this.getDeclareKeyword()}getDeclareKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDeclareKeyword(),"Expected to find a declare keyword.")}getDeclareKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.DeclareKeyword)}isAmbient(){return f(this)}setHasDeclareKeyword(e){return this.toggleModifier("declare",e),this}set(t){return L(e.prototype,this,t),null!=t.hasDeclareKeyword&&this.setHasDeclareKeyword(t.hasDeclareKeyword),this}getStructure(){return A(e.prototype,this,{hasDeclareKeyword:this.hasDeclareKeyword()})}}}var M;function W(e,t){return Pt.isAmbientableNode(e)&&e.isAmbient()?M.Newline:(r=t,Pt.isBodyableNode(r)&&null!=r.getBody()||Pt.isBodiedNode(r)?M.Blankline:M.Newline);var r}function z(e,t){return M.Newline}function B(e,t){return r=t,Pt.isBodyableNode(r)&&r.hasBody()||Pt.isBodiedNode(r)||Pt.isInterfaceDeclaration(r)||Pt.isClassDeclaration(r)||Pt.isEnumDeclaration(r)?M.Blankline:M.Newline;var r}function j(e,t){return M.Newline}function U(e,t){return Pt.isClassDeclaration(e)?W(e,t):Pt.isInterfaceDeclaration(e)?z():B(0,t)}function R(e,t){const r=e.getFullText(),i=[];let n=0;for(const{edit:o}of t.map(((e,t)=>({edit:s(e),index:t}))).sort(((e,t)=>{const r=e.edit.getSpan().getStart()-t.edit.getSpan().getStart();return 0===r?e.index<t.index?-1:1:r<0?-1:1}))){const e=o.getSpan(),t=r.slice(n,e.getStart());n=e.getEnd(),i.push(t),i.push(o.getNewText())}return i.push(r.slice(n)),i.join("");function s(e){return e instanceof Iu?e:new Iu(e)}}function J(e){var t;const{structures:r,newCodes:n,parent:s,getSeparator:o,previousFormattingKind:a,nextFormattingKind:l}=e,c=null!==(t=e.indentationText)&&void 0!==t?t:s.getChildIndentationText(),d=s._context.manipulationSettings.getNewLineKindAsString();return u(a)+function(){let e=n[0];for(let t=1;t<n.length;t++){const i=o(r[t-1],r[t]);e+=u(i),e+=n[t]}return e}()+u(l);function u(e){let t=function(e,t){switch(e){case M.Space:return" ";case M.Newline:return t.newLineKind;case M.Blankline:return t.newLineKind+t.newLineKind;case M.None:return"";default:throw new i.errors.NotImplementedError(`Not implemented formatting kind: ${e}`)}}(e,{newLineKind:d});return e!==M.Newline&&e!==M.Blankline||(t+=c),t}}!function(e){e[e.Newline=0]="Newline",e[e.Blankline=1]="Blankline",e[e.Space=2]="Space",e[e.None=3]="None"}(M||(M={}));const V=i.ts.createScanner(i.ts.ScriptTarget.Latest,!0);function $(e){V.setText(e);try{if(V.scan()===i.ts.SyntaxKind.EndOfFileToken)return-1;for(;V.scan()!==i.ts.SyntaxKind.EndOfFileToken;);const t=V.getStartPos();return","===e[t-1]?-1:t}finally{V.setText(void 0)}}function Q(e){var t;return null!==(t=null===e||void 0===e?void 0:e.length)&&void 0!==t?t:0}function G(e,t,r){for(;t<e.length;){if(r(e.charCodeAt(t)))break;t++}return t}function q(e,t,r){for(;t>0;){if(r(e.charCodeAt(t-1)))break;t--}return t}function H(e,t){return q(e,t,X)}function X(e){return!i.StringUtils.isWhitespaceCharCode(e)}function Z(e,t){let r=t;for(let i=t;i<e.length;i++)if(" "!==e[i]&&"\t"!==e[i]){if(("\r"!==e[i]||"\n"!==e[i+1])&&"\n"!==e[i])return r;r=i+1,"\r"===e[i]&&(i++,r++)}return r}function Y(e,t){for(;t>0;){const r=e[--t];if("\n"===r)return t+1;if(" "!==r&&"\t"!==r)return t+1}return t}function ee(e,t,r){if(0===e){const e=t.getParentOrThrow();if(Pt.isSourceFile(e))return 0;if(Pt.isCaseClause(e)||Pt.isDefaultClause(e)){return e.getFirstChildByKindOrThrow(i.SyntaxKind.ColonToken).getEnd()}if(t!==e.getChildSyntaxList())return t.getStart();return te(e).getFirstChildByKindOrThrow(i.SyntaxKind.OpenBraceToken).getEnd()}return r[e-1].getEnd()}function te(e){if(Pt.isModuleDeclaration(e)){const t=e._getInnerBody();if(null==t)throw new i.errors.InvalidOperationError("This operation requires the module to have a body.");return t}return Pt.isBodiedNode(e)?e.getBody():Pt.isBodyableNode(e)?e.getBodyOrThrow():e}function re(e){return{scope:e.hasScopeKeyword()?e.getScope():void 0}}function ie(e,t,r,i){const n="number"===typeof e?e:e.length,s=t.length-n,o=[];for(let a=0;a<s;a++){const e=t[r+a];!i&&Pt.isCommentNode(e)||o.push(e)}return o}function ne(e,t,r,n){const s=[];for(;t<e.length&&s.length<r;){const r=e[t],o=r.getKind();if(o!==i.SyntaxKind.SingleLineCommentTrivia&&o!==i.SyntaxKind.MultiLineCommentTrivia){if(o!==n)throw new i.errors.NotImplementedError(`Unexpected! Inserting syntax kind of ${i.getSyntaxKindName(n)}, but ${r.getKindName()} was inserted.`);s.push(r)}t++}if(s.length!==r)throw new i.errors.NotImplementedError(`Unexpected! Inserted ${r} child/children, but ${s.length} were inserted.`);return s}function se(e){const t={};return i.ObjectUtils.assign(t,re(e)),t}function oe(e){const t={};return i.ObjectUtils.assign(t,function(e){return{hasDeclareKeyword:e.hasDeclareKeyword()}}(e)),i.ObjectUtils.assign(t,function(e){return{isDefaultExport:e.hasDefaultKeyword(),isExported:e.hasExportKeyword()}}(e)),t}function ae(e){const t={};return i.ObjectUtils.assign(t,function(e){return{isStatic:e.isStatic()}}(e)),i.ObjectUtils.assign(t,function(e){return{isAbstract:e.isAbstract()}}(e)),i.ObjectUtils.assign(t,re(e)),i.ObjectUtils.assign(t,function(e){return{hasQuestionToken:e.hasQuestionToken()}}(e)),i.ObjectUtils.assign(t,function(e){return{hasOverrideKeyword:e.hasOverrideKeyword()}}(e)),t}function le(e,t){const r=e<0?t+e:e;if(r<0)throw new i.errors.InvalidOperationError(`Invalid index: The max negative index is ${-1*t}, but ${e} was specified.`);if(e>t)throw new i.errors.InvalidOperationError(`Invalid index: The max index is ${t}, but ${e} was specified.`);return r}var ce,de;t.wCq=void 0,(ce=t.wCq||(t.wCq={}))[ce.Statement=0]="Statement",ce[ce.ClassElement=1]="ClassElement",ce[ce.TypeElement=2]="TypeElement",ce[ce.ObjectLiteralElement=3]="ObjectLiteralElement",ce[ce.EnumMember=4]="EnumMember";class ue{constructor(e,t,r,n,s,o){this._fullStart=e,this._start=t,this._sourceFile=s,this.pos=t,this.end=r,this.kind=n,this.flags=i.ts.NodeFlags.None,this.parent=o}getSourceFile(){return this._sourceFile}getChildCount(e){return 0}getChildAt(e,t){}getChildren(e){return[]}getStart(e,t){return this._start}getFullStart(){return this._fullStart}getEnd(){return this.end}getWidth(e){return this.end-this._start}getFullWidth(){return this.end-this._fullStart}getLeadingTriviaWidth(e){return this._start-this._fullStart}getFullText(e){return this._sourceFile.text.substring(this._fullStart,this.end)}getText(e){return this._sourceFile.text.substring(this._start,this.end)}getFirstToken(e){}getLastToken(e){}forEachChild(e,t){}}class he extends ue{constructor(){super(...arguments),this._commentKind=t.wCq.Statement}}class pe extends ue{constructor(){super(...arguments),this._commentKind=t.wCq.ClassElement}}class ge extends ue{constructor(){super(...arguments),this._commentKind=t.wCq.TypeElement}}class me extends ue{constructor(){super(...arguments),this._commentKind=t.wCq.ObjectLiteralElement}}class ye extends ue{constructor(){super(...arguments),this._commentKind=t.wCq.EnumMember}}!function(e){e[e.SingleLine=0]="SingleLine",e[e.MultiLine=1]="MultiLine",e[e.JsDoc=2]="JsDoc"}(de||(de={}));const xe=new WeakMap,fe=new Set([i.SyntaxKind.SourceFile,i.SyntaxKind.Block,i.SyntaxKind.ModuleBlock,i.SyntaxKind.CaseClause,i.SyntaxKind.DefaultClause,i.SyntaxKind.ClassDeclaration,i.SyntaxKind.InterfaceDeclaration,i.SyntaxKind.EnumDeclaration,i.SyntaxKind.ClassExpression,i.SyntaxKind.TypeLiteral,i.SyntaxKind.ObjectLiteralExpression]);class Se{constructor(){}static getOrParseChildren(e,t){Te(e)&&(e=e.parent);let r=xe.get(e);return null==r&&(r=Array.from(function*(e,t){const r=t.text,n=a(),s=l();if(0===n.length){const r=Se.getContainerBodyPos(e,t);null!=r&&(yield*o(r,!1))}else{for(const t of n)yield*o(t.pos,!0),yield t;const e=n[n.length-1];yield*o(e.end,!1)}function*o(e,t){const n=e;l();const o=Array.from(c()),a=r.length===e||"}"===r[e]?e:i.StringUtils.getLineStartFromPos(r,e);for(const r of o)r.end<=a&&(yield r);function l(){if(0===e)return;let t=i.StringUtils.getLineEndFromPos(r,e);for(;e<t;){const n=u();if(null!=n){if(d(n).kind===i.SyntaxKind.SingleLineCommentTrivia)return;t=i.StringUtils.getLineEndFromPos(r,e)}else{if(!i.StringUtils.isWhitespace(r[e])&&","!==r[e])return;e++}}for(;i.StringUtils.startsWithNewLine(r[e]);)e++}function*c(){for(;e<r.length;){const n=u();if(null!=n){if(n===de.JsDoc&&t)return;yield d(n),l()}else{if(!i.StringUtils.isWhitespace(r[e]))return;e++}}}function d(e){if(e===de.SingleLine)return h();return g(e===de.JsDoc)}function u(){if("/"!==r[e])return;const t=r[e+1];if("/"===t)return de.SingleLine;if("*"!==t)return;return"*"===r[e+2]?de.JsDoc:de.MultiLine}function h(){const t=e;p();return s(n,t,e,i.SyntaxKind.SingleLineCommentTrivia)}function p(){for(e+=2;e<r.length&&"\n"!==r[e]&&"\r"!==r[e];)e++}function g(t){const r=e;m(t);return s(n,r,e,i.SyntaxKind.MultiLineCommentTrivia)}function m(t){for(e+=t?3:2;e<r.length;){if("*"===r[e]&&"/"===r[e+1]){e+=2;break}e++}}}function a(){return i.ts.isSourceFile(e)||i.ts.isBlock(e)||i.ts.isModuleBlock(e)||i.ts.isCaseClause(e)||i.ts.isDefaultClause(e)?e.statements:i.ts.isClassDeclaration(e)||i.ts.isClassExpression(e)||i.ts.isEnumDeclaration(e)||i.ts.isInterfaceDeclaration(e)||i.ts.isTypeLiteralNode(e)||i.ts.isClassExpression(e)?e.members:i.ts.isObjectLiteralExpression(e)?e.properties:i.errors.throwNotImplementedForNeverValueError(e)}function l(){const r=n();return(i,n,s,o)=>new r(i,n,s,o,t,e);function n(){if(function(e){return null!=t();function t(){const t=e;if(i.ts.isSourceFile(t)||i.ts.isBlock(t)||i.ts.isModuleBlock(t)||i.ts.isCaseClause(t)||i.ts.isDefaultClause(t))return t}}(e))return he;if(i.ts.isClassLike(e))return pe;if(i.ts.isInterfaceDeclaration(e)||i.ts.isTypeLiteralNode(e))return ge;if(i.ts.isObjectLiteralExpression(e))return me;if(i.ts.isEnumDeclaration(e))return ye;throw new i.errors.NotImplementedError(`Not implemented comment node container type: ${i.getSyntaxKindName(e.kind)}`)}}}(e,t)),xe.set(e,r)),r}static shouldParseChildren(e){return fe.has(e.kind)&&e.pos!==e.end}static hasParsedChildren(e){return Te(e)&&(e=e.parent),xe.has(e)}static isCommentStatement(e){return e._commentKind===t.wCq.Statement}static isCommentClassElement(e){return e._commentKind===t.wCq.ClassElement}static isCommentTypeElement(e){return e._commentKind===t.wCq.TypeElement}static isCommentObjectLiteralElement(e){return e._commentKind===t.wCq.ObjectLiteralElement}static isCommentEnumMember(e){return e._commentKind===t.wCq.EnumMember}static getContainerBodyPos(e,t){return i.ts.isSourceFile(e)?0:i.ts.isClassDeclaration(e)||i.ts.isEnumDeclaration(e)||i.ts.isInterfaceDeclaration(e)||i.ts.isTypeLiteralNode(e)||i.ts.isClassExpression(e)||i.ts.isBlock(e)||i.ts.isModuleBlock(e)||i.ts.isObjectLiteralExpression(e)?r(e,i.SyntaxKind.OpenBraceToken):i.ts.isCaseClause(e)||i.ts.isDefaultClause(e)?r(e,i.SyntaxKind.ColonToken):i.errors.throwNotImplementedForNeverValueError(e);function r(e,r){var i;return null===(i=e.getChildren(t).find((e=>e.kind===r)))||void 0===i?void 0:i.end}}}function Te(e){return e.kind===i.SyntaxKind.SyntaxList}function Ne(e){return null!=e._children}const be=new WeakMap,Ke=new WeakMap;class we{static getContainerArray(e,t){return Se.getOrParseChildren(e,t)}static getCompilerChildrenFast(e,t){return Ne(e)?we.getCompilerChildren(e,t):we.getCompilerForEachChildren(e,t)}static getCompilerForEachChildren(e,t){if(Se.shouldParseChildren(e)){let i=be.get(e);return null==i&&(i=r(),Fe(i,Se.getOrParseChildren(e,t)),be.set(e,i)),i}return r();function r(){const t=[];return e.forEachChild((e=>{t.push(e)})),t}}static getCompilerChildren(e,t){if(function(){if(e.kind!==i.ts.SyntaxKind.SyntaxList)return!1;const r=e.parent;return!!Se.shouldParseChildren(r)&&Se.getContainerBodyPos(r,t)===e.pos}()){let r=Ke.get(e);return null==r&&(r=[...e.getChildren(t)],Fe(r,Se.getOrParseChildren(e,t)),Ke.set(e,r)),r}return e.getChildren(t)}}function Fe(e,t){let r=0;for(const n of t)if(n.kind===i.SyntaxKind.SingleLineCommentTrivia||n.kind===i.SyntaxKind.MultiLineCommentTrivia){for(;r<e.length&&e[r].end<n.end;)r++;e.splice(r,0,n),r++}}function Ce(e){return e.kind===i.ts.SyntaxKind.SingleLineCommentTrivia||e.kind===i.ts.SyntaxKind.MultiLineCommentTrivia}class _e{constructor(e){this.compilerFactory=e}handleForValues(e,t,r,n){if(this.compilerFactory.hasCompilerNode(t))e.handleNode(this.compilerFactory.getExistingNodeFromCompilerNode(t),r,n);else if(t.kind===i.SyntaxKind.SyntaxList){const i=this.compilerFactory.getExistingNodeFromCompilerNode(t.getSourceFile());e.handleNode(this.compilerFactory.getNodeFromCompilerNode(t,i),r,n)}}forgetNodeIfNecessary(e){this.compilerFactory.hasCompilerNode(e)&&this.compilerFactory.getExistingNodeFromCompilerNode(e).forget()}getCompilerChildrenAsIterators(e,t,r){const n=this.getCompilerChildren(e,t,r);return[new o(i.ArrayUtils.toIterator(n[0])),new o(i.ArrayUtils.toIterator(n[1]))]}getCompilerChildren(e,t,r){const i=e.compilerNode,n=e._sourceFile.compilerNode;return[we.getCompilerChildren(i,n),we.getCompilerChildren(t,r)]}getChildrenFast(e,t,r){const i=e.compilerNode,n=e._sourceFile.compilerNode;return Ne(i)?[we.getCompilerChildren(i,n),we.getCompilerChildren(t,r)]:[we.getCompilerForEachChildren(i,n),we.getCompilerForEachChildren(t,r)]}}class Ie{constructor(e){this.compilerFactory=e,this.helper=new _e(e)}handleNode(e,t,r){if(e.getKind()!==t.kind){const r=[e.getKind(),t.kind];if(r.includes(i.ts.SyntaxKind.Identifier)&&r.includes(i.ts.SyntaxKind.PrivateIdentifier))return void e.forget();throw new i.errors.InvalidOperationError(`Error replacing tree! Perhaps a syntax error was inserted (Current: ${e.getKindName()} -- New: ${i.getSyntaxKindName(t.kind)}).`)}e._hasWrappedChildren()&&this.handleChildren(e,t,r),this.compilerFactory.replaceCompilerNode(e,t)}handleChildren(e,t,r){const[i,n]=this.helper.getChildrenFast(e,t,r);if(i.length!==n.length)throw new Error(`Error replacing tree: The children of the old and new trees were expected to have the same count (${i.length}:${n.length}).`);for(let s=0;s<i.length;s++)this.helper.handleForValues(this,i[s],n[s],r)}}class Pe{constructor(e,t){this.compilerFactory=e,this.straightReplacementNodeHandler=new Ie(e),this.helper=new _e(e),this.oldIndex=t.oldIndex,this.newIndex=t.newIndex}handleNode(e,t,r){const[n,s]=this.helper.getCompilerChildren(e,t,r),o=this.getChildrenInNewOrder(n);i.errors.throwIfNotEqual(s.length,o.length,"New children length should match the old children length.");for(let i=0;i<s.length;i++)this.helper.handleForValues(this.straightReplacementNodeHandler,o[i],s[i],r);this.compilerFactory.replaceCompilerNode(e,t)}getChildrenInNewOrder(e){const t=[...e],r=t.splice(this.oldIndex,1)[0];return t.splice(this.newIndex,0,r),t}}class ve{constructor(e,t){var r;this.compilerFactory=e,this.straightReplacementNodeHandler=new Ie(e),this.helper=new _e(e),this.childCount=t.childCount,this.isFirstChild=t.isFirstChild,this.replacingNodes=null===(r=t.replacingNodes)||void 0===r?void 0:r.map((e=>e.compilerNode)),this.customMappings=t.customMappings}handleNode(e,t,r){const[i,n]=this.helper.getCompilerChildrenAsIterators(e,t,r);let s=this.childCount;for(this.handleCustomMappings(t);!i.done&&!n.done&&!this.isFirstChild(i.peek,n.peek);)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);for(;!i.done&&this.tryReplaceNode(i.peek);)i.next();if(s>0)for(;s>0;)n.next(),s--;else if(s<0)for(;s<0;)this.helper.forgetNodeIfNecessary(i.next()),s++;for(;!i.done;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);if(!n.done)throw new Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}handleCustomMappings(e){if(null==this.customMappings)return;const t=this.customMappings(e);for(const r of t)this.compilerFactory.replaceCompilerNode(r.currentNode,r.newNode)}tryReplaceNode(e){if(null==this.replacingNodes||0===this.replacingNodes.length)return!1;const t=this.replacingNodes.indexOf(e);return-1!==t&&(this.replacingNodes.splice(t,1),this.helper.forgetNodeIfNecessary(e),!0)}}class Ee{constructor(e){this.compilerFactory=e,this.helper=new _e(e)}handleNode(e,t,r){e.getKind()===t.kind?(e._hasWrappedChildren()&&this.handleChildren(e,t,r),this.compilerFactory.replaceCompilerNode(e,t)):e.forget()}handleChildren(e,t,r){const[n,s]=this.helper.getChildrenFast(e,t,r),o=i.ArrayUtils.toIterator(s);for(const i of n){const e=o.next();if(e.done){const e=this.compilerFactory.getExistingNodeFromCompilerNode(i);null!=e&&e.forget()}else this.helper.handleForValues(this,i,e.value,r)}}}class De extends Ie{constructor(e,t,r){super(e),this.parentNodeHandler=t,this.changingParent=r,this.foundParent=!1,this.changingParentParent=this.changingParent.getParentSyntaxList()||this.changingParent.getParent(),this.parentsAtSamePos=null!=this.changingParentParent&&this.changingParentParent.getPos()===this.changingParent.getPos()}handleNode(e,t,r){!this.foundParent&&this.isParentNode(t,r)?(this.foundParent=!0,this.parentNodeHandler.handleNode(e,t,r)):super.handleNode(e,t,r)}isParentNode(e,t){return!(!Oe(e,this.changingParent)||!Oe(y(e,t)||e.parent,this.changingParentParent))&&(!this.parentsAtSamePos||r(this.changingParent.compilerNode)===r(e));function r(e){let t=e,r=0;for(;null!=t.parent;)r++,t=t.parent;return r}}}function Oe(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.pos===t.getPos()&&e.kind===t.getKind())}class Ae{constructor(e,t){this.compilerFactory=e,this.straightReplacementNodeHandler=new Ie(e),this.helper=new _e(e),this.start=t.start,this.end=t.end}handleNode(e,t,r){const n=e._sourceFile.compilerNode,s=this.helper.getChildrenFast(e,t,r),a=new o(i.ArrayUtils.toIterator(s[0])),l=new o(i.ArrayUtils.toIterator(s[1]));for(;!a.done&&!l.done&&l.peek.getEnd()<=this.start;)this.straightReplace(a.next(),l.next(),r);for(;!a.done&&!l.done&&(a.peek.getStart(n)<this.start||a.peek.getStart(n)===this.start&&l.peek.end>this.end);)this.rangeHandlerReplace(a.next(),l.next(),r);for(;!l.done&&l.peek.getEnd()<=this.end;)l.next();for(;!a.done;)this.straightReplace(a.next(),l.next(),r);if(!l.done)throw new Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}straightReplace(e,t,r){this.helper.handleForValues(this.straightReplacementNodeHandler,e,t,r)}rangeHandlerReplace(e,t,r){this.helper.handleForValues(this,e,t,r)}}class Le{constructor(e,t){var r;this.compilerFactory=e,this.straightReplacementNodeHandler=new Ie(e),this.helper=new _e(e),this.start=t.start,this.end=t.end,this.replacingLength=t.replacingLength,this.replacingNodes=null===(r=t.replacingNodes)||void 0===r?void 0:r.map((e=>e.compilerNode)),this.customMappings=t.customMappings}handleNode(e,t,r){const i=e._sourceFile.compilerNode,[n,s]=this.helper.getCompilerChildrenAsIterators(e,t,r);for(this.handleCustomMappings(t,r);!n.done&&!s.done&&s.peek.getStart(r)<this.start;)this.straightReplace(n.next(),s.next(),r);const o=[];for(;!s.done&&s.peek.getStart(r)>=this.start&&ke(s.peek,r)<=this.end;)o.push(s.next());if(null!=this.replacingLength){const e=this.start+this.replacingLength,t=[];for(;!n.done&&(ke(n.peek,i)<=e||n.peek.getStart(i)<e);)t.push(n.next());if(t.length===o.length&&t.every(((e,t)=>e.kind===o[t].kind)))for(let r=0;r<t.length;r++){const e=this.compilerFactory.getExistingNodeFromCompilerNode(t[r]);null!=e&&(e.forgetDescendants(),this.compilerFactory.replaceCompilerNode(t[r],o[r]))}else t.forEach((e=>this.helper.forgetNodeIfNecessary(e)))}for(;!n.done;)this.straightReplace(n.next(),s.next(),r);if(!s.done)throw new Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}handleCustomMappings(e,t){if(null==this.customMappings)return;const r=this.customMappings(e,t);for(const i of r)i.currentNode._context.compilerFactory.replaceCompilerNode(i.currentNode,i.newNode)}straightReplace(e,t,r){this.tryReplaceNode(e)||this.helper.handleForValues(this.straightReplacementNodeHandler,e,t,r)}tryReplaceNode(e){if(null==this.replacingNodes||0===this.replacingNodes.length)return!1;const t=this.replacingNodes.indexOf(e);return-1!==t&&(this.replacingNodes.splice(t,1),this.helper.forgetNodeIfNecessary(e),!0)}}function ke(e,t){return e.kind>=i.ts.SyntaxKind.FirstJSDocNode&&e.kind<=i.ts.SyntaxKind.LastJSDocNode?q(t.text,e.end,(e=>e!==a&&!i.StringUtils.isWhitespaceCharCode(e))):e.end}class Me extends Ie{handleNode(e,t,r){const n=e.getKind(),s=t.kind;if(n===i.SyntaxKind.ShorthandPropertyAssignment&&s===i.SyntaxKind.PropertyAssignment){const r=e.getSourceFile(),i=e.getNameNode(),n=t.initializer;return this.compilerFactory.replaceCompilerNode(i,n),e.forget(),void this.compilerFactory.getNodeFromCompilerNode(t,r)}if(n!==i.SyntaxKind.ExportSpecifier||s!==i.SyntaxKind.ExportSpecifier||null!=e.compilerNode.propertyName||null==t.propertyName){if(n!==i.SyntaxKind.ImportSpecifier||s!==i.SyntaxKind.ImportSpecifier||null!=e.compilerNode.propertyName||null==t.propertyName)return void super.handleNode(e,t,r);o(this.compilerFactory)}else o(this.compilerFactory);function o(r){const i=e.getNameNode(),n=t,s=n.propertyName,o=n.name,a=s.escapedText===i.compilerNode.escapedText?o:s;r.replaceCompilerNode(i,a),r.replaceCompilerNode(e,t)}}}class We{constructor(e){this.handler=e}handleNode(e,t,r){if(!Pt.isSourceFile(e))throw new i.errors.InvalidOperationError("Can only use a TryOrForgetNodeHandler with a source file.");try{this.handler.handleNode(e,t,r)}catch(n){e._context.logger.warn("Could not replace tree, so forgetting all nodes instead. Message: "+n),e.getChildSyntaxListOrThrow().forget(),e._context.compilerFactory.replaceCompilerNode(e,t)}}}class ze{constructor(e,t){this.compilerFactory=e,this.childIndex=t,this.straightReplacementNodeHandler=new Ie(e),this.helper=new _e(e)}handleNode(e,t,r){const[i,n]=this.helper.getCompilerChildrenAsIterators(e,t,r);let s=0;for(;!i.done&&!n.done&&s++<this.childIndex;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);const o=this.compilerFactory.getExistingNodeFromCompilerNode(i.next()),a=o.getChildSyntaxListOrThrow();for(const l of we.getCompilerChildren(a.compilerNode,a._sourceFile.compilerNode))this.helper.handleForValues(this.straightReplacementNodeHandler,l,n.next(),r);for(!function e(t){if(t===a)return void t._forgetOnlyThis();for(const r of t._getChildrenInCacheIterator())e(r);t._forgetOnlyThis()}(o);!i.done;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);if(!n.done)throw new Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}}class Be{getDefault(e){const{parent:t,isFirstChild:r,childCount:i,customMappings:n}=e,s=t.getSourceFile(),o=s._context.compilerFactory,a=null==e.replacingNodes?void 0:[...e.replacingNodes],l=new ve(o,{childCount:i,isFirstChild:r,replacingNodes:a,customMappings:n});return t===s?l:new De(o,l,t)}getForParentRange(e){const{parent:t,start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o}=e,a=t.getSourceFile(),l=a._context.compilerFactory,c=new Le(l,{start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o});return t===a?c:new De(l,c,t)}getForRange(e){const{sourceFile:t,start:r,end:i}=e,n=t._context.compilerFactory;return new Ae(n,{start:r,end:i})}getForChildIndex(e){const{parent:t,childIndex:r,childCount:n,replacingNodes:s,customMappings:o}=e,a=t.getChildren();i.errors.throwIfOutOfRange(r,[0,a.length],"opts.childIndex"),n<0&&i.errors.throwIfOutOfRange(n,[r-a.length,0],"opts.childCount");let l=0;return this.getDefault({parent:t,isFirstChild:()=>l++===r,childCount:n,replacingNodes:s,customMappings:o})}getForStraightReplacement(e){return new Ie(e)}getForForgetChanged(e){return new Ee(e)}getForRename(e){return new Me(e)}getForTryOrForget(e){return new We(e)}getForChangingChildOrder(e){const{parent:t,oldIndex:r,newIndex:i}=e,n=t.getSourceFile(),s=n._context.compilerFactory,o=new Pe(s,{oldIndex:r,newIndex:i});return t===n?o:new De(s,o,t)}getForUnwrappingNode(e){const t=e.getParentSyntaxList()||e.getParentOrThrow(),r=e.getChildIndex(),i=t.getSourceFile(),n=i._context.compilerFactory,s=new ze(n,r);return t===i?s:new De(n,s,t)}}function je(e){const{parent:t,previousSibling:r,nextSibling:i,newLineKind:n,getSiblingFormatting:s}=e;if(null==r||null==i)return"";const o=s(t,r),a=s(t,i);return o===M.Blankline||a===M.Blankline?n+n:o===M.Newline||a===M.Newline?n:o===M.Space||a===M.Space?" ":""}class Ue{constructor(e){this.opts=e}getNewText(e){const{parent:t,oldIndex:r,newIndex:i,getSiblingFormatting:n}=this.opts,s=t.getChildren(),o=t._context.manipulationSettings.getNewLineKindAsString(),a=s[r],l=t._sourceFile.getFullText(),c=Z(l,a.getPos()),d=l.substring(c,a.getEnd()),u=Math.min(i,r),h=Math.max(i,r),p=function(){const e=[...s];return e.splice(r,1),e.splice(i,0,a),e}(),g=Pt.isSourceFile(t.getParentOrThrow());let m="";return m+=l.substring(0,s[u].getPos()),0!==u||g||(m+=o),y(u),function(){let e,t;u===r?(e=Z(l,s[u].getEnd()),t=s[h].getEnd()):(e=Z(l,s[u].getPos()),t=s[h].getPos());m+=l.substring(e,t)}(),y(h),function(){s.length-1!==h||g||(m+=o);m+=l.substring(Z(l,s[h].getEnd()))}(),m;function y(e){e===r?function(){if(0===r||r===s.length-1)return;x({previousSibling:p[r-1],nextSibling:p[r]})}():(!function(){if(0===i)return;x({previousSibling:p[i-1],nextSibling:p[i]})}(),m+=d,x({previousSibling:p[i],nextSibling:p[i+1]}))}function x(e){const r=je({parent:t,getSiblingFormatting:n,newLineKind:o,previousSibling:e.previousSibling,nextSibling:e.nextSibling}),i=o+o;if(r===i){if(m.endsWith(i))return;m.endsWith(o)?m+=o:m+=i}else if(r===o){if(m.endsWith(o))return;m+=o}else if(" "===r){if(m.endsWith(" "))return;m+=" "}else m+=r}}getTextForError(e){return e}}class Re{constructor(e){this.newText=e}getNewText(e){return this.newText}getTextForError(e){return e}}function Je(e,t,r=0){const i=Math.max(0,e.lastIndexOf("\n",t)-100);let n=Math.min(e.length,e.indexOf("\n",t+r));n=-1===n?e.length:Math.min(e.length,n+100);let s="";return s+=e.substring(i,n),0!==i&&(s="..."+s),n!==e.length&&(s+="..."),s}class Ve{constructor(e){this.opts=e}getNewText(e){const{insertPos:t,newText:r,replacingLength:i=0}=this.opts;return e.substring(0,t)+r+e.substring(t+i)}getTextForError(e){return Je(e,this.opts.insertPos,this.opts.newText.length)}}class $e{constructor(e){this.opts=e}getNewText(e){const t=this.opts,{children:r,removePrecedingSpaces:i=!1,removeFollowingSpaces:n=!1,removePrecedingNewLines:s=!1,removeFollowingNewLines:o=!1,replaceTrivia:a=""}=t,h=r[0].getSourceFile().getFullText(),p=function(){if(null!=t.customRemovalPos)return t.customRemovalPos;const e=r[0].getNonWhitespaceStart();return i||s?q(h,e,g(i,s)):e}();return this.removalPos=p,h.substring(0,p)+a+h.substring(function(){if(null!=t.customRemovalEnd)return t.customRemovalEnd;const e=r[r.length-1].getEnd();return n||o?G(h,e,g(n,o)):e}());function g(e,t){return r=>{return(!t||r!==c&&r!==l)&&(!e||(i=r)!==d&&i!==u);var i}}}getTextForError(e){return Je(e,this.removalPos)}}function Qe(e,t){return"\n"===e[t]||"\r"===e[t]&&"\n"===e[t+1]}class Ge{constructor(e){this.opts=e}getNewText(e){const{children:t,getSiblingFormatting:r}=this.opts,i=t[0],n=t[t.length-1],s=i.getParentOrThrow(),o=s.getSourceFile(),a=o.getFullText(),l=o._context.manipulationSettings.getNewLineKindAsString(),c=i.getPreviousSibling(),d=n.getNextSibling(),u=function(){if(null!=c){const e=c.getTrailingTriviaEnd();return Qe(a,e)?e:c.getEnd()}const e=H(a,i.getPos());return s.getPos()===e?i.getNonWhitespaceStart():i.isFirstNodeOnLine()?e:i.getNonWhitespaceStart()}();return this.removalPos=u,a.substring(0,u)+je({parent:s,previousSibling:c,nextSibling:d,newLineKind:l,getSiblingFormatting:r})+a.substring(function(){const e=n.getTrailingTriviaEnd();if(null!=c&&null!=d){const e=r(s,d);return e===M.Blankline||e===M.Newline?Y(a,d.getNonWhitespaceStart()):d.getNonWhitespaceStart()}return s.getEnd()===n.getEnd()?n.getEnd():Qe(a,e)?null==c&&0===i.getPos()?Z(a,e):function(e,t){for(;t>0;)if("\n"===e[--t])return"\r"===e[t-1]?t-1:t;return t}(a,Z(a,e)):null==c?e:n.getEnd()}())}getTextForError(e){return Je(e,this.removalPos)}}class qe{constructor(e,t){this.renameLocations=e,this.newName=t}getNewText(e){const t=[...this.renameLocations].sort(((e,t)=>t.getTextSpan().getStart()-e.getTextSpan().getStart()));let r=e.length,i="";for(let n=0;n<t.length;n++){const s=t[n],o=s.getTextSpan();i=(s.getPrefixText()||"")+this.newName+(s.getSuffixText()||"")+e.substring(o.getEnd(),r)+i,r=o.getStart()}return e.substring(0,r)+i}getTextForError(e){return 0===this.renameLocations.length?e:"..."+e.substring(this.renameLocations[0].getTextSpan().getStart())}}class He{getNewText(e){return e}getTextForError(e){return e}}class Xe extends Ve{constructor(e){super({insertPos:e.getStart(!0),newText:Ze(e),replacingLength:e.getWidth(!0)})}}function Ze(e){const t=e._sourceFile,r=function(){const t=function(){if(Pt.isModuleDeclaration(e)){const t=e._getInnerBody();if(null==t)throw new i.errors.InvalidOperationError("This operation requires the module to have a body.");return t}if(Pt.isBodiedNode(e))return e.getBody();if(Pt.isBodyableNode(e))return e.getBodyOrThrow();throw new i.errors.NotImplementedError(`Not implemented unwrap scenario for ${e.getKindName()}.`)}();return[t.getStart()+1,t.getEnd()-1]}(),n=r[0],s=t.getFullText().substring(r[0],r[1]);return i.StringUtils.indent(s,-1,{indentText:t._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:t._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(n+e)}).trim()}class Ye extends i.errors.InvalidOperationError{constructor(e,t,r,i){super(i),this.filePath=e,this.oldText=t,this.newText=r}}function et(e,t,r,i){e._firePreModified();const n=e.getFullText(),s=t.getNewText(n);try{const t=e._context.compilerFactory.createCompilerSourceFileFromText(i||e.getFilePath(),s,e.getScriptKind());r.handleNode(e,t,t)}catch(o){const r=function(e,t){try{const r={useInMemoryFileSystem:!0},i=new e._context.project.constructor(r),n=i.createSourceFile(e.getFilePath(),t);return i.getProgram().getSyntacticDiagnostics(n)}catch(o){return[]}}(e,s),i=o.message+"\n\n-- Details --\nPath: "+e.getFilePath()+"\nText: "+JSON.stringify(t.getTextForError(s))+"\nStack: "+o.stack;function a(t){throw new Ye(e.getFilePath(),n,s,t)}r.length>0&&a("Manipulation error: A syntax error was inserted.\n\n"+e._context.project.formatDiagnosticsWithColorAndContext(r,{newLineChar:"\n"})+"\n"+i),a("Manipulation error: "+i)}}function tt(e){var t,r,i;const{insertPos:n,newText:s,parent:o}=e;et(o._sourceFile,new Ve({insertPos:n,newText:s,replacingLength:null===(t=e.replacing)||void 0===t?void 0:t.textLength}),(new Be).getForParentRange({parent:o,start:n,end:n+s.length,replacingLength:null===(r=e.replacing)||void 0===r?void 0:r.textLength,replacingNodes:null===(i=e.replacing)||void 0===i?void 0:i.nodes,customMappings:e.customMappings}))}function rt(e){const{insertPos:t,newText:r,sourceFile:i}=e;et(i,new Ve({insertPos:t,newText:r}),(new Be).getForRange({sourceFile:i,start:t,end:t+r.length}))}function it(e){const{currentNodes:t,insertIndex:r,parent:n}=e,s=t[r-1],o=function(){for(let e=r-1;e>=0;e--)if(!Pt.isCommentNode(t[e]))return t[e];return}(),a=t[r],l=function(){for(let e=r;e<t.length;e++)if(!Pt.isCommentNode(t[e]))return t[e];return}(),c=e.useNewLines?n._context.manipulationSettings.getNewLineKindAsString():" ",d=n.getNextSibling(),u=null!=d&&(d.getKind()===i.SyntaxKind.CloseBraceToken||d.getKind()===i.SyntaxKind.CloseBracketToken);let{newText:h}=e;if(null!=s){!function(){if(null==o)return void p();const e=n.getSourceFile().getFullText(),t=o.getNextSibling();let r="";null!=t&&t.getKind()===i.SyntaxKind.CommaToken?(l(o),r+=",",o===s?l(t):a()):(r+=",",o===s?l(o):a());function a(){const t=c(s)||s.getEnd();r+=e.substring(o.getEnd(),t)}function l(t){const i=c(t);null!=i&&(r+=e.substring(t.getEnd(),i))}function c(e){const t=e.getTrailingCommentRanges(),r=t[t.length-1];return null===r||void 0===r?void 0:r.getEnd()}p(),h=r+h}(),null!=l||e.useTrailingCommas?g():e.useNewLines||e.surroundWithSpaces?m():y();const t=null==a?u?d.getStart(!0):n.getEnd():a.getStart(!0),r=(o||s).getEnd();tt({insertPos:r,newText:h,parent:n,replacing:{textLength:t-r}})}else if(null!=a){(e.useNewLines||e.surroundWithSpaces)&&p(),null!=l||e.useTrailingCommas?g():m();const t=u?n.getPos():n.getStart(!0);tt({insertPos:t,newText:h,parent:n,replacing:{textLength:a.getStart(!0)-t}})}else e.useNewLines||e.surroundWithSpaces?(p(),e.useTrailingCommas?g():m()):y(),tt({insertPos:n.getPos(),newText:h,parent:n,replacing:{textLength:n.getNextSiblingOrThrow().getStart()-n.getPos()}});function p(){i.StringUtils.startsWithNewLine(h)||(h=c+h)}function g(){h=function(e){const t=$(e);return-1===t?e:e.substring(0,t)+","+e.substring(t)}(h),m()}function m(){i.StringUtils.endsWithNewLine(h)||(h+=c),y()}function y(){(e.useNewLines||i.StringUtils.endsWithNewLine(h))&&(h+=null!=a?n.getParentOrThrow().getChildIndentationText():n.getParentOrThrow().getIndentationText())}}function nt(e){const{parent:t,index:r,children:n}=e,s=t._sourceFile.getFullText(),o=t.getChildSyntaxListOrThrow(),a=ee(r,o,n),l=function(e,t,r,n){let s;if(e===r.length)if(Pt.isSourceFile(t))s=t.getEnd();else if(Pt.isCaseClause(t)||Pt.isDefaultClause(t))s=t.getEnd();else{const e=te(t).getLastChildByKind(i.SyntaxKind.CloseBraceToken);s=null==e?t.getEnd():e.getStart()}else s=r[e].getNonWhitespaceStart();return Y(n,s)}(r,t,n,s)-a,c=function(){const i=t._getWriterWithChildIndentation();return e.write(i,{previousMember:s(n[r-1]),nextMember:s(n[r]),isStartOfFile:0===a}),i.toString();function s(e){return null==e?e:Pt.isOverloadableNode(e)&&e.getImplementation()||e}}();et(t._sourceFile,new Ve({insertPos:a,replacingLength:l,newText:c}),(new Be).getForParentRange({parent:o,start:a,end:a+c.length,replacingLength:l}))}function st(e){if(0===e.structures.length)return[];const t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=le(e.index,t.length),n=function(){let e=0,r=0;for(let n=i-1;n>=0;n--){const i=t[n];if(!Pt.isCommentNode(i))break;e++,i.getText().startsWith("/**")&&(r=e)}return r}();return nt({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),ne(e.getIndexedChildren(),e.index-n,e.structures.length,e.expectedKind)}function ot(e){const t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=le(e.index,t.length);return nt({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),ie(t,e.getIndexedChildren(),i,!0)}function at(e){const{children:t}=e;0!==t.length&&et(t[0].getSourceFile(),new $e(e),(new Be).getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function lt(e){const{children:t,getSiblingFormatting:r}=e;0!==t.length&&et(t[0]._sourceFile,new Ge({children:t,getSiblingFormatting:r}),(new Be).getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function ct(e){lt({getSiblingFormatting:W,children:e})}function dt(e){lt({getSiblingFormatting:z,children:[e]})}function ut(e){const t=[e],r=e.getParentSyntaxListOrThrow(),n=t[0]===r.getFirstChild();!function(){const r=e.getNextSiblingIfKind(i.SyntaxKind.CommaToken);null!=r&&t.push(r)}(),function(){if(r.getLastChild()!==t[t.length-1])return;const n=e.getPreviousSiblingIfKind(i.SyntaxKind.CommaToken);null!=n&&t.unshift(n)}(),at({children:t,removePrecedingSpaces:!n||r.getChildren().length===t.length&&t[0].isFirstNodeOnLine(),removeFollowingSpaces:n,removePrecedingNewLines:!n,removeFollowingNewLines:n})}function ht(e){lt({getSiblingFormatting:B,children:e})}function pt(e){gt([e])}function gt(e){lt({getSiblingFormatting:j,children:e})}function mt(e){et(e.sourceFile,new Ve({insertPos:e.start,newText:e.newText,replacingLength:e.replacingLength}),(new Be).getForForgetChanged(e.sourceFile._context.compilerFactory))}function yt(e){xt(e)}function xt(e){const{sourceFile:t,newText:r}=e;et(t,new Re(r),(new Be).getForStraightReplacement(t._context.compilerFactory))}function ft(e){const{sourceFile:t,renameLocations:r,newName:i}=e,n=new Be;et(t,new qe(r,i),n.getForTryOrForget(n.getForRename(t._context.compilerFactory)))}function St(e){const{sourceFile:t,newFilePath:r}=e;et(t,new He,(new Be).getForStraightReplacement(t._context.compilerFactory),r)}function Tt(e){St({sourceFile:e,newFilePath:e.getFilePath()})}function Nt(e){return class extends e{getArguments(){var e,t;return null!==(t=null===(e=this.compilerNode.arguments)||void 0===e?void 0:e.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==t?t:[]}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){if(t instanceof Function&&(t=[t]),i.ArrayUtils.isNullOrEmpty(t))return[];this._addParensIfNecessary();const r=this.getArguments();e=le(e,r.length);const n=this._getWriterWithQueuedChildIndentation();for(let i=0;i<t.length;i++)n.conditionalWrite(i>0,", "),I(n,t[i]);return it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1}),ie(r,this.getArguments(),e,!1)}removeArgument(e){const t=this.getArguments();if(0===t.length)throw new i.errors.InvalidOperationError("Cannot remove an argument when none exist.");return ut("number"===typeof e?t[le(e,t.length-1)]:e),this}_addParensIfNecessary(){const e=this.getFullText();")"!==e[e.length-1]&&tt({insertPos:this.getEnd(),newText:"()",parent:this})}}}function bt(e){return class extends e{isAsync(){return this.hasModifier(i.SyntaxKind.AsyncKeyword)}getAsyncKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.AsyncKeyword)}getAsyncKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAsyncKeyword(),"Expected to find an async keyword.")}setIsAsync(e){return this.toggleModifier("async",e),this}set(t){return L(e.prototype,this,t),null!=t.isAsync&&this.setIsAsync(t.isAsync),this}getStructure(){return A(e.prototype,this,{isAsync:this.isAsync()})}}}function Kt(e){return class extends e{isAwaited(){return null!=this.compilerNode.awaitModifier}getAwaitKeyword(){const e=this.compilerNode.awaitModifier;return this._getNodeFromCompilerNodeIfExists(e)}getAwaitKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAwaitKeyword(),"Expected to find an await token.")}setIsAwaited(e){const t=this.getAwaitKeyword();return null!=t===e||(null==t?tt({insertPos:wt(this),parent:this,newText:" await"}):at({children:[t],removePrecedingSpaces:!0})),this}set(t){return L(e.prototype,this,t),null!=t.isAwaited&&this.setIsAwaited(t.isAwaited),this}}}function wt(e){if(e.getKind()===i.SyntaxKind.ForOfStatement)return e.getFirstChildByKindOrThrow(i.SyntaxKind.ForKeyword).getEnd();throw new i.errors.NotImplementedError("Expected a for of statement node.")}function Ft(e,t){return e.newLineIfLastNot(),("string"!==typeof t||t.length>0)&&e.indent((()=>{I(e,t)})),e.newLineIfLastNot(),e.write(""),e.toString()}function Ct(e){const t=e._sourceFile,r=e.getChildSyntaxList()||e,n=r.getNonWhitespaceStart(),s=Math.max(n,r._getTrailingTriviaNonWhitespaceEnd());if(0===s-n)return"";const o=t.getFullText().substring(n,s);return i.StringUtils.removeIndentation(o,{indentSizeInSpaces:e._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(e+n)})}class _t{constructor(e,t){this._compilerObject=e,this._sourceFile=t}get compilerObject(){return this._throwIfForgotten(),this._compilerObject}getSourceFile(){return this._throwIfForgotten(),this._sourceFile}getPos(){return this.compilerObject.pos}getEnd(){return this.compilerObject.end}getWidth(){return this.getEnd()-this.getPos()}getText(){return this.getSourceFile().getFullText().substring(this.compilerObject.pos,this.compilerObject.end)}_forget(){this._compilerObject=void 0,this._sourceFile=void 0}wasForgotten(){return null==this._compilerObject}_throwIfForgotten(){if(null!=this._compilerObject)return;throw new i.errors.InvalidOperationError("Attempted to get a text range that was forgotten. Text ranges are forgotten after a manipulation has occurred. Please re-request the text range after manipulations.")}}class It extends _t{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}}class Pt{constructor(e,t,r){if(this._wrappedChildCount=0,null==e||null==e.compilerFactory)throw new i.errors.InvalidOperationError("Constructing a node is not supported. Please create a source file from the default export of the package and manipulate the source file from there.");this._context=e,this._compilerNode=t,this.__sourceFile=r}get _sourceFile(){if(null==this.__sourceFile)throw new i.errors.InvalidOperationError("Operation cannot be performed on a node that has no source file.");return this.__sourceFile}get compilerNode(){if(null==this._compilerNode){let e="Attempted to get information from a node that was removed or forgotten.";throw null!=this._forgottenText&&(e+=`\n\nNode text: ${this._forgottenText}`),new i.errors.InvalidOperationError(e)}return this._compilerNode}forget(){this.wasForgotten()||(this.forgetDescendants(),this._forgetOnlyThis())}forgetDescendants(){for(const e of this._getChildrenInCacheIterator())e.forget();return this}_forgetOnlyThis(){if(this.wasForgotten())return;const e=this.getParent();null!=e&&e._wrappedChildCount--;const t=this._getParentSyntaxListIfWrapped();null!=t&&t._wrappedChildCount--,this._storeTextForForgetting(),this._context.compilerFactory.removeNodeFromCache(this),this._clearInternals()}wasForgotten(){return null==this._compilerNode}_hasWrappedChildren(){return this._wrappedChildCount>0}_replaceCompilerNodeFromFactory(e){null==e&&this._storeTextForForgetting(),this._clearInternals(),this._compilerNode=e}_storeTextForForgetting(){const e=this._sourceFile&&this._sourceFile.compilerNode,t=this._compilerNode;null!=e&&null!=t&&(this._forgottenText=function(){const r=t.getStart(e),i=t.end-r,n=Math.min(i,100),s=e.text.substr(r,n);return n!==i?s+"...":s}())}_clearInternals(){function e(e){null!=e&&e.forEach((e=>e._forget()))}this._compilerNode=void 0,this._childStringRanges=void 0,e(this._leadingCommentRanges),e(this._trailingCommentRanges),delete this._leadingCommentRanges,delete this._trailingCommentRanges}getKind(){return this.compilerNode.kind}getKindName(){return i.getSyntaxKindName(this.compilerNode.kind)}getFlags(){return this.compilerNode.flags}print(e={}){return null==e.newLineKind&&(e.newLineKind=this._context.manipulationSettings.getNewLineKind()),this.getKind()===i.SyntaxKind.SourceFile?b(this.compilerNode,e):b(this.compilerNode,this._sourceFile.compilerNode,e)}getSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getSymbol(),"Could not find the node's symbol.")}getSymbol(){const e=this.compilerNode.symbol;if(null!=e)return this._context.compilerFactory.getSymbol(e);const t=this._context.typeChecker.getSymbolAtLocation(this);if(null!=t)return t;const r=this.compilerNode.name;return null!=r?this._getNodeFromCompilerNode(r).getSymbol():void 0}getSymbolsInScope(e){return this._context.typeChecker.getSymbolsInScope(this,e)}getLocalOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getLocal(e),`Expected to find local symbol with name: ${e}`)}getLocal(e){const t=this._getCompilerLocals();if(null==t)return;const r=t.get(i.ts.escapeLeadingUnderscores(e));return null==r?void 0:this._context.compilerFactory.getSymbol(r)}getLocals(){const e=this._getCompilerLocals();return null==e?[]:i.ArrayUtils.from(e.values()).map((e=>this._context.compilerFactory.getSymbol(e)))}_getCompilerLocals(){return this._ensureBound(),this.compilerNode.locals}getType(){return this._context.typeChecker.getTypeAtLocation(this)}containsRange(e,t){return this.getPos()<=e&&t<=this.getEnd()}isInStringAtPos(e){if(i.errors.throwIfOutOfRange(e,[this.getPos(),this.getEnd()],"pos"),null==this._childStringRanges){this._childStringRanges=[];for(const e of this._getCompilerDescendantsIterator())T(e.kind)&&this._childStringRanges.push([e.getStart(this._sourceFile.compilerNode),e.getEnd()])}return-1!==i.ArrayUtils.binarySearch(this._childStringRanges,new class{compareTo(t){return e<=t[0]?-1:e>=t[1]-1?1:0}})}asKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.asKind(e),(()=>`Expected the node to be of kind ${i.getSyntaxKindName(e)}, but it was ${i.getSyntaxKindName(this.getKind())}.`))}asKind(e){return this.getKind()===e?this:void 0}getFirstChildOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstChild(e),"Could not find a child that matched the specified condition.")}getFirstChild(e){const t=this._getCompilerFirstChild(vt(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getLastChildOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getLastChild(e),"Could not find a child that matched the specified condition.")}getLastChild(e){const t=this._getCompilerLastChild(vt(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getFirstDescendantOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstDescendant(e),"Could not find a descendant that matched the specified condition.")}getFirstDescendant(e){for(const t of this._getDescendantsIterator())if(null==e||e(t))return t}getPreviousSiblingOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getPreviousSibling(e),"Could not find the previous sibling.")}getPreviousSibling(e){const t=this._getCompilerPreviousSibling(vt(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getNextSiblingOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getNextSibling(e),"Could not find the next sibling.")}getNextSibling(e){const t=this._getCompilerNextSibling(vt(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getPreviousSiblings(){return this._getCompilerPreviousSiblings().map((e=>this._getNodeFromCompilerNode(e)))}getNextSiblings(){return this._getCompilerNextSiblings().map((e=>this._getNodeFromCompilerNode(e)))}getChildren(){return this._getCompilerChildren().map((e=>this._getNodeFromCompilerNode(e)))}getChildAtIndex(e){return this._getNodeFromCompilerNode(this._getCompilerChildAtIndex(e))}*_getChildrenIterator(){for(const e of this._getCompilerChildren())yield this._getNodeFromCompilerNode(e)}*_getChildrenInCacheIterator(){const e=this._getCompilerChildrenFast();for(const t of e)this._context.compilerFactory.hasCompilerNode(t)?yield this._context.compilerFactory.getExistingNodeFromCompilerNode(t):t.kind===i.SyntaxKind.SyntaxList&&(yield this._getNodeFromCompilerNode(t))}getChildSyntaxListOrThrow(){return i.errors.throwIfNullOrUndefined(this.getChildSyntaxList(),"A child syntax list was expected.")}getChildSyntaxList(){let e=this;if(Pt.isBodyableNode(e)||Pt.isBodiedNode(e))do{const t=(Pt.isBodyableNode(e),e.getBody());if(null==t)return;e=t}while((Pt.isBodyableNode(e)||Pt.isBodiedNode(e))&&null==e.compilerNode.statements);if(Pt.isSourceFile(e)||Pt.isBodyableNode(this)||Pt.isBodiedNode(this)||Pt.isCaseBlock(this)||Pt.isCaseClause(this)||Pt.isDefaultClause(this)||Pt.isJsxElement(this))return e.getFirstChildByKind(i.SyntaxKind.SyntaxList);let t=!1;for(const r of e._getCompilerChildren())if(t){if(r.kind===i.SyntaxKind.SyntaxList)return this._getNodeFromCompilerNode(r)}else t=r.kind===i.SyntaxKind.OpenBraceToken}forEachChild(e,t){const r=[];this.compilerNode.forEachChild((e=>{r.push(this._getNodeFromCompilerNode(e))}),null==t?void 0:e=>{r.push(e.map((e=>this._getNodeFromCompilerNode(e))))});for(const i of r)if(i instanceof Array){const e=i.filter((e=>!e.wasForgotten()));if(e.length>0){const r=t(e);if(r)return r}}else if(!i.wasForgotten()){const t=e(i);if(t)return t}}forEachDescendant(e,t){const r={},i={};let n=!1,s=!1;const o={stop:()=>n=!0,up:()=>s=!0},a=null==t?void 0:e=>{if(n)return r;let i=!1;const a=t(e,Object.assign(Object.assign({},o),{skip:()=>i=!0}));if(a)return a;if(!i)for(const t of e){if(n)return r;if(s)return;const e=c(t);if(e)return e}},l=c(this);return l===r?void 0:l;function c(t){const l=t.forEachChild((t=>{const a=(t=>{if(n)return r;let i=!1;return e(t,Object.assign(Object.assign({},o),{skip:()=>i=!0}))||(n?r:i||s||t.wasForgotten()?void 0:c(t))})(t);return s?(s=!1,a||i):a}),null==a?void 0:e=>{const t=a(e);return s?(s=!1,t||i):t});return l===i?void 0:l}}forEachChildAsArray(){const e=[];return this.compilerNode.forEachChild((t=>{e.push(this._getNodeFromCompilerNode(t))})),e}forEachDescendantAsArray(){const e=[];return this.forEachDescendant((t=>{e.push(t)})),e}getDescendants(){return Array.from(this._getDescendantsIterator())}*_getDescendantsIterator(){for(const e of this._getCompilerDescendantsIterator())yield this._getNodeFromCompilerNode(e)}getDescendantStatements(){const e=[];return t(this,this.compilerNode),e;function t(n,s){if(!function(t,i){if(null==i.statements)return!1;const n=t._getNodeFromCompilerNode(i);for(const s of n.getStatements())e.push(s),r(t,s.compilerNode);return!0}(n,s))if(s.kind===i.SyntaxKind.ArrowFunction){const r=s;r.body.kind!==i.SyntaxKind.Block?e.push(n._getNodeFromCompilerNode(r.body)):t(n,r.body)}else r(n,s)}function r(e,r){i.ts.forEachChild(r,(r=>t(e,r)))}}getChildCount(){return this._getCompilerChildren().length}getChildAtPos(e){if(!(e<this.getPos()||e>=this.getEnd()))for(const t of this._getCompilerChildren())if(e>=t.pos&&e<t.end)return this._getNodeFromCompilerNode(t)}getDescendantAtPos(e){let t;for(;;){const r=(t||this).getChildAtPos(e);if(null==r)return t;t=r}}getDescendantAtStartWithWidth(e,t){let r;return this._context.compilerFactory.forgetNodesCreatedInBlock((i=>{let n=this.getSourceFile();do{if(n=n.getChildAtPos(e),null!=n)if(n.getStart()===e&&n.getWidth()===t)r=n;else if(null!=r)break}while(null!=n);null!=r&&i(r)})),r}getPos(){return this.compilerNode.pos}getEnd(){return this.compilerNode.end}getStart(e){return this.compilerNode.getStart(this._sourceFile.compilerNode,e)}getFullStart(){return this.compilerNode.getFullStart()}getNonWhitespaceStart(){return this._context.compilerFactory.forgetNodesCreatedInBlock((()=>{const e=this.getParent(),t=this.getPos();if(null!=e&&!Pt.isSourceFile(e)&&e.getPos()===t)return this.getStart(!0);let r;const i=this._sourceFile.getFullText(),n=this.getPreviousSibling();return r=null!=n&&Pt.isCommentNode(n)?n.getEnd():null!=n?function(e,t){for(let r=t[0];r<t[1];r++)if("\n"===e[r])return!0;return!1}(i,[t,this.getStart(!0)])?n.getTrailingTriviaEnd():t:this.getPos(),function(e,t){return G(e,t,X)}(i,r)}))}_getTrailingTriviaNonWhitespaceEnd(){return H(this._sourceFile.getFullText(),this.getTrailingTriviaEnd())}getWidth(e){return this.getEnd()-this.getStart(e)}getFullWidth(){return this.compilerNode.getFullWidth()}getLeadingTriviaWidth(){return this.compilerNode.getLeadingTriviaWidth(this._sourceFile.compilerNode)}getTrailingTriviaWidth(){return this.getTrailingTriviaEnd()-this.getEnd()}getTrailingTriviaEnd(){const e=this.getParent(),t=this.getEnd();if(null==e)return t;if(e.getEnd()===t)return t;const r=this.getTrailingCommentRanges(),i=r.length>0?r[r.length-1].getEnd():t;return G(this._sourceFile.getFullText(),i,(e=>e!==d&&e!==u))}getText(e){const t="object"===typeof e?e:void 0,r=!0===e||null!=t&&t.includeJsDocComments,n=null!=t&&t.trimLeadingIndentation,s=this.getStart(r),o=this._sourceFile.getFullText().substring(s,this.getEnd());return n?i.StringUtils.removeIndentation(o,{isInStringAtPos:e=>this._sourceFile.isInStringAtPos(e+s),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces()}):o}getFullText(){return this.compilerNode.getFullText(this._sourceFile.compilerNode)}getCombinedModifierFlags(){return i.ts.getCombinedModifierFlags(this.compilerNode)}getSourceFile(){return this._sourceFile}getProject(){return this._context.project}getNodeProperty(e){const t=this.compilerNode[e];return null==t?void 0:t instanceof Array?t.map((e=>r(e)?this._getNodeFromCompilerNode(e):e)):r(t)?this._getNodeFromCompilerNode(t):t;function r(e){return"number"===typeof e.kind&&"number"===typeof e.pos&&"number"===typeof e.end}}getAncestors(e=!1){return Array.from(this._getAncestorsIterator(e))}*_getAncestorsIterator(e){let t=r(this);for(;null!=t;)yield t,t=r(t);function r(t){return e&&t.getParentSyntaxList()||t.getParent()}}getParent(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.parent)}getParentOrThrow(){return i.errors.throwIfNullOrUndefined(this.getParent(),"Expected to find a parent.")}getParentWhileOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getParentWhile(e),"The initial parent did not match the provided condition.")}getParentWhile(e){let t,r=this.getParent();for(;r&&e(r,t||this);)t=r,r=t.getParent();return t}getParentWhileKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getParentWhileKind(e),`The initial parent was not a syntax kind of ${i.getSyntaxKindName(e)}.`)}getParentWhileKind(e){return this.getParentWhile((t=>t.getKind()===e))}getLastToken(){const e=this.compilerNode.getLastToken(this._sourceFile.compilerNode);if(null==e)throw new i.errors.NotImplementedError("Not implemented scenario where the last token does not exist.");return this._getNodeFromCompilerNode(e)}isInSyntaxList(){return null!=this.getParentSyntaxList()}getParentSyntaxListOrThrow(){return i.errors.throwIfNullOrUndefined(this.getParentSyntaxList(),"Expected the parent to be a syntax list.")}getParentSyntaxList(){const e=this.getKind();if(e===i.SyntaxKind.SingleLineCommentTrivia||e===i.SyntaxKind.MultiLineCommentTrivia)return this.getParentOrThrow().getChildSyntaxList();const t=y(this.compilerNode,this._sourceFile.compilerNode);return this._getNodeFromCompilerNodeIfExists(t)}_getParentSyntaxListIfWrapped(){const e=this.getParent();if(null!=e&&Ne(e.compilerNode))return this.getParentSyntaxList()}getChildIndex(){const e=(this.getParentSyntaxList()||this.getParentOrThrow())._getCompilerChildren().indexOf(this.compilerNode);if(-1===e)throw new i.errors.NotImplementedError("For some reason the child's parent did not contain the child.");return e}getIndentationLevel(){const e=this._context.manipulationSettings.getIndentationText();return this._context.languageService.getIdentationAtPosition(this._sourceFile,this.getStart())/e.length}getChildIndentationLevel(){return Pt.isSourceFile(this)?0:this.getIndentationLevel()+1}getIndentationText(e=0){return this._getIndentationTextForLevel(this.getIndentationLevel()+e)}getChildIndentationText(e=0){return this._getIndentationTextForLevel(this.getChildIndentationLevel()+e)}_getIndentationTextForLevel(e){return this._context.manipulationSettings.getIndentationText().repeat(e)}getStartLinePos(e){return q(this._sourceFile.getFullText(),this.getStart(e),(e=>e===l||e===c))}getStartLineNumber(e){return i.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),this.getStartLinePos(e))}getEndLineNumber(){const e=q(this._sourceFile.getFullText(),this.getEnd(),(e=>e===l||e===c));return i.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),e)}isFirstNodeOnLine(){const e=this._sourceFile.getFullText();for(let t=this.getNonWhitespaceStart()-1;t>=0;t--){const r=e[t];if(" "!==r&&"\t"!==r)return"\n"===r}return!0}replaceWithText(e,t){const r=_(t||this._getWriterWithQueuedIndentation(),e);if(Pt.isSourceFile(this))return this.replaceText([this.getPos(),this.getEnd()],r),this;const i=this.getParentSyntaxList()||this.getParentOrThrow(),n=this.getChildIndex(),s=this.getStart(!0);return tt({parent:i,insertPos:s,newText:r,replacing:{textLength:this.getEnd()-s}}),i.getChildren()[n]}prependWhitespace(e){Et(this,this.getStart(!0),e,"prependWhitespace")}appendWhitespace(e){Et(this,this.getEnd(),e,"appendWhitespace")}formatText(e={}){const t=this._context.languageService.getFormattingEditsForRange(this._sourceFile.getFilePath(),[this.getStart(!0),this.getEnd()],e);yt({sourceFile:this._sourceFile,newText:R(this._sourceFile,t)})}transform(e){const t=this._context.compilerFactory,r=i.ts.createPrinter({newLine:this._context.manipulationSettings.getNewLineKind(),removeComments:!1}),n=[],s=this._sourceFile.compilerNode,o=this.compilerNode;return i.ts.transform(o,[e=>t=>a(t,e)],this._context.compilerOptions.get()),xt({sourceFile:this._sourceFile,newText:function(){const e=s.getFullText();let t="",o=0;for(const a of n)t+=e.substring(o,a.start),t+=r.printNode(i.ts.EmitHint.Unspecified,a.compilerNode,s),o=a.end;return t+=e.substring(o),t}()}),this;function a(r,o){const l=e({visitChildren:()=>r=i.ts.visitEachChild(r,(e=>a(e,o)),o),currentNode:r});return function(e,r){if(e===r)return;const i=e.getStart(s,!0),o=e.end;let a;for(;(a=n[n.length-1])&&a.start>i;)n.pop();const l=t.getExistingNodeFromCompilerNode(e);n.push({start:i,end:o,compilerNode:r}),null!=l&&(e.kind!==r.kind?l.forget():l.forgetDescendants())}(r,l),l}}getLeadingCommentRanges(){return this._leadingCommentRanges||(this._leadingCommentRanges=this._getCommentsAtPos(this.getFullStart(),((e,t)=>{const r=i.ts.getLeadingCommentRanges(e,t)||[];if(this.getKind()===i.SyntaxKind.SingleLineCommentTrivia||this.getKind()===i.SyntaxKind.MultiLineCommentTrivia){const e=this.getPos();return r.filter((t=>t.pos<e))}return r})))}getTrailingCommentRanges(){return this._trailingCommentRanges||(this._trailingCommentRanges=this._getCommentsAtPos(this.getEnd(),i.ts.getTrailingCommentRanges))}_getCommentsAtPos(e,t){return this.getKind()===i.SyntaxKind.SourceFile?[]:(t(this._sourceFile.getFullText(),e)||[]).map((e=>new It(e,this._sourceFile)))}getChildrenOfKind(e){return this._getCompilerChildrenOfKind(e).map((e=>this._getNodeFromCompilerNode(e)))}getFirstChildByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstChildByKind(e),`A child of the kind ${i.getSyntaxKindName(e)} was expected.`)}getFirstChildByKind(e){const t=this._getCompilerChildrenOfKind(e)[0];return null==t?void 0:this._getNodeFromCompilerNode(t)}getFirstChildIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstChildIfKind(e),`A first child of the kind ${i.getSyntaxKindName(e)} was expected.`)}getFirstChildIfKind(e){const t=this._getCompilerFirstChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getLastChildByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getLastChildByKind(e),`A child of the kind ${i.getSyntaxKindName(e)} was expected.`)}getLastChildByKind(e){const t=this._getCompilerChildrenOfKind(e),r=t[t.length-1];return this._getNodeFromCompilerNodeIfExists(r)}getLastChildIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getLastChildIfKind(e),`A last child of the kind ${i.getSyntaxKindName(e)} was expected.`)}getLastChildIfKind(e){const t=this._getCompilerLastChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getChildAtIndexIfKindOrThrow(e,t){return i.errors.throwIfNullOrUndefined(this.getChildAtIndexIfKind(e,t),`Child at index ${e} was expected to be ${i.getSyntaxKindName(t)}`)}getChildAtIndexIfKind(e,t){const r=this._getCompilerChildAtIndex(e);return r.kind===t?this._getNodeFromCompilerNode(r):void 0}getPreviousSiblingIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getPreviousSiblingIfKind(e),`A previous sibling of kind ${i.getSyntaxKindName(e)} was expected.`)}getNextSiblingIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getNextSiblingIfKind(e),`A next sibling of kind ${i.getSyntaxKindName(e)} was expected.`)}getPreviousSiblingIfKind(e){const t=this._getCompilerPreviousSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getNextSiblingIfKind(e){const t=this._getCompilerNextSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getParentIfOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getParentIf(e),"The parent did not match the provided condition.")}getParentIf(e){return e(this.getParent(),this)?this.getParent():void 0}getParentIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getParentIfKind(e),`The parent was not a syntax kind of ${i.getSyntaxKindName(e)}.`)}getParentIfKind(e){return this.getParentIf((t=>void 0!==t&&t.getKind()===e))}getFirstAncestorByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstAncestorByKind(e),`Expected an ancestor with a syntax kind of ${i.getSyntaxKindName(e)}.`)}getFirstAncestorByKind(e){for(const t of this._getAncestorsIterator(e===i.SyntaxKind.SyntaxList))if(t.getKind()===e)return t}getFirstAncestorOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstAncestor(e),"Expected to find an ancestor that matched the provided condition.")}getFirstAncestor(e){for(const t of this._getAncestorsIterator(!1))if(null==e||e(t))return t}getDescendantsOfKind(e){const t=[];for(const r of this._getCompilerDescendantsOfKindIterator(e))t.push(this._getNodeFromCompilerNode(r));return t}getFirstDescendantByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstDescendantByKind(e),`A descendant of kind ${i.getSyntaxKindName(e)} was expected to be found.`)}getFirstDescendantByKind(e){for(const t of this._getCompilerDescendantsOfKindIterator(e))return this._getNodeFromCompilerNode(t)}_getCompilerChildren(){return we.getCompilerChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachChildren(){return we.getCompilerForEachChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerChildrenFast(){return Ne(this.compilerNode)?this._getCompilerChildren():this._getCompilerForEachChildren()}_getCompilerChildrenOfKind(e){return(At(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren()).filter((t=>t.kind===e))}*_getCompilerDescendantsOfKindIterator(e){const t=At(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren();for(const r of t){r.kind===e&&(yield r);const t=At(r.kind,e)?Dt(r):Ot(r,this._sourceFile.compilerNode);for(const r of t)r.kind===e&&(yield r)}}_getCompilerDescendantsIterator(){return Ot(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachDescendantsIterator(){return Dt(this.compilerNode)}_getCompilerFirstChild(e){for(const t of this._getCompilerChildren())if(null==e||e(t))return t}_getCompilerLastChild(e){const t=this._getCompilerChildren();for(let r=t.length-1;r>=0;r--){const i=t[r];if(null==e||e(i))return i}}_getCompilerPreviousSiblings(){const e=this.getParentSyntaxList()||this.getParentOrThrow(),t=[];for(const r of e._getCompilerChildren()){if(r===this.compilerNode)break;t.unshift(r)}return t}_getCompilerNextSiblings(){let e=!1;const t=this.getParentSyntaxList()||this.getParentOrThrow(),r=[];for(const i of t._getCompilerChildren())e?r.push(i):e=i===this.compilerNode;return r}_getCompilerPreviousSibling(e){for(const t of this._getCompilerPreviousSiblings())if(null==e||e(t))return t}_getCompilerNextSibling(e){for(const t of this._getCompilerNextSiblings())if(null==e||e(t))return t}_getCompilerChildAtIndex(e){const t=this._getCompilerChildren();return i.errors.throwIfOutOfRange(e,[0,t.length-1],"index"),t[e]}_getWriterWithIndentation(){const e=this._getWriter();return e.setIndentationLevel(this.getIndentationLevel()),e}_getWriterWithQueuedIndentation(){const e=this._getWriter();return e.queueIndentationLevel(this.getIndentationLevel()),e}_getWriterWithChildIndentation(){const e=this._getWriter();return e.setIndentationLevel(this.getChildIndentationLevel()),e}_getWriterWithQueuedChildIndentation(){const e=this._getWriter();return e.queueIndentationLevel(this.getChildIndentationLevel()),e}_getTextWithQueuedChildIndentation(e){const t=this._getWriterWithQueuedChildIndentation();return"string"===typeof e?t.write(e):e(t),t.toString()}_getWriter(){return this._context.createWriter()}_getNodeFromCompilerNode(e){return this._context.compilerFactory.getNodeFromCompilerNode(e,this._sourceFile)}_getNodeFromCompilerNodeIfExists(e){return null==e?void 0:this._getNodeFromCompilerNode(e)}_ensureBound(){null==this.compilerNode.symbol&&this.getSymbol()}static hasExpression(e){var t,r;return null!=(null===(r=(t=e).getExpression)||void 0===r?void 0:r.call(t))}static hasName(e){var t,r;return"string"===typeof(null===(r=(t=e).getName)||void 0===r?void 0:r.call(t))}static hasBody(e){var t,r;return null!=(null===(r=(t=e).getBody)||void 0===r?void 0:r.call(t))}static is(e){return t=>(null===t||void 0===t?void 0:t.getKind())==e}static isNode(e){return null!=e&&null!=e.compilerNode}static isCommentNode(e){const t=null===e||void 0===e?void 0:e.getKind();return t===i.SyntaxKind.SingleLineCommentTrivia||t===i.SyntaxKind.MultiLineCommentTrivia}static isCommentStatement(e){return(null===e||void 0===e?void 0:e.compilerNode)._commentKind===t.wCq.Statement}static isCommentClassElement(e){return(null===e||void 0===e?void 0:e.compilerNode)._commentKind===t.wCq.ClassElement}static isCommentTypeElement(e){return(null===e||void 0===e?void 0:e.compilerNode)._commentKind===t.wCq.TypeElement}static isCommentObjectLiteralElement(e){return(null===e||void 0===e?void 0:e.compilerNode)._commentKind===t.wCq.ObjectLiteralElement}static isCommentEnumMember(e){return(null===e||void 0===e?void 0:e.compilerNode)._commentKind==t.wCq.EnumMember}static isAbstractableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isAmbientableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isArgumentedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallExpression:case i.SyntaxKind.NewExpression:return!0;default:return!1}}static isArrayTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ArrayType}static isAsyncableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isAwaitableNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ForOfStatement}static isBindingNamedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.Parameter:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isBodiedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isBodyableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.Constructor:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isCallSignatureDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.CallSignature}static isChildOrderableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.Block:case i.SyntaxKind.BreakStatement:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.ContinueStatement:case i.SyntaxKind.DebuggerStatement:case i.SyntaxKind.DoStatement:case i.SyntaxKind.EmptyStatement:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.ExportAssignment:case i.SyntaxKind.ExportDeclaration:case i.SyntaxKind.ExpressionStatement:case i.SyntaxKind.ForInStatement:case i.SyntaxKind.ForOfStatement:case i.SyntaxKind.ForStatement:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.IfStatement:case i.SyntaxKind.ImportDeclaration:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.LabeledStatement:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.ModuleBlock:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.NotEmittedStatement:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.ReturnStatement:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.SwitchStatement:case i.SyntaxKind.ThrowStatement:case i.SyntaxKind.TryStatement:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableStatement:case i.SyntaxKind.WhileStatement:case i.SyntaxKind.WithStatement:return!0;default:return!1}}static isClassLikeDeclarationBase(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:return!0;default:return!1}}static isConditionalTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ConditionalType}static isConstructSignatureDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ConstructSignature}static isConstructorDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.Constructor}static isConstructorTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ConstructorType}static isDecoratableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isDotDotDotTokenableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.JsxExpression:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.Parameter:return!0;default:return!1}}static isExclamationTokenableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isExportGetableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExportableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.AnyKeyword:case i.SyntaxKind.BooleanKeyword:case i.SyntaxKind.NumberKeyword:case i.SyntaxKind.ObjectKeyword:case i.SyntaxKind.StringKeyword:case i.SyntaxKind.SymbolKeyword:case i.SyntaxKind.UndefinedKeyword:case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.AsExpression:case i.SyntaxKind.AwaitExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.BinaryExpression:case i.SyntaxKind.CallExpression:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.CommaListExpression:case i.SyntaxKind.ConditionalExpression:case i.SyntaxKind.DeleteExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxClosingFragment:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxExpression:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxOpeningElement:case i.SyntaxKind.JsxOpeningFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NonNullExpression:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.OmittedExpression:case i.SyntaxKind.ParenthesizedExpression:case i.SyntaxKind.PartiallyEmittedExpression:case i.SyntaxKind.PostfixUnaryExpression:case i.SyntaxKind.PrefixUnaryExpression:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.SpreadElement:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TaggedTemplateExpression:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:case i.SyntaxKind.TypeAssertionExpression:case i.SyntaxKind.TypeOfExpression:case i.SyntaxKind.VoidExpression:case i.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressionableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ExternalModuleReference:case i.SyntaxKind.JsxExpression:case i.SyntaxKind.ReturnStatement:case i.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressionedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.AsExpression:case i.SyntaxKind.CaseClause:case i.SyntaxKind.ComputedPropertyName:case i.SyntaxKind.DoStatement:case i.SyntaxKind.ExportAssignment:case i.SyntaxKind.ExpressionStatement:case i.SyntaxKind.ForInStatement:case i.SyntaxKind.ForOfStatement:case i.SyntaxKind.IfStatement:case i.SyntaxKind.JsxSpreadAttribute:case i.SyntaxKind.NonNullExpression:case i.SyntaxKind.ParenthesizedExpression:case i.SyntaxKind.PartiallyEmittedExpression:case i.SyntaxKind.SpreadAssignment:case i.SyntaxKind.SpreadElement:case i.SyntaxKind.SwitchStatement:case i.SyntaxKind.TemplateSpan:case i.SyntaxKind.ThrowStatement:case i.SyntaxKind.WhileStatement:case i.SyntaxKind.WithStatement:return!0;default:return!1}}static isExtendsClauseableNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.InterfaceDeclaration}static isFalseLiteral(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.FalseKeyword}static isFunctionLikeDeclaration(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.Constructor:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isFunctionTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.FunctionType}static isGeneratorableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.YieldExpression:return!0;default:return!1}}static isGetAccessorDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.GetAccessor}static isHeritageClauseableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.InterfaceDeclaration:return!0;default:return!1}}static isImplementsClauseableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:return!0;default:return!1}}static isImportExpression(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ImportKeyword}static isImportTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ImportType}static isIndexSignatureDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.IndexSignature}static isIndexedAccessTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.IndexedAccessType}static isInferTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.InferType}static isInitializerExpressionGetableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.EnumMember:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.ShorthandPropertyAssignment:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isInitializerExpressionableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.EnumMember:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isIntersectionTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.IntersectionType}static isIterationStatement(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.DoStatement:case i.SyntaxKind.ForInStatement:case i.SyntaxKind.ForOfStatement:case i.SyntaxKind.ForStatement:case i.SyntaxKind.WhileStatement:return!0;default:return!1}}static isJSDoc(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.JSDocComment}static isJSDocPropertyLikeTag(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JSDocParameterTag:case i.SyntaxKind.JSDocPropertyTag:return!0;default:return!1}}static isJSDocTag(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JSDocAugmentsTag:case i.SyntaxKind.JSDocAuthorTag:case i.SyntaxKind.JSDocCallbackTag:case i.SyntaxKind.JSDocClassTag:case i.SyntaxKind.JSDocDeprecatedTag:case i.SyntaxKind.JSDocEnumTag:case i.SyntaxKind.JSDocImplementsTag:case i.SyntaxKind.JSDocOverrideTag:case i.SyntaxKind.JSDocParameterTag:case i.SyntaxKind.JSDocPrivateTag:case i.SyntaxKind.JSDocPropertyTag:case i.SyntaxKind.JSDocProtectedTag:case i.SyntaxKind.JSDocPublicTag:case i.SyntaxKind.JSDocReadonlyTag:case i.SyntaxKind.JSDocReturnTag:case i.SyntaxKind.JSDocSeeTag:case i.SyntaxKind.JSDocTemplateTag:case i.SyntaxKind.JSDocThisTag:case i.SyntaxKind.JSDocTypeTag:case i.SyntaxKind.JSDocTypedefTag:case i.SyntaxKind.JSDocTag:return!0;default:return!1}}static isJSDocType(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JSDocFunctionType:case i.SyntaxKind.JSDocSignature:return!0;default:return!1}}static isJSDocTypeExpressionableTag(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JSDocReturnTag:case i.SyntaxKind.JSDocSeeTag:case i.SyntaxKind.JSDocThisTag:return!0;default:return!1}}static isJSDocTypeParameteredTag(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.JSDocTemplateTag}static isJSDocUnknownTag(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.JSDocTag}static isJSDocableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.EnumMember:case i.SyntaxKind.ExpressionStatement:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.LabeledStatement:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isJsxAttributedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JsxOpeningElement:case i.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isJsxTagNamedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.JsxClosingElement:case i.SyntaxKind.JsxOpeningElement:case i.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isLeftHandSideExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.CallExpression:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NonNullExpression:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TaggedTemplateExpression:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isLeftHandSideExpressionedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallExpression:case i.SyntaxKind.Decorator:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.ExpressionWithTypeArguments:case i.SyntaxKind.NewExpression:case i.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isLiteralExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:return!0;default:return!1}}static isLiteralLikeNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.JsxText:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.TemplateHead:case i.SyntaxKind.TemplateMiddle:case i.SyntaxKind.TemplateTail:return!0;default:return!1}}static isLiteralTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.LiteralType}static isMappedTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.MappedType}static isMemberExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TaggedTemplateExpression:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isModifierableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.Constructor:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableDeclarationList:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuleChildableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuleNamedNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ModuleDeclaration}static isModuledNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.SourceFile:return!0;default:return!1}}static isNameableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isNamedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.JsxAttribute:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.ShorthandPropertyAssignment:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.TypeParameter:return!0;default:return!1}}static isNullLiteral(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.NullKeyword}static isOverloadableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.Constructor:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isOverrideableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:return!0;default:return!1}}static isParameterDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.Parameter}static isParameteredNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.FunctionType:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.JSDocFunctionType:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isParenthesizedTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ParenthesizedType}static isPrimaryExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isPropertyNamedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.EnumMember:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isQuestionDotTokenableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isQuestionTokenableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.ShorthandPropertyAssignment:return!0;default:return!1}}static isReadonlyableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.IndexSignature:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:return!0;default:return!1}}static isReferenceFindableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.Constructor:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.EnumMember:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.JsxAttribute:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.Parameter:case i.SyntaxKind.PrivateIdentifier:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.ShorthandPropertyAssignment:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.TypeParameter:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isRenameableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.BindingElement:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.EnumMember:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.JsxAttribute:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.NamespaceExport:case i.SyntaxKind.NamespaceImport:case i.SyntaxKind.Parameter:case i.SyntaxKind.PrivateIdentifier:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.ShorthandPropertyAssignment:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.TypeParameter:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isReturnTypedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.FunctionType:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.JSDocFunctionType:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isScopeableNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.Parameter}static isScopedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.Constructor:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSetAccessorDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.SetAccessor}static isSignaturedDeclaration(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.FunctionType:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.JSDocFunctionType:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isStatement(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.Block:case i.SyntaxKind.BreakStatement:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ContinueStatement:case i.SyntaxKind.DebuggerStatement:case i.SyntaxKind.DoStatement:case i.SyntaxKind.EmptyStatement:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.ExportAssignment:case i.SyntaxKind.ExportDeclaration:case i.SyntaxKind.ExpressionStatement:case i.SyntaxKind.ForInStatement:case i.SyntaxKind.ForOfStatement:case i.SyntaxKind.ForStatement:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.IfStatement:case i.SyntaxKind.ImportDeclaration:case i.SyntaxKind.ImportEqualsDeclaration:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.LabeledStatement:case i.SyntaxKind.ModuleBlock:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.NotEmittedStatement:case i.SyntaxKind.ReturnStatement:case i.SyntaxKind.SwitchStatement:case i.SyntaxKind.ThrowStatement:case i.SyntaxKind.TryStatement:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.VariableStatement:case i.SyntaxKind.WhileStatement:case i.SyntaxKind.WithStatement:return!0;default:return!1}}static isStatementedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.Block:case i.SyntaxKind.CaseClause:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.Constructor:case i.SyntaxKind.DefaultClause:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.ModuleBlock:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.SourceFile:return!0;default:return!1}}static isStaticableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.GetAccessor:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSuperExpression(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.SuperKeyword}static isTemplateLiteralTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TemplateLiteralType}static isTextInsertableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.Block:case i.SyntaxKind.CaseBlock:case i.SyntaxKind.CaseClause:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.Constructor:case i.SyntaxKind.DefaultClause:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.SourceFile:return!0;default:return!1}}static isThisExpression(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ThisKeyword}static isThisTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.ThisType}static isTrueLiteral(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TrueKeyword}static isTupleTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TupleType}static isTypeArgumentedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallExpression:case i.SyntaxKind.ImportType:case i.SyntaxKind.NewExpression:return!0;default:return!1}}static isTypeAssertion(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeAssertionExpression}static isTypeElement(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallSignature:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.PropertySignature:return!0;default:return!1}}static isTypeElementMemberedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.TypeLiteral:return!0;default:return!1}}static isTypeLiteralNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeLiteral}static isTypeNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayType:case i.SyntaxKind.ConditionalType:case i.SyntaxKind.ConstructorType:case i.SyntaxKind.ExpressionWithTypeArguments:case i.SyntaxKind.FunctionType:case i.SyntaxKind.ImportType:case i.SyntaxKind.IndexedAccessType:case i.SyntaxKind.InferType:case i.SyntaxKind.IntersectionType:case i.SyntaxKind.JSDocFunctionType:case i.SyntaxKind.JSDocSignature:case i.SyntaxKind.JSDocTypeExpression:case i.SyntaxKind.LiteralType:case i.SyntaxKind.MappedType:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.ParenthesizedType:case i.SyntaxKind.TemplateLiteralType:case i.SyntaxKind.ThisType:case i.SyntaxKind.TupleType:case i.SyntaxKind.TypeLiteral:case i.SyntaxKind.TypeOperator:case i.SyntaxKind.TypePredicate:case i.SyntaxKind.TypeQuery:case i.SyntaxKind.TypeReference:case i.SyntaxKind.UnionType:return!0;default:return!1}}static isTypeOperatorTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeOperator}static isTypeParameterDeclaration(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeParameter}static isTypeParameteredNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrowFunction:case i.SyntaxKind.CallSignature:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.FunctionType:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.TypeAliasDeclaration:return!0;default:return!1}}static isTypePredicateNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypePredicate}static isTypeQueryNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeQuery}static isTypeReferenceNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.TypeReference}static isTypedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.AsExpression:case i.SyntaxKind.NamedTupleMember:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.TypeAssertionExpression:case i.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isUnaryExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.AwaitExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.CallExpression:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.DeleteExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NonNullExpression:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.PostfixUnaryExpression:case i.SyntaxKind.PrefixUnaryExpression:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TaggedTemplateExpression:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:case i.SyntaxKind.TypeAssertionExpression:case i.SyntaxKind.TypeOfExpression:case i.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUnaryExpressionedNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.AwaitExpression:case i.SyntaxKind.DeleteExpression:case i.SyntaxKind.TypeAssertionExpression:case i.SyntaxKind.TypeOfExpression:case i.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUnionTypeNode(e){return(null===e||void 0===e?void 0:e.getKind())===i.SyntaxKind.UnionType}static isUnwrappableNode(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.ModuleDeclaration:return!0;default:return!1}}static isUpdateExpression(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.ArrayLiteralExpression:case i.SyntaxKind.BigIntLiteral:case i.SyntaxKind.CallExpression:case i.SyntaxKind.ClassExpression:case i.SyntaxKind.ElementAccessExpression:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.FunctionExpression:case i.SyntaxKind.Identifier:case i.SyntaxKind.ImportKeyword:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxFragment:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.MetaProperty:case i.SyntaxKind.NewExpression:case i.SyntaxKind.NoSubstitutionTemplateLiteral:case i.SyntaxKind.NonNullExpression:case i.SyntaxKind.NullKeyword:case i.SyntaxKind.NumericLiteral:case i.SyntaxKind.ObjectLiteralExpression:case i.SyntaxKind.PropertyAccessExpression:case i.SyntaxKind.RegularExpressionLiteral:case i.SyntaxKind.StringLiteral:case i.SyntaxKind.SuperKeyword:case i.SyntaxKind.TaggedTemplateExpression:case i.SyntaxKind.TemplateExpression:case i.SyntaxKind.ThisKeyword:case i.SyntaxKind.TrueKeyword:return!0;default:return!1}}static _hasStructure(e){switch(null===e||void 0===e?void 0:e.getKind()){case i.SyntaxKind.CallSignature:case i.SyntaxKind.ClassDeclaration:case i.SyntaxKind.ClassStaticBlockDeclaration:case i.SyntaxKind.ConstructSignature:case i.SyntaxKind.Constructor:case i.SyntaxKind.Decorator:case i.SyntaxKind.EnumDeclaration:case i.SyntaxKind.EnumMember:case i.SyntaxKind.ExportAssignment:case i.SyntaxKind.ExportDeclaration:case i.SyntaxKind.ExportSpecifier:case i.SyntaxKind.FunctionDeclaration:case i.SyntaxKind.GetAccessor:case i.SyntaxKind.ImportDeclaration:case i.SyntaxKind.ImportSpecifier:case i.SyntaxKind.IndexSignature:case i.SyntaxKind.InterfaceDeclaration:case i.SyntaxKind.JSDocComment:case i.SyntaxKind.JsxAttribute:case i.SyntaxKind.JsxElement:case i.SyntaxKind.JsxSelfClosingElement:case i.SyntaxKind.JsxSpreadAttribute:case i.SyntaxKind.MethodDeclaration:case i.SyntaxKind.MethodSignature:case i.SyntaxKind.ModuleDeclaration:case i.SyntaxKind.Parameter:case i.SyntaxKind.PropertyAssignment:case i.SyntaxKind.PropertyDeclaration:case i.SyntaxKind.PropertySignature:case i.SyntaxKind.SetAccessor:case i.SyntaxKind.ShorthandPropertyAssignment:case i.SyntaxKind.SourceFile:case i.SyntaxKind.SpreadAssignment:case i.SyntaxKind.TypeAliasDeclaration:case i.SyntaxKind.TypeParameter:case i.SyntaxKind.VariableDeclaration:case i.SyntaxKind.VariableStatement:return!0;default:return!1}}}function vt(e,t){return null==t?void 0:r=>t(e._getNodeFromCompilerNode(r))}function Et(e,t,r,n){const s=Pt.isSourceFile(e)?e.getChildSyntaxListOrThrow():e.getParentSyntaxList()||e.getParentOrThrow(),o=_(e._getWriterWithQueuedIndentation(),r);if(!/^[\s\r\n]*$/.test(o))throw new i.errors.InvalidOperationError(`Cannot insert non-whitespace into ${n}.`);tt({parent:s,insertPos:t,newText:o})}function*Dt(e){for(const t of function(){const t=[];return e.forEachChild((e=>{t.push(e)})),t}())yield t,yield*Dt(t)}function*Ot(e,t){for(const r of we.getCompilerChildren(e,t))yield r,yield*Ot(r,t)}function At(e,t){return t>=i.SyntaxKind.FirstNode&&t<i.SyntaxKind.FirstJSDocNode&&("number"===typeof e?e:e.compilerNode.kind)!==i.SyntaxKind.SyntaxList}var Lt,kt;Pt.isAnyKeyword=Pt.is(i.SyntaxKind.AnyKeyword),Pt.isArrayBindingPattern=Pt.is(i.SyntaxKind.ArrayBindingPattern),Pt.isArrayLiteralExpression=Pt.is(i.SyntaxKind.ArrayLiteralExpression),Pt.isArrowFunction=Pt.is(i.SyntaxKind.ArrowFunction),Pt.isAsExpression=Pt.is(i.SyntaxKind.AsExpression),Pt.isAwaitExpression=Pt.is(i.SyntaxKind.AwaitExpression),Pt.isBigIntLiteral=Pt.is(i.SyntaxKind.BigIntLiteral),Pt.isBinaryExpression=Pt.is(i.SyntaxKind.BinaryExpression),Pt.isBindingElement=Pt.is(i.SyntaxKind.BindingElement),Pt.isBlock=Pt.is(i.SyntaxKind.Block),Pt.isBooleanKeyword=Pt.is(i.SyntaxKind.BooleanKeyword),Pt.isBreakStatement=Pt.is(i.SyntaxKind.BreakStatement),Pt.isCallExpression=Pt.is(i.SyntaxKind.CallExpression),Pt.isCaseBlock=Pt.is(i.SyntaxKind.CaseBlock),Pt.isCaseClause=Pt.is(i.SyntaxKind.CaseClause),Pt.isCatchClause=Pt.is(i.SyntaxKind.CatchClause),Pt.isClassDeclaration=Pt.is(i.SyntaxKind.ClassDeclaration),Pt.isClassExpression=Pt.is(i.SyntaxKind.ClassExpression),Pt.isClassStaticBlockDeclaration=Pt.is(i.SyntaxKind.ClassStaticBlockDeclaration),Pt.isCommaListExpression=Pt.is(i.SyntaxKind.CommaListExpression),Pt.isComputedPropertyName=Pt.is(i.SyntaxKind.ComputedPropertyName),Pt.isConditionalExpression=Pt.is(i.SyntaxKind.ConditionalExpression),Pt.isContinueStatement=Pt.is(i.SyntaxKind.ContinueStatement),Pt.isDebuggerStatement=Pt.is(i.SyntaxKind.DebuggerStatement),Pt.isDecorator=Pt.is(i.SyntaxKind.Decorator),Pt.isDefaultClause=Pt.is(i.SyntaxKind.DefaultClause),Pt.isDeleteExpression=Pt.is(i.SyntaxKind.DeleteExpression),Pt.isDoStatement=Pt.is(i.SyntaxKind.DoStatement),Pt.isElementAccessExpression=Pt.is(i.SyntaxKind.ElementAccessExpression),Pt.isEmptyStatement=Pt.is(i.SyntaxKind.EmptyStatement),Pt.isEnumDeclaration=Pt.is(i.SyntaxKind.EnumDeclaration),Pt.isEnumMember=Pt.is(i.SyntaxKind.EnumMember),Pt.isExportAssignment=Pt.is(i.SyntaxKind.ExportAssignment),Pt.isExportDeclaration=Pt.is(i.SyntaxKind.ExportDeclaration),Pt.isExportSpecifier=Pt.is(i.SyntaxKind.ExportSpecifier),Pt.isExpressionStatement=Pt.is(i.SyntaxKind.ExpressionStatement),Pt.isExpressionWithTypeArguments=Pt.is(i.SyntaxKind.ExpressionWithTypeArguments),Pt.isExternalModuleReference=Pt.is(i.SyntaxKind.ExternalModuleReference),Pt.isForInStatement=Pt.is(i.SyntaxKind.ForInStatement),Pt.isForOfStatement=Pt.is(i.SyntaxKind.ForOfStatement),Pt.isForStatement=Pt.is(i.SyntaxKind.ForStatement),Pt.isFunctionDeclaration=Pt.is(i.SyntaxKind.FunctionDeclaration),Pt.isFunctionExpression=Pt.is(i.SyntaxKind.FunctionExpression),Pt.isHeritageClause=Pt.is(i.SyntaxKind.HeritageClause),Pt.isIdentifier=Pt.is(i.SyntaxKind.Identifier),Pt.isIfStatement=Pt.is(i.SyntaxKind.IfStatement),Pt.isImportClause=Pt.is(i.SyntaxKind.ImportClause),Pt.isImportDeclaration=Pt.is(i.SyntaxKind.ImportDeclaration),Pt.isImportEqualsDeclaration=Pt.is(i.SyntaxKind.ImportEqualsDeclaration),Pt.isImportSpecifier=Pt.is(i.SyntaxKind.ImportSpecifier),Pt.isInferKeyword=Pt.is(i.SyntaxKind.InferKeyword),Pt.isInterfaceDeclaration=Pt.is(i.SyntaxKind.InterfaceDeclaration),Pt.isJSDocAugmentsTag=Pt.is(i.SyntaxKind.JSDocAugmentsTag),Pt.isJSDocAuthorTag=Pt.is(i.SyntaxKind.JSDocAuthorTag),Pt.isJSDocCallbackTag=Pt.is(i.SyntaxKind.JSDocCallbackTag),Pt.isJSDocClassTag=Pt.is(i.SyntaxKind.JSDocClassTag),Pt.isJSDocDeprecatedTag=Pt.is(i.SyntaxKind.JSDocDeprecatedTag),Pt.isJSDocEnumTag=Pt.is(i.SyntaxKind.JSDocEnumTag),Pt.isJSDocFunctionType=Pt.is(i.SyntaxKind.JSDocFunctionType),Pt.isJSDocImplementsTag=Pt.is(i.SyntaxKind.JSDocImplementsTag),Pt.isJSDocLink=Pt.is(i.SyntaxKind.JSDocLink),Pt.isJSDocLinkCode=Pt.is(i.SyntaxKind.JSDocLinkCode),Pt.isJSDocLinkPlain=Pt.is(i.SyntaxKind.JSDocLinkPlain),Pt.isJSDocMemberName=Pt.is(i.SyntaxKind.JSDocMemberName),Pt.isJSDocOverrideTag=Pt.is(i.SyntaxKind.JSDocOverrideTag),Pt.isJSDocParameterTag=Pt.is(i.SyntaxKind.JSDocParameterTag),Pt.isJSDocPrivateTag=Pt.is(i.SyntaxKind.JSDocPrivateTag),Pt.isJSDocPropertyTag=Pt.is(i.SyntaxKind.JSDocPropertyTag),Pt.isJSDocProtectedTag=Pt.is(i.SyntaxKind.JSDocProtectedTag),Pt.isJSDocPublicTag=Pt.is(i.SyntaxKind.JSDocPublicTag),Pt.isJSDocReadonlyTag=Pt.is(i.SyntaxKind.JSDocReadonlyTag),Pt.isJSDocReturnTag=Pt.is(i.SyntaxKind.JSDocReturnTag),Pt.isJSDocSeeTag=Pt.is(i.SyntaxKind.JSDocSeeTag),Pt.isJSDocSignature=Pt.is(i.SyntaxKind.JSDocSignature),Pt.isJSDocTemplateTag=Pt.is(i.SyntaxKind.JSDocTemplateTag),Pt.isJSDocText=Pt.is(i.SyntaxKind.JSDocText),Pt.isJSDocThisTag=Pt.is(i.SyntaxKind.JSDocThisTag),Pt.isJSDocTypeExpression=Pt.is(i.SyntaxKind.JSDocTypeExpression),Pt.isJSDocTypeTag=Pt.is(i.SyntaxKind.JSDocTypeTag),Pt.isJSDocTypedefTag=Pt.is(i.SyntaxKind.JSDocTypedefTag),Pt.isJsxAttribute=Pt.is(i.SyntaxKind.JsxAttribute),Pt.isJsxClosingElement=Pt.is(i.SyntaxKind.JsxClosingElement),Pt.isJsxClosingFragment=Pt.is(i.SyntaxKind.JsxClosingFragment),Pt.isJsxElement=Pt.is(i.SyntaxKind.JsxElement),Pt.isJsxExpression=Pt.is(i.SyntaxKind.JsxExpression),Pt.isJsxFragment=Pt.is(i.SyntaxKind.JsxFragment),Pt.isJsxOpeningElement=Pt.is(i.SyntaxKind.JsxOpeningElement),Pt.isJsxOpeningFragment=Pt.is(i.SyntaxKind.JsxOpeningFragment),Pt.isJsxSelfClosingElement=Pt.is(i.SyntaxKind.JsxSelfClosingElement),Pt.isJsxSpreadAttribute=Pt.is(i.SyntaxKind.JsxSpreadAttribute),Pt.isJsxText=Pt.is(i.SyntaxKind.JsxText),Pt.isLabeledStatement=Pt.is(i.SyntaxKind.LabeledStatement),Pt.isMetaProperty=Pt.is(i.SyntaxKind.MetaProperty),Pt.isMethodDeclaration=Pt.is(i.SyntaxKind.MethodDeclaration),Pt.isMethodSignature=Pt.is(i.SyntaxKind.MethodSignature),Pt.isModuleBlock=Pt.is(i.SyntaxKind.ModuleBlock),Pt.isModuleDeclaration=Pt.is(i.SyntaxKind.ModuleDeclaration),Pt.isNamedExports=Pt.is(i.SyntaxKind.NamedExports),Pt.isNamedImports=Pt.is(i.SyntaxKind.NamedImports),Pt.isNamedTupleMember=Pt.is(i.SyntaxKind.NamedTupleMember),Pt.isNamespaceExport=Pt.is(i.SyntaxKind.NamespaceExport),Pt.isNamespaceImport=Pt.is(i.SyntaxKind.NamespaceImport),Pt.isNeverKeyword=Pt.is(i.SyntaxKind.NeverKeyword),Pt.isNewExpression=Pt.is(i.SyntaxKind.NewExpression),Pt.isNoSubstitutionTemplateLiteral=Pt.is(i.SyntaxKind.NoSubstitutionTemplateLiteral),Pt.isNonNullExpression=Pt.is(i.SyntaxKind.NonNullExpression),Pt.isNotEmittedStatement=Pt.is(i.SyntaxKind.NotEmittedStatement),Pt.isNumberKeyword=Pt.is(i.SyntaxKind.NumberKeyword),Pt.isNumericLiteral=Pt.is(i.SyntaxKind.NumericLiteral),Pt.isObjectBindingPattern=Pt.is(i.SyntaxKind.ObjectBindingPattern),Pt.isObjectKeyword=Pt.is(i.SyntaxKind.ObjectKeyword),Pt.isObjectLiteralExpression=Pt.is(i.SyntaxKind.ObjectLiteralExpression),Pt.isOmittedExpression=Pt.is(i.SyntaxKind.OmittedExpression),Pt.isParenthesizedExpression=Pt.is(i.SyntaxKind.ParenthesizedExpression),Pt.isPartiallyEmittedExpression=Pt.is(i.SyntaxKind.PartiallyEmittedExpression),Pt.isPostfixUnaryExpression=Pt.is(i.SyntaxKind.PostfixUnaryExpression),Pt.isPrefixUnaryExpression=Pt.is(i.SyntaxKind.PrefixUnaryExpression),Pt.isPrivateIdentifier=Pt.is(i.SyntaxKind.PrivateIdentifier),Pt.isPropertyAccessExpression=Pt.is(i.SyntaxKind.PropertyAccessExpression),Pt.isPropertyAssignment=Pt.is(i.SyntaxKind.PropertyAssignment),Pt.isPropertyDeclaration=Pt.is(i.SyntaxKind.PropertyDeclaration),Pt.isPropertySignature=Pt.is(i.SyntaxKind.PropertySignature),Pt.isQualifiedName=Pt.is(i.SyntaxKind.QualifiedName),Pt.isRegularExpressionLiteral=Pt.is(i.SyntaxKind.RegularExpressionLiteral),Pt.isReturnStatement=Pt.is(i.SyntaxKind.ReturnStatement),Pt.isSemicolonToken=Pt.is(i.SyntaxKind.SemicolonToken),Pt.isShorthandPropertyAssignment=Pt.is(i.SyntaxKind.ShorthandPropertyAssignment),Pt.isSourceFile=Pt.is(i.SyntaxKind.SourceFile),Pt.isSpreadAssignment=Pt.is(i.SyntaxKind.SpreadAssignment),Pt.isSpreadElement=Pt.is(i.SyntaxKind.SpreadElement),Pt.isStringKeyword=Pt.is(i.SyntaxKind.StringKeyword),Pt.isStringLiteral=Pt.is(i.SyntaxKind.StringLiteral),Pt.isSwitchStatement=Pt.is(i.SyntaxKind.SwitchStatement),Pt.isSymbolKeyword=Pt.is(i.SyntaxKind.SymbolKeyword),Pt.isSyntaxList=Pt.is(i.SyntaxKind.SyntaxList),Pt.isTaggedTemplateExpression=Pt.is(i.SyntaxKind.TaggedTemplateExpression),Pt.isTemplateExpression=Pt.is(i.SyntaxKind.TemplateExpression),Pt.isTemplateHead=Pt.is(i.SyntaxKind.TemplateHead),Pt.isTemplateMiddle=Pt.is(i.SyntaxKind.TemplateMiddle),Pt.isTemplateSpan=Pt.is(i.SyntaxKind.TemplateSpan),Pt.isTemplateTail=Pt.is(i.SyntaxKind.TemplateTail),Pt.isThrowStatement=Pt.is(i.SyntaxKind.ThrowStatement),Pt.isTryStatement=Pt.is(i.SyntaxKind.TryStatement),Pt.isTypeAliasDeclaration=Pt.is(i.SyntaxKind.TypeAliasDeclaration),Pt.isTypeOfExpression=Pt.is(i.SyntaxKind.TypeOfExpression),Pt.isUndefinedKeyword=Pt.is(i.SyntaxKind.UndefinedKeyword),Pt.isVariableDeclaration=Pt.is(i.SyntaxKind.VariableDeclaration),Pt.isVariableDeclarationList=Pt.is(i.SyntaxKind.VariableDeclarationList),Pt.isVariableStatement=Pt.is(i.SyntaxKind.VariableStatement),Pt.isVoidExpression=Pt.is(i.SyntaxKind.VoidExpression),Pt.isWhileStatement=Pt.is(i.SyntaxKind.WhileStatement),Pt.isWithStatement=Pt.is(i.SyntaxKind.WithStatement),Pt.isYieldExpression=Pt.is(i.SyntaxKind.YieldExpression),t.sXi=void 0,(Lt=t.sXi||(t.sXi={})).Public="public",Lt.Protected="protected",Lt.Private="private";class Mt extends Pt{addChildText(e){return this.insertChildText(this.getChildCount(),e)}insertChildText(e,t){const r=this.getChildCount(),i=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow();e=le(e,r);const s=this!==n.getChildSyntaxList();let o=_(s?n._getWriterWithQueuedChildIndentation():n._getWriterWithChildIndentation(),t);if(0===o.length)return[];s?0===e?o+=" ":o=" "+o:0===e&&Pt.isSourceFile(n)?o.endsWith("\n")||(o+=i):(o=i+o,!Pt.isSourceFile(n)&&e===r&&o.endsWith("\n")&&(o=o.replace(/\r?\n$/,"")));tt({insertPos:ee(e,this,this.getChildren()),newText:o,parent:this});return ie(r,this.getChildren(),e,!0)}}function Wt(e,t,r){if(i.errors.throwIfWhitespaceOrNotString(t,"newName"),e.getText()===t)return;const n=e._context.languageService.findRenameLocations(e,r),s=new i.KeyValueCache;for(const i of n){s.getOrCreate(i.getSourceFile(),(()=>[])).push(i)}for(const[i,o]of s.getEntries())ft({sourceFile:i,renameLocations:o,newName:t})}function zt(e,t){const r=Ft(e._getWriterWithIndentation(),t),n=e.getFirstChildByKindOrThrow(i.SyntaxKind.OpenBraceToken),s=e.getFirstChildByKindOrThrow(i.SyntaxKind.CloseBraceToken);tt({insertPos:n.getEnd(),newText:r,parent:e,replacing:{textLength:s.getStart()-n.getEnd()}})}function Bt(e){return class extends e{getBody(){const e=this.compilerNode.body;if(null==e)throw new i.errors.InvalidOperationError("Bodied node should have a body.");return this._getNodeFromCompilerNode(e)}setBodyText(e){return zt(this.getBody(),e),this}getBodyText(){return Ct(this.getBody())}}}function jt(e){return class extends e{getBodyOrThrow(){return i.errors.throwIfNullOrUndefined(this.getBody(),"Expected to find the node's body.")}getBody(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.body)}getBodyText(){const e=this.getBody();return null==e?void 0:Ct(e)}setBodyText(e){return this.addBody(),zt(this.getBodyOrThrow(),e),this}hasBody(){return null!=this.compilerNode.body}addBody(){var e;if(this.hasBody())return this;const t=this.getLastChildByKind(i.SyntaxKind.SemicolonToken);return tt({parent:this,insertPos:null==t?this.getEnd():t.getStart(),newText:this._getWriterWithQueuedIndentation().space().block().toString(),replacing:{textLength:null!==(e=null===t||void 0===t?void 0:t.getFullWidth())&&void 0!==e?e:0}}),this}removeBody(){const e=this.getBody();return null==e||tt({parent:this,insertPos:e.getPos(),newText:";",replacing:{textLength:e.getFullWidth()}}),this}}}function Ut(e){return class extends e{setOrder(e){const t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentSyntaxListOrThrow();return i.errors.throwIfOutOfRange(e,[0,r.getChildCount()-1],"order"),t===e||function(e){const{parent:t}=e;et(t._sourceFile,new Ue(e),(new Be).getForChangingChildOrder(e))}({parent:r,getSiblingFormatting:U,oldIndex:t,newIndex:e}),this}}}function Rt(e){return class extends e{getDecorator(e){return p(this.getDecorators(),e)}getDecoratorOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getDecorator(e),(()=>m("decorator",e)))}getDecorators(){var e,t;return null!==(t=null===(e=this.compilerNode.decorators)||void 0===e?void 0:e.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==t?t:[]}addDecorator(e){return this.insertDecorator(Q(this.compilerNode.decorators),e)}addDecorators(e){return this.insertDecorators(Q(this.compilerNode.decorators),e)}insertDecorator(e,t){return this.insertDecorators(e,[t])[0]}insertDecorators(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=function(e,t){const r=[];for(const i of t){const t=e._getWriter();e._context.structurePrinterFactory.forDecorator().printText(t,i),r.push(t.toString())}return r}(this,t),n=this.getDecorators();e=le(e,n.length);const s=function(e,t){if(t.length<=1)return e.getKind()===i.SyntaxKind.Parameter;const r=t[0].getStartLinePos();for(let i=1;i<t.length;i++)if(t[i].getStartLinePos()!==r)return!1;return!0}(this,n)?M.Space:M.Newline;const o=n[e-1],a=J({structures:t,newCodes:r,parent:this,indentationText:this.getIndentationText(),getSeparator:()=>s,previousFormattingKind:null==o?M.None:s,nextFormattingKind:null==o?s:M.None});return tt({parent:0===n.length?this:n[0].getParentSyntaxListOrThrow(),insertPos:null==n[e-1]?this.getStart():n[e-1].getEnd(),newText:a}),ie(n,this.getDecorators(),e,!1)}set(t){return L(e.prototype,this,t),null!=t.decorators&&(this.getDecorators().forEach((e=>e.remove())),this.addDecorators(t.decorators)),this}getStructure(){return A(e.prototype,this,{decorators:this.getDecorators().map((e=>e.getStructure()))})}}}function Jt(e){return class extends e{getDotDotDotTokenOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDotDotDotToken(),"Expected to find a dot dot dot token (...).")}getDotDotDotToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.dotDotDotToken)}}}function Vt(e){return class extends e{hasExclamationToken(){return null!=this.compilerNode.exclamationToken}getExclamationTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.exclamationToken)}getExclamationTokenNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getExclamationTokenNode(),"Expected to find an exclamation token.")}setHasExclamationToken(e){const t=this.getExclamationTokenNode();if(e===(null!=t))return this;if(e){Pt.isQuestionTokenableNode(this)&&this.setHasQuestionToken(!1);const e=this.getFirstChildByKind(i.SyntaxKind.ColonToken);if(null==e)throw new i.errors.InvalidOperationError("Cannot add an exclamation token to a node that does not have a type.");tt({insertPos:e.getStart(),parent:this,newText:"!"})}else at({children:[t]});return this}set(t){return L(e.prototype,this,t),null!=t.hasExclamationToken&&this.setHasExclamationToken(t.hasExclamationToken),this}getStructure(){return A(e.prototype,this,{hasExclamationToken:this.hasExclamationToken()})}}}function $t(e){return class extends e{getModifiers(){return this.getCompilerModifiers().map((e=>this._getNodeFromCompilerNode(e)))}getFirstModifierByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFirstModifierByKind(e),`Expected a modifier of syntax kind: ${i.getSyntaxKindName(e)}`)}getFirstModifierByKind(e){for(const t of this.getCompilerModifiers())if(t.kind===e)return this._getNodeFromCompilerNode(t)}hasModifier(e){return"string"===typeof e?this.getModifiers().some((t=>t.getText()===e)):this.getCompilerModifiers().some((t=>t.kind===e))}toggleModifier(e,t){return null==t&&(t=!this.hasModifier(e)),t?this.addModifier(e):this.removeModifier(e),this}addModifier(e){const t=this.getModifiers(),r=t.find((t=>t.getText()===e));if(null!=r)return r;const n=function(r){let n=function(){if(t.length>0)return t[0].getStart();for(const e of r._getChildrenIterator())if(e.getKind()!==i.SyntaxKind.SyntaxList&&!i.ts.isJSDocCommentContainingNode(e.compilerNode))return e.getStart();return r.getStart()}();for(const s of function(e){switch(e){case"export":return[];case"public":case"protected":case"private":return[];case"default":case"const":return["export"];case"declare":return["export","default"];case"static":return["public","protected","private"];case"override":return["public","private","protected","static"];case"abstract":return["export","default","declare","public","private","protected","static","override"];case"async":case"readonly":return["export","default","declare","public","private","protected","static","override","abstract"];default:i.errors.throwNotImplementedForNeverValueError(e)}}(e))for(let e=0;e<t.length;e++){const r=t[e];if(r.getText()===s){n<r.getEnd()&&(n=r.getEnd());break}}return n}(this);let s,o;return 0===t.length||n===t[0].getStart()?(o=e+" ",s=n):(o=" "+e,s=n+1),tt({parent:0===t.length?this:t[0].getParentSyntaxListOrThrow(),insertPos:n,newText:o}),this.getModifiers().find((e=>e.getStart()===s))}removeModifier(e){const t=this.getModifiers(),r=t.find((t=>t.getText()===e));return null!=r&&(at({children:[1===t.length?r.getParentSyntaxListOrThrow():r],removeFollowingSpaces:!0}),!0)}getCompilerModifiers(){return this.compilerNode.modifiers||[]}}}function Qt(e){return class extends e{hasExportKeyword(){return null!=this.getExportKeyword()}getExportKeyword(){if(Pt.isVariableDeclaration(this)){const e=this.getVariableStatement();return null===e||void 0===e?void 0:e.getExportKeyword()}return Pt.isModifierableNode(this)?this.getFirstModifierByKind(i.SyntaxKind.ExportKeyword):Gt()}getExportKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getExportKeyword(),"Expected to find an export keyword.")}hasDefaultKeyword(){return null!=this.getDefaultKeyword()}getDefaultKeyword(){if(Pt.isVariableDeclaration(this)){const e=this.getVariableStatement();return null===e||void 0===e?void 0:e.getDefaultKeyword()}return Pt.isModifierableNode(this)?this.getFirstModifierByKind(i.SyntaxKind.DefaultKeyword):Gt()}getDefaultKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefaultKeyword(),"Expected to find a default keyword.")}isExported(){if(this.hasExportKeyword())return!0;const e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&t.getExports().some((t=>t===e||t.getAliasedSymbol()===e))}isDefaultExport(){if(this.hasDefaultKeyword())return!0;const e=this.getSymbol();if(null==e)return!1;const t=this.getSourceFile().getDefaultExportSymbol();if(null==t)return!1;if(e===t)return!0;return e===t.getAliasedSymbol()}isNamedExport(){const e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&(!function(){const r=t.getExport("default");return null!=r&&(e===r||e===r.getAliasedSymbol())}()&&t.getExports().some((t=>t===e||t.getAliasedSymbol()===e)))}}}function Gt(){throw new i.errors.NotImplementedError("Not implemented situation where node was not a ModifierableNode.")}function qt(e){return function(e){return class extends e{setIsDefaultExport(e){if(e===this.isDefaultExport())return this;if(e&&!Pt.isSourceFile(this.getParentOrThrow()))throw new i.errors.InvalidOperationError("The parent must be a source file in order to set this node as a default export.");const t=this.getSourceFile(),r=t.getDefaultExportSymbol();if(null!=r&&t.removeDefaultExport(r),!e)return this;if(Pt.hasName(this)&&n.call(this)){const e=this.getFirstAncestorByKindOrThrow(i.SyntaxKind.SyntaxList),t=this.getName();e.insertChildText(this.getChildIndex()+1,(e=>{e.newLine().write(`export default ${t};`)}))}else this.addModifier("export"),this.addModifier("default");return this;function n(){return!!(Pt.isEnumDeclaration(this)||Pt.isModuleDeclaration(this)||Pt.isTypeAliasDeclaration(this))||!(!Pt.isAmbientableNode(this)||!this.isAmbient())}}setIsExported(e){return Pt.isSourceFile(this.getParentOrThrow())&&this.toggleModifier("default",!1),this.toggleModifier("export",e),this}set(t){return L(e.prototype,this,t),null!=t.isExported&&this.setIsExported(t.isExported),null!=t.isDefaultExport&&this.setIsDefaultExport(t.isDefaultExport),this}getStructure(){return A(e.prototype,this,{isExported:this.hasExportKeyword(),isDefaultExport:this.hasDefaultKeyword()})}}}(Qt(e))}class Ht{printTextOrWriterFunc(e,t){"string"===typeof t?e.write(t):null!=t&&t(e)}getNewWriter(e){return new s.default(e.getOptions())}getNewWriterWithQueuedChildIndentation(e){const t=new s.default(e.getOptions());return t.queueIndentationLevel(1),t}getText(e,t){const r=this.getNewWriter(e);return this.printTextOrWriterFunc(r,t),r.toString()}getTextWithQueuedChildIndentation(e,t){const r=this.getNewWriterWithQueuedChildIndentation(e);return this.printTextOrWriterFunc(r,t),r.toString()}}class Xt extends Ht{printText(e,t){const{initializer:r}=t;if(null==r)return;const n=this.getText(e,r);i.StringUtils.isNullOrWhitespace(n)||e.hangingIndent((()=>{e.spaceIfLastNot(),e.write(`= ${n}`)}))}}class Zt extends Ht{printText(e,t){const r=t.scope;t.isDefaultExport?e.write("export default "):t.isExported&&e.write("export "),t.hasDeclareKeyword&&e.write("declare "),null!=r&&e.write(`${r} `),t.isStatic&&e.write("static "),t.hasOverrideKeyword&&e.write("override "),t.isAbstract&&e.write("abstract "),t.isAsync&&e.write("async "),t.isReadonly&&e.write("readonly ")}}class Yt extends Ht{constructor(e=!1){super(),this.alwaysWrite=e}printText(e,t){let{returnType:r}=t;if(null==r&&!1===this.alwaysWrite)return;r=null!==r&&void 0!==r?r:"void";const n=this.getText(e,r);i.StringUtils.isNullOrWhitespace(n)||e.hangingIndent((()=>{e.write(`: ${n}`)}))}}class er extends Ht{constructor(e,t=!1){super(),this.separator=e,this.alwaysWrite=t}printText(e,t){let{type:r}=t;if(null==r&&!1===this.alwaysWrite)return;r=null!==r&&void 0!==r?r:"any";const n=this.getText(e,r);i.StringUtils.isNullOrWhitespace(n)||e.hangingIndent((()=>{e.write(`${this.separator} ${n}`)}))}}class tr extends Ht{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalBlankLine(r>0),this.printer.printText(e,t[r])}}class rr extends Ht{constructor(e){super(),this.printer=e}printText(e,t){ir(this.printer,e,t,(()=>e.spaceIfLastNot()))}}function ir(e,t,r,i){if(null!=r)if(r instanceof Function||"string"===typeof r)e.printText(t,r);else{const n=new Array(r.length);for(let o=0;o<r.length;o++){o>0&&i();const s=r[o],a=t.getLength();e.printText(t,s);const l=$(O.getLastCharactersToPos(t,a));n[o]=-1!==l&&l+a}let s=!1;for(let e=n.length-1;e>=0;e--){const r=n[e];!1!==r&&(s?t.unsafeInsert(r,","):s=!0)}}}class nr extends Ht{constructor(e){super(),this.printer=e}printText(e,t){ir(this.printer,e,t,(()=>e.newLineIfLastNot()))}}class sr extends Ht{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalNewLine(r>0),this.printer.printText(e,t[r])}}class or extends Ht{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalWrite(r>0," "),this.printer.printText(e,t[r])}}class ar extends Ht{constructor(e){super(),this.factory=e}printTextWithoutTrivia(e,t){this.printTextInternal(e,t)}printText(e,t){this.printLeadingTrivia(e,t),e.closeComment(),this.printTextInternal(e,t),this.printTrailingTrivia(e,t)}printLeadingTrivia(e,t){const r=t.leadingTrivia;null!=r&&(this.printTrivia(e,r),e.isInComment()&&e.closeComment())}printTrailingTrivia(e,t){const r=t.trailingTrivia;null!=r&&this.printTrivia(e,r)}printTrivia(e,t){if(t instanceof Array)for(let r=0;r<t.length;r++)this.printTextOrWriterFunc(e,t[r]),r!==t.length-1&&e.newLineIfLastNot();else this.printTextOrWriterFunc(e,t)}}class lr extends ar{constructor(e,t){super(e),this.options=t,this.multipleWriter=new tr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){const r=t.hasDeclareKeyword||this.options.isAmbient;this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.printHeader(e,t),e.inlineBlock((()=>{this.factory.forPropertyDeclaration().printTexts(e,t.properties),this.printCtors(e,t,r),this.printGetAndSet(e,t,r),i.ArrayUtils.isNullOrEmpty(t.methods)||(this.conditionalSeparator(e,r),this.factory.forMethodDeclaration({isAmbient:r}).printTexts(e,t.methods))}))}printHeader(e,t){this.factory.forModifierableNode().printText(e,t),e.write("class"),i.StringUtils.isNullOrWhitespace(t.name)||e.space().write(t.name),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),e.hangingIndent((()=>{if(null!=t.extends){const r=this.getText(e,t.extends);i.StringUtils.isNullOrWhitespace(r)||e.write(`extends ${r} `)}if(null!=t.implements){const r=t.implements instanceof Array?t.implements.map((t=>this.getText(e,t))).join(", "):this.getText(e,t.implements);i.StringUtils.isNullOrWhitespace(r)||e.write(`implements ${r} `)}}))}printCtors(e,t,r){if(!i.ArrayUtils.isNullOrEmpty(t.ctors))for(const i of t.ctors)this.conditionalSeparator(e,r),this.factory.forConstructorDeclaration({isAmbient:r}).printText(e,i)}printGetAndSet(e,t,r){var i,n;const s=[...null!==(i=t.getAccessors)&&void 0!==i?i:[]],o=[...null!==(n=t.setAccessors)&&void 0!==n?n:[]],a=this.factory.forGetAccessorDeclaration({isAmbient:r}),l=this.factory.forSetAccessorDeclaration({isAmbient:r});for(const c of s){this.conditionalSeparator(e,r),a.printText(e,c);const t=o.findIndex((e=>e.name===c.name));t>=0&&(this.conditionalSeparator(e,r),l.printText(e,o[t]),o.splice(t,1))}for(const c of o)this.conditionalSeparator(e,r),l.printText(e,c)}conditionalSeparator(e,t){e.isAtStartOfFirstLineOfBlock()||(t?e.newLine():e.blankLine())}}t.z_b=void 0,(kt=t.z_b||(t.z_b={}))[kt.CallSignature=0]="CallSignature",kt[kt.Class=1]="Class",kt[kt.ClassStaticBlock=2]="ClassStaticBlock",kt[kt.ConstructSignature=3]="ConstructSignature",kt[kt.Constructor=4]="Constructor",kt[kt.ConstructorOverload=5]="ConstructorOverload",kt[kt.Decorator=6]="Decorator",kt[kt.Enum=7]="Enum",kt[kt.EnumMember=8]="EnumMember",kt[kt.ExportAssignment=9]="ExportAssignment",kt[kt.ExportDeclaration=10]="ExportDeclaration",kt[kt.ExportSpecifier=11]="ExportSpecifier",kt[kt.Function=12]="Function",kt[kt.FunctionOverload=13]="FunctionOverload",kt[kt.GetAccessor=14]="GetAccessor",kt[kt.ImportDeclaration=15]="ImportDeclaration",kt[kt.ImportSpecifier=16]="ImportSpecifier",kt[kt.IndexSignature=17]="IndexSignature",kt[kt.Interface=18]="Interface",kt[kt.JsxAttribute=19]="JsxAttribute",kt[kt.JsxSpreadAttribute=20]="JsxSpreadAttribute",kt[kt.JsxElement=21]="JsxElement",kt[kt.JsxSelfClosingElement=22]="JsxSelfClosingElement",kt[kt.JSDoc=23]="JSDoc",kt[kt.JSDocTag=24]="JSDocTag",kt[kt.Method=25]="Method",kt[kt.MethodOverload=26]="MethodOverload",kt[kt.MethodSignature=27]="MethodSignature",kt[kt.Module=28]="Module",kt[kt.Parameter=29]="Parameter",kt[kt.Property=30]="Property",kt[kt.PropertyAssignment=31]="PropertyAssignment",kt[kt.PropertySignature=32]="PropertySignature",kt[kt.SetAccessor=33]="SetAccessor",kt[kt.ShorthandPropertyAssignment=34]="ShorthandPropertyAssignment",kt[kt.SourceFile=35]="SourceFile",kt[kt.SpreadAssignment=36]="SpreadAssignment",kt[kt.TypeAlias=37]="TypeAlias",kt[kt.TypeParameter=38]="TypeParameter",kt[kt.VariableDeclaration=39]="VariableDeclaration",kt[kt.VariableStatement=40]="VariableStatement";const cr={hasName:e=>"string"===typeof e.name,isCallSignature:e=>e.kind===t.z_b.CallSignature,isJSDocable(e){switch(e.kind){case t.z_b.CallSignature:case t.z_b.Class:case t.z_b.ClassStaticBlock:case t.z_b.ConstructSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.Enum:case t.z_b.EnumMember:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.IndexSignature:case t.z_b.Interface:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.Module:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.SetAccessor:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isSignatured(e){switch(e.kind){case t.z_b.CallSignature:case t.z_b.ConstructSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isParametered(e){switch(e.kind){case t.z_b.CallSignature:case t.z_b.ConstructSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isReturnTyped(e){switch(e.kind){case t.z_b.CallSignature:case t.z_b.ConstructSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.IndexSignature:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isTypeParametered(e){switch(e.kind){case t.z_b.CallSignature:case t.z_b.Class:case t.z_b.ConstructSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Interface:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:case t.z_b.TypeAlias:return!0;default:return!1}},isClass:e=>e.kind===t.z_b.Class,isClassLikeDeclarationBase:e=>e.kind===t.z_b.Class,isNameable(e){switch(e.kind){case t.z_b.Class:case t.z_b.Function:return!0;default:return!1}},isImplementsClauseable:e=>e.kind===t.z_b.Class,isDecoratable(e){switch(e.kind){case t.z_b.Class:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isAbstractable(e){switch(e.kind){case t.z_b.Class:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isAmbientable(e){switch(e.kind){case t.z_b.Class:case t.z_b.Enum:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.Interface:case t.z_b.Module:case t.z_b.Property:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isExportable(e){switch(e.kind){case t.z_b.Class:case t.z_b.Enum:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.Interface:case t.z_b.Module:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isClassStaticBlock:e=>e.kind===t.z_b.ClassStaticBlock,isStatemented(e){switch(e.kind){case t.z_b.ClassStaticBlock:case t.z_b.Constructor:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.Module:case t.z_b.SetAccessor:case t.z_b.SourceFile:return!0;default:return!1}},isConstructSignature:e=>e.kind===t.z_b.ConstructSignature,isConstructorDeclarationOverload:e=>e.kind===t.z_b.ConstructorOverload,isScoped(e){switch(e.kind){case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isConstructor:e=>e.kind===t.z_b.Constructor,isFunctionLike(e){switch(e.kind){case t.z_b.Constructor:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.SetAccessor:return!0;default:return!1}},isDecorator:e=>e.kind===t.z_b.Decorator,isEnum:e=>e.kind===t.z_b.Enum,isNamed(e){switch(e.kind){case t.z_b.Enum:case t.z_b.Interface:case t.z_b.JsxAttribute:case t.z_b.ShorthandPropertyAssignment:case t.z_b.TypeAlias:case t.z_b.TypeParameter:return!0;default:return!1}},isEnumMember:e=>e.kind===t.z_b.EnumMember,isPropertyNamed(e){switch(e.kind){case t.z_b.EnumMember:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.PropertyAssignment:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.SetAccessor:return!0;default:return!1}},isInitializerExpressionable(e){switch(e.kind){case t.z_b.EnumMember:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.VariableDeclaration:return!0;default:return!1}},isExportAssignment:e=>e.kind===t.z_b.ExportAssignment,isExportDeclaration:e=>e.kind===t.z_b.ExportDeclaration,isExportSpecifier:e=>e.kind===t.z_b.ExportSpecifier,isFunctionDeclarationOverload:e=>e.kind===t.z_b.FunctionOverload,isAsyncable(e){switch(e.kind){case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.MethodOverload:case t.z_b.Method:return!0;default:return!1}},isGeneratorable(e){switch(e.kind){case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.MethodOverload:case t.z_b.Method:return!0;default:return!1}},isFunction:e=>e.kind===t.z_b.Function,isGetAccessor:e=>e.kind===t.z_b.GetAccessor,isStaticable(e){switch(e.kind){case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isImportDeclaration:e=>e.kind===t.z_b.ImportDeclaration,isImportSpecifier:e=>e.kind===t.z_b.ImportSpecifier,isIndexSignature:e=>e.kind===t.z_b.IndexSignature,isReadonlyable(e){switch(e.kind){case t.z_b.IndexSignature:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:return!0;default:return!1}},isInterface:e=>e.kind===t.z_b.Interface,isExtendsClauseable:e=>e.kind===t.z_b.Interface,isTypeElementMembered:e=>e.kind===t.z_b.Interface,isJSDoc:e=>e.kind===t.z_b.JSDoc,isJSDocTag:e=>e.kind===t.z_b.JSDocTag,isJsxAttribute:e=>e.kind===t.z_b.JsxAttribute,isJsxElement:e=>e.kind===t.z_b.JsxElement,isJsxSelfClosingElement:e=>e.kind===t.z_b.JsxSelfClosingElement,isJsxTagNamed:e=>e.kind===t.z_b.JsxSelfClosingElement,isJsxAttributed:e=>e.kind===t.z_b.JsxSelfClosingElement,isJsxSpreadAttribute:e=>e.kind===t.z_b.JsxSpreadAttribute,isMethodDeclarationOverload:e=>e.kind===t.z_b.MethodOverload,isQuestionTokenable(e){switch(e.kind){case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:return!0;default:return!1}},isOverrideable(e){switch(e.kind){case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Parameter:case t.z_b.Property:return!0;default:return!1}},isMethod:e=>e.kind===t.z_b.Method,isMethodSignature:e=>e.kind===t.z_b.MethodSignature,isModule:e=>e.kind===t.z_b.Module,isModuleNamed:e=>e.kind===t.z_b.Module,isParameter:e=>e.kind===t.z_b.Parameter,isBindingNamed(e){switch(e.kind){case t.z_b.Parameter:case t.z_b.VariableDeclaration:return!0;default:return!1}},isTyped(e){switch(e.kind){case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.TypeAlias:case t.z_b.VariableDeclaration:return!0;default:return!1}},isScopeable:e=>e.kind===t.z_b.Parameter,isPropertyAssignment:e=>e.kind===t.z_b.PropertyAssignment,isProperty:e=>e.kind===t.z_b.Property,isExclamationTokenable(e){switch(e.kind){case t.z_b.Property:case t.z_b.VariableDeclaration:return!0;default:return!1}},isPropertySignature:e=>e.kind===t.z_b.PropertySignature,isSetAccessor:e=>e.kind===t.z_b.SetAccessor,isShorthandPropertyAssignment:e=>e.kind===t.z_b.ShorthandPropertyAssignment,isSourceFile:e=>e.kind===t.z_b.SourceFile,isSpreadAssignment:e=>e.kind===t.z_b.SpreadAssignment,isExpressioned:e=>e.kind===t.z_b.SpreadAssignment,isTypeAlias:e=>e.kind===t.z_b.TypeAlias,isTypeParameter:e=>e.kind===t.z_b.TypeParameter,isVariableDeclaration:e=>e.kind===t.z_b.VariableDeclaration,isVariableStatement:e=>e.kind===t.z_b.VariableStatement};function dr(e,r){return xr(e.docs,r,t.z_b.JSDoc)}function ur(e,r){return function(e,r){return yr(e.parameters,r,t.z_b.Parameter)}(e,r)}function hr(e,r){return xr(e.typeParameters,r,t.z_b.TypeParameter)}function pr(e,r){return yr(e.decorators,r,t.z_b.Decorator)}function gr(e,t){return fr(e.statements,t)}function mr(e,t){return ur(e,t)||hr(e,t)||dr(e,t)||gr(e,t)}function yr(e,t,r){if(null!=e)for(const i of e){const e=t(Sr(i,r));if(e)return e}}function xr(e,t,r){if(null!=e&&e instanceof Array)for(const i of e)if(Tr(i)){const e=t(Sr(i,r));if(e)return e}}function fr(e,t){if(null!=e&&e instanceof Array)for(const r of e)if(Tr(r)){const e=t(r);if(e)return e}}function Sr(e,t){return null==e.kind&&(e.kind=t),e}function Tr(e){return null!=e&&"number"===typeof e.kind}function Nr(e){return e.iterateLastCharCodes((e=>e===h||!!i.StringUtils.isWhitespaceCharCode(e)&&void 0))||!1}class br extends Ht{constructor(e,t){super(),this.factory=e,this.options=t}printTexts(e,t){if(null!=t)if("string"===typeof t||t instanceof Function)this.printText(e,t);else for(const r of t)Nr(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"===typeof r||r instanceof Function||null==r)this.printTextOrWriterFunc(e,r);else switch(r.kind){case t.z_b.Method:this.options.isAmbient||n(),this.factory.forMethodDeclaration(this.options).printText(e,r);break;case t.z_b.Property:this.factory.forPropertyDeclaration().printText(e,r);break;case t.z_b.GetAccessor:this.options.isAmbient||n(),this.factory.forGetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.SetAccessor:this.options.isAmbient||n(),this.factory.forSetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.Constructor:this.options.isAmbient||n(),this.factory.forConstructorDeclaration(this.options).printText(e,r);break;case t.z_b.ClassStaticBlock:n(),this.factory.forClassStaticBlockDeclaration().printText(e,r);break;default:i.errors.throwNotImplementedForNeverValueError(r)}function n(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}class Kr extends ar{constructor(e){super(e)}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&e.blankLine(),this.printText(e,t[r])}printTextInternal(e,t){e.write("static"),e.space().inlineBlock((()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)}))}}class wr extends ar{constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.options.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.printOverloads(e,function(){const e=i.ObjectUtils.clone(t.overloads);if(null==e||0===e.length)return;for(const r of e)F(r,"scope",t.scope);return e}()),this.printHeader(e,t),this.options.isAmbient?e.write(";"):e.space().inlineBlock((()=>{this.factory.forStatementedNode(this.options).printText(e,t)}))}printOverloads(e,t){if(null!=t&&0!==t.length)for(const r of t)this.printOverload(e,r),e.newLine()}printOverload(e,t){this.printHeader(e,t),e.write(";")}printHeader(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write("constructor"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters)}}class Fr extends ar{constructor(e,t){super(e),this.options=t,this.blankLineWriter=new tr(this)}printTexts(e,t){this.blankLineWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`get ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock((()=>{this.factory.forStatementedNode(this.options).printText(e,t)}))}}class Cr extends ar{constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.options.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.printOverloads(e,t.name,function(){const e=i.ObjectUtils.clone(t.overloads);if(null==e||0===e.length)return;for(const r of e)F(r,"scope",t.scope),F(r,"isStatic",t.isStatic),F(r,"isAbstract",t.isAbstract),F(r,"hasQuestionToken",t.hasQuestionToken);return e}()),this.printHeader(e,t.name,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock((()=>{this.factory.forStatementedNode(this.options).printText(e,t)}))}printOverloads(e,t,r){if(null!=r&&0!==r.length)for(const i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printHeader(e,t,r),e.write(";")}printHeader(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),null!=r.decorators&&this.factory.forDecorator().printTexts(e,r.decorators),this.factory.forModifierableNode().printText(e,r),e.write(t),e.conditionalWrite(r.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class _r extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),e.conditionalWrite(t.hasExclamationToken&&!t.hasQuestionToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class Ir extends ar{constructor(e,t){super(e),this.options=t,this.multipleWriter=new tr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`set ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock((()=>{this.factory.forStatementedNode(this.options).printText(e,t)}))}}class Pr extends Ht{printText(e,t){"string"===typeof t?e.write(t):t(e)}}class vr extends ar{printTexts(e,t){this.printMultiple(e,t,(()=>e.newLine()))}printTextsInline(e,t){this.printMultiple(e,t,(()=>e.space()))}printTextInternal(e,t){e.write(`@${t.name}`),this.printTypeArguments(e,t),this.printArguments(e,t)}printTypeArguments(e,t){if(null!=t.typeArguments&&0!==t.typeArguments.length){e.write("<");for(let r=0;r<t.typeArguments.length;r++)e.conditionalWrite(r>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,t.typeArguments[r]));e.write(">")}}printArguments(e,t){if(null==t.arguments)return;e.write("(");const r=t.arguments instanceof Array?t.arguments:[t.arguments];for(let i=0;i<r.length;i++)e.conditionalWrite(i>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,r[i]));e.write(")")}printMultiple(e,t,r){if(null!=t&&0!==t.length)for(const i of t)this.printText(e,i),r()}}class Er extends ar{printDocs(e,t){if(null!=t)for(const r of t)this.printText(e,r),e.newLine()}printTextInternal(e,t){const r=function(r){if("string"===typeof t)return t;const i=r.getNewWriter(e);"function"===typeof t?t(i):(t.description&&I(i,t.description),t.tags&&t.tags.length>0&&(i.getLength()>0&&i.newLine(),r.factory.forJSDocTag({printStarsOnNewLine:!1}).printTexts(i,t.tags)));return i.toString()}(this).split(/\r?\n/),i=0===r[0].length,n=r.length<=1,s=i?1:0;if(e.write("/**"),n?e.space():e.newLine(),n)e.write(r[s]);else for(let o=s;o<r.length;o++)e.write(" *"),r[o].length>0&&e.write(` ${r[o]}`),e.newLine();e.spaceIfLastNot(),e.write("*/")}}class Dr extends ar{constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(e.newLine(),e.conditionalWrite(this.options.printStarsOnNewLine," * ")),this.printText(e,t[r])}printTextInternal(e,t){const r=function(r){if("string"===typeof t)return t;const n=r.getNewWriter(e);if("function"===typeof t)t(n);else{t.text&&I(n,t.text);const e=n.toString();n.unsafeInsert(0,`@${t.tagName}`+(e.length>0&&!i.StringUtils.startsWithNewLine(e)?" ":""))}return n.toString()}(this).split(/\r?\n/);for(let i=0;i<r.length;i++)i>0&&(e.newLine(),this.options.printStarsOnNewLine&&e.write(" *")),r[i].length>0&&(this.options.printStarsOnNewLine&&i>0&&e.space(),e.write(r[i]))}}class Or extends ar{constructor(){super(...arguments),this.multipleWriter=new tr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isConst,"const "),e.write(`enum ${t.name} `).inlineBlock((()=>{this.factory.forEnumMember().printTexts(e,t.members)}))}}class Ar extends ar{constructor(){super(...arguments),this.multipleWriter=new nr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){var r;if(t instanceof Function)t(e);else if("string"!==typeof t)if(this.factory.forJSDoc().printDocs(e,t.docs),r=t.name,v.test(r)||i.StringUtils.isQuoted(t.name)?e.write(t.name):e.quote(t.name),"string"===typeof t.value){const{value:r}=t;e.hangingIndent((()=>e.write(" = ").quote(r)))}else"number"===typeof t.value?e.write(` = ${t.value}`):this.factory.forInitializerExpressionableNode().printText(e,t);else e.write(t)}}class Lr extends Ht{constructor(e){super(),this.factory=e,this.multipleWriter=new nr(this),this.options={isAmbient:!1}}printTexts(e,t){this.multipleWriter.printText(e,t)}printText(e,r){if("string"===typeof r||r instanceof Function||null==r)this.printTextOrWriterFunc(e,r);else switch(r.kind){case t.z_b.PropertyAssignment:this.factory.forPropertyAssignment().printText(e,r);break;case t.z_b.ShorthandPropertyAssignment:this.factory.forShorthandPropertyAssignment().printText(e,r);break;case t.z_b.SpreadAssignment:this.factory.forSpreadAssignment().printText(e,r);break;case t.z_b.Method:this.factory.forMethodDeclaration(this.options).printText(e,r);break;case t.z_b.GetAccessor:this.factory.forGetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.SetAccessor:this.factory.forSetAccessorDeclaration(this.options).printText(e,r);break;default:i.errors.throwNotImplementedForNeverValueError(r)}}}class kr extends ar{printTextInternal(e,t){e.hangingIndent((()=>{e.write(`${t.name}: `),I(e,t.initializer)}))}}class Mr extends ar{printTextInternal(e,t){e.write(`${t.name}`)}}class Wr extends ar{printTextInternal(e,t){e.hangingIndent((()=>{e.write("..."),I(e,t.expression)}))}}class zr extends ar{constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++){const i=t[r];if(r>0){const n=t[r-1];this.options.isAmbient||n.hasDeclareKeyword&&i.hasDeclareKeyword?e.newLine():e.blankLine()}this.printText(e,i)}}printTextInternal(e,t){this.printOverloads(e,t.name,function(){const e=i.ObjectUtils.clone(t.overloads);if(null==e||0===e.length)return;for(const r of e)F(r,"hasDeclareKeyword",t.hasDeclareKeyword),F(r,"isExported",t.isExported),F(r,"isDefaultExport",t.isDefaultExport);return e}()),this.printHeader(e,t.name,t),this.options.isAmbient||t.hasDeclareKeyword?e.write(";"):e.space().inlineBlock((()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)}))}printOverloads(e,t,r){if(null!=r&&0!==r.length)for(const i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printHeader(e,t,r),e.write(";")}printHeader(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),e.write("function"),e.conditionalWrite(r.isGenerator,"*"),i.StringUtils.isNullOrWhitespace(t)||e.write(` ${t}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class Br extends ar{constructor(){super(...arguments),this.multipleWriter=new rr(this)}printTextsWithParenthesis(e,t){e.write("("),null!=t&&this.factory.forParameterDeclaration().printTexts(e,t),e.write(")")}printTexts(e,t){null!=t&&0!==t.length&&e.hangingIndent((()=>{this.multipleWriter.printText(e,t)}))}printTextInternal(e,t){if(null==t.name)throw new i.errors.NotImplementedError("Not implemented scenario where parameter declaration structure doesn't have a name. Please open an issue if you need this.");this.factory.forDecorator().printTextsInline(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isRestParameter,"..."),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":",t.hasQuestionToken).printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}class jr extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode(!0).printText(e,t),e.write(";")}}class Ur extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write("new"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class Rr extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`[${t.keyName||"key"}: ${t.keyType||"string"}]`),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class Jr extends ar{constructor(){super(...arguments),this.multipleWriter=new tr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){if(this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`interface ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),null!=t.extends){const r=t.extends instanceof Array?t.extends.map((t=>this.getText(e,t))).join(", "):this.getText(e,t.extends);i.StringUtils.isNullOrWhitespace(r)||e.hangingIndent((()=>e.write(`extends ${r} `)))}e.inlineBlock((()=>{this.factory.forTypeElementMemberedNode().printText(e,t)}))}}class Vr extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class $r extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class Qr extends Ht{constructor(e){super(),this.factory=e}printText(e,t){this.factory.forCallSignatureDeclaration().printTexts(e,t.callSignatures),this.conditionalSeparator(e,t.constructSignatures),this.factory.forConstructSignatureDeclaration().printTexts(e,t.constructSignatures),this.conditionalSeparator(e,t.indexSignatures),this.factory.forIndexSignatureDeclaration().printTexts(e,t.indexSignatures),this.conditionalSeparator(e,t.properties),this.factory.forPropertySignature().printTexts(e,t.properties),this.conditionalSeparator(e,t.methods),this.factory.forMethodSignature().printTexts(e,t.methods)}conditionalSeparator(e,t){i.ArrayUtils.isNullOrEmpty(t)||e.isAtStartOfFirstLineOfBlock()||e.newLine()}}class Gr extends Ht{constructor(e){super(),this.factory=e}printTexts(e,t){if(null!=t)if("string"===typeof t||t instanceof Function)this.printText(e,t);else for(const r of t)Nr(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"===typeof r||r instanceof Function||null==r)this.printTextOrWriterFunc(e,r);else switch(r.kind){case t.z_b.PropertySignature:this.factory.forPropertySignature().printText(e,r);break;case t.z_b.MethodSignature:this.factory.forMethodSignature().printText(e,r);break;case t.z_b.CallSignature:this.factory.forCallSignatureDeclaration().printText(e,r);break;case t.z_b.IndexSignature:this.factory.forIndexSignatureDeclaration().printText(e,r);break;case t.z_b.ConstructSignature:this.factory.forConstructSignatureDeclaration().printText(e,r);break;default:i.errors.throwNotImplementedForNeverValueError(r)}}}class qr extends ar{printTextInternal(e,r){if(null==r.kind||r.kind===t.z_b.JsxAttribute)this.factory.forJsxAttribute().printText(e,r);else{if(r.kind!==t.z_b.JsxSpreadAttribute)throw i.errors.throwNotImplementedForNeverValueError(r);this.factory.forJsxSpreadAttribute().printText(e,r)}}}class Hr extends ar{printTextInternal(e,t){e.write(t.name),null!=t.initializer&&e.write("=").write(t.initializer)}}class Xr extends ar{printTextInternal(e,r){var n;null==(n=r).kind||n.kind===t.z_b.JsxElement?this.factory.forJsxElement().printText(e,r):r.kind===t.z_b.JsxSelfClosingElement?this.factory.forJsxSelfClosingElement().printText(e,r):i.errors.throwNotImplementedForNeverValueError(r)}}class Zr extends ar{printTextInternal(e,t){e.hangingIndent((()=>{e.write(`<${t.name}`),t.attributes&&this.printAttributes(e,t.attributes),e.write(">")})),this.printChildren(e,t.children),e.write(`</${t.name}>`)}printAttributes(e,t){const r=this.factory.forJsxAttributeDecider();for(const i of t)e.space(),r.printText(e,i)}printChildren(e,t){null!=t&&(e.newLine(),e.indent((()=>{for(const r of t)this.factory.forJsxChildDecider().printText(e,r),e.newLine()})))}}class Yr extends ar{printTextInternal(e,t){e.hangingIndent((()=>{e.write(`<${t.name}`),t.attributes&&this.printAttributes(e,t.attributes),e.write(" />")}))}printAttributes(e,t){const r=this.factory.forJsxAttributeDecider();for(const i of t)e.space(),r.printText(e,i)}}class ei extends ar{printTextInternal(e,t){e.hangingIndent((()=>{e.write("..."),e.write(t.expression)}))}}class ti extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){e.write("export"),!1!==t.isExportEquals?e.write(" = "):e.write(" default "),e.write(this.getTextWithQueuedChildIndentation(e,t.expression)).write(";")}}class ri extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){const r=null!=t.moduleSpecifier&&t.moduleSpecifier.length>0;if(null!=t.namedExports&&t.namedExports.length>0&&null!=t.namespaceExport)throw new i.errors.InvalidOperationError("An export declaration cannot have both a namespace export and a named export.");e.write("export"),t.isTypeOnly&&e.write(" type"),null!=t.namedExports&&t.namedExports.length>0?(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedExports)):null!=t.namespaceExport?(e.write(" *"),i.StringUtils.isNullOrWhitespace(t.namespaceExport)||e.write(` as ${t.namespaceExport}`)):r?e.write(" *"):e.write(" {").conditionalWrite(this.factory.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces," ").write("}"),r&&(e.write(" from "),e.quote(t.moduleSpecifier)),e.write(";")}}class ii extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){const r=null!=t.namedImports&&t.namedImports.length>0;if(r&&null!=t.namespaceImport)throw new i.errors.InvalidOperationError("An import declaration cannot have both a namespace import and a named import.");e.write("import"),t.isTypeOnly&&e.write(" type"),null!=t.defaultImport&&(e.write(` ${t.defaultImport}`),e.conditionalWrite(r||null!=t.namespaceImport,",")),null!=t.namespaceImport&&e.write(` * as ${t.namespaceImport}`),null!=t.namedImports&&t.namedImports.length>0&&(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedImports)),e.conditionalWrite(null!=t.defaultImport||r||null!=t.namespaceImport," from"),e.write(" "),e.quote(t.moduleSpecifier),e.write(";")}}class ni extends ar{constructor(e,t){super(e),this.options=t,this.blankLineFormattingWriter=new tr(this)}printTexts(e,t){this.blankLineFormattingWriter.printText(e,t)}printTextInternal(e,r){r=this.validateAndGetStructure(r),this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),null==r.declarationKind||r.declarationKind!==t.y7J.Global?e.write(`${r.declarationKind||"namespace"} ${r.name}`):e.write("global"),r.hasDeclareKeyword&&i.StringUtils.isQuoted(r.name.trim())&&r.hasOwnProperty("statements")&&null==r.statements?e.write(";"):(e.write(" "),e.inlineBlock((()=>{this.factory.forStatementedNode({isAmbient:r.hasDeclareKeyword||this.options.isAmbient}).printText(e,r)})))}validateAndGetStructure(e){if(i.StringUtils.isQuoted(e.name.trim())){if(e.declarationKind===t.y7J.Namespace)throw new i.errors.InvalidOperationError(`Cannot print a namespace with quotes for namespace with name ${e.name}. Use ModuleDeclarationKind.Module instead.`);F(e=i.ObjectUtils.clone(e),"hasDeclareKeyword",!0),F(e,"declarationKind",t.y7J.Module)}return e}}class si extends ar{constructor(){super(...arguments),this.multipleWriter=new rr(this)}printTextsWithBraces(e,t){const r=this.factory.getFormatCodeSettings();e.write("{");const n=this.getNewWriter(e);this.printTexts(n,t);const s=n.toString();r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!i.StringUtils.startsWithNewLine(s)&&e.space(),e.write(s),r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!i.StringUtils.endsWithNewLine(s)&&e.space(),e.write("}")}printTexts(e,t){t instanceof Function?this.printText(e,t):this.multipleWriter.printText(e,t)}printTextInternal(e,t){const r=this.getNewWriterWithQueuedChildIndentation(e);"string"===typeof t?r.write(t):t instanceof Function?t(r):(r.write(t.name),i.StringUtils.isNullOrWhitespace(t.alias)||(r.isLastNewLine()||r.space(),r.write(`as ${t.alias}`))),e.write(r.toString())}}class oi extends ar{constructor(e,t){super(e),this.options=t}printTextInternal(e,t){this.factory.forStatementedNode(this.options).printText(e,t),e.conditionalNewLine(!e.isAtStartOfFirstLineOfBlock()&&!e.isLastNewLine())}}class ai extends Ht{constructor(e,t){super(),this.factory=e,this.options=t}printText(e,t){this.factory.forStatement(this.options).printTexts(e,t.statements)}}class li extends Ht{constructor(e,t){super(),this.factory=e,this.options=t}printTexts(e,t){if(null!=t)if("string"===typeof t||t instanceof Function)this.printText(e,t);else for(const r of t)Nr(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"===typeof r||r instanceof Function||null==r)this.printTextOrWriterFunc(e,r);else switch(r.kind){case t.z_b.Function:this.options.isAmbient||n(),this.factory.forFunctionDeclaration(this.options).printText(e,r);break;case t.z_b.Class:n(),this.factory.forClassDeclaration(this.options).printText(e,r);break;case t.z_b.Interface:n(),this.factory.forInterfaceDeclaration().printText(e,r);break;case t.z_b.TypeAlias:this.factory.forTypeAliasDeclaration().printText(e,r);break;case t.z_b.VariableStatement:this.factory.forVariableStatement().printText(e,r);break;case t.z_b.ImportDeclaration:this.factory.forImportDeclaration().printText(e,r);break;case t.z_b.Module:n(),this.factory.forModuleDeclaration(this.options).printText(e,r);break;case t.z_b.Enum:n(),this.factory.forEnumDeclaration().printText(e,r);break;case t.z_b.ExportDeclaration:this.factory.forExportDeclaration().printText(e,r);break;case t.z_b.ExportAssignment:this.factory.forExportAssignment().printText(e,r);break;default:i.errors.throwNotImplementedForNeverValueError(r)}function n(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}var ci;t.bDp=void 0,(ci=t.bDp||(t.bDp={})).Var="var",ci.Let="let",ci.Const="const";class di extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,r){this.factory.forJSDoc().printDocs(e,r.docs),e.hangingIndent((()=>{this.factory.forModifierableNode().printText(e,r),e.write(`${r.declarationKind||t.bDp.Let} `),this.factory.forVariableDeclaration().printTexts(e,r.declarations),e.write(";")}))}}class ui extends ar{constructor(){super(...arguments),this.multipleWriter=new sr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`type ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forTypedNode(" =").printText(e,t),e.write(";")}}class hi extends ar{constructor(){super(...arguments),this.multipleWriter=new rr(this)}printTextsWithBrackets(e,t){null!=t&&0!==t.length&&(e.write("<"),this.printTexts(e,t),e.write(">"))}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){"string"!==typeof t?e.hangingIndent((()=>{if(e.write(t.name),null!=t.constraint){const r=this.getText(e,t.constraint);i.StringUtils.isNullOrWhitespace(r)||e.write(` extends ${r}`)}if(null!=t.default){const r=this.getText(e,t.default);i.StringUtils.isNullOrWhitespace(r)||e.write(` = ${r}`)}})):e.write(t)}}class pi extends ar{constructor(){super(...arguments),this.multipleWriter=new rr(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){e.write(t.name),e.conditionalWrite(t.hasExclamationToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}function gi(e){return class extends e{getExtends(){var e;const t=this.getHeritageClauseByKind(i.SyntaxKind.ExtendsKeyword);return null!==(e=null===t||void 0===t?void 0:t.getTypeNodes())&&void 0!==e?e:[]}addExtends(e){return this.insertExtends(this.getExtends().length,e)}insertExtends(e,t){const r=this.getExtends(),n="string"===typeof t;if("string"===typeof t)i.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];const s=this._getWriterWithQueuedChildIndentation();if(new rr(new Pr).printText(s,t),e=le(e,r.length),r.length>0){it({parent:this.getHeritageClauseByKindOrThrow(i.SyntaxKind.ExtendsKeyword).getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:s.toString(),useTrailingCommas:!1})}else{const e=this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenBraceToken).getStart(),t=/\s/.test(this.getSourceFile().getFullText()[e-1]);let r=`extends ${s.toString()} `;t||(r=" "+r),tt({parent:this,insertPos:e,newText:r})}const o=this.getExtends();return n?o[e]:ie(r,o,e,!1)}removeExtends(e){const t=this.getHeritageClauseByKind(i.SyntaxKind.ExtendsKeyword);if(null==t)throw new i.errors.InvalidOperationError("Cannot remove an extends when none exist.");return t.removeExpression(e),this}set(t){return L(e.prototype,this,t),null!=t.extends&&(this.getExtends().forEach((e=>this.removeExtends(e))),this.addExtends(t.extends)),this}getStructure(){return A(e.prototype,this,{extends:this.getExtends().map((e=>e.getText()))})}}}function mi(e){return class extends e{isGenerator(){return null!=this.compilerNode.asteriskToken}getAsteriskToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.asteriskToken)}getAsteriskTokenOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAsteriskToken(),"Expected to find an asterisk token.")}setIsGenerator(e){const t=this.getAsteriskToken();return null!=t===e||(null==t?tt({insertPos:yi(this),parent:this,newText:"*"}):lt({children:[t],getSiblingFormatting:()=>M.Space})),this}set(t){return L(e.prototype,this,t),null!=t.isGenerator&&this.setIsGenerator(t.isGenerator),this}getStructure(){return A(e.prototype,this,{isGenerator:this.isGenerator()})}}}function yi(e){if(e.getKind()===i.SyntaxKind.FunctionDeclaration)return e.getFirstChildByKindOrThrow(i.SyntaxKind.FunctionKeyword).getEnd();const t=e;if(null==t.getName)throw new i.errors.NotImplementedError("Expected a name node for a non-function declaration.");return t.getNameNode().getStart()}function xi(e){return class extends e{getHeritageClauses(){var e;const t=this.compilerNode.heritageClauses;return null!==(e=null===t||void 0===t?void 0:t.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==e?e:[]}getHeritageClauseByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getHeritageClauseByKind(e),`Expected to have heritage clause of kind ${i.getSyntaxKindName(e)}.`)}getHeritageClauseByKind(e){return this.getHeritageClauses().find((t=>t.compilerNode.token===e))}}}function fi(e){return class extends e{getImplements(){var e;const t=this.getHeritageClauseByKind(i.SyntaxKind.ImplementsKeyword);return null!==(e=null===t||void 0===t?void 0:t.getTypeNodes())&&void 0!==e?e:[]}addImplements(e){return this.insertImplements(this.getImplements().length,e)}insertImplements(e,t){const r=this.getImplements(),n="string"===typeof t;if("string"===typeof t)i.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];const s=this._getWriterWithQueuedChildIndentation();new rr(new Pr).printText(s,t);const o=this.getHeritageClauses();if(e=le(e,r.length),r.length>0){it({parent:this.getHeritageClauseByKindOrThrow(i.SyntaxKind.ImplementsKeyword).getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:s.toString(),useTrailingCommas:!1})}else{const e=this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenBraceToken).getStart(),t=/\s/.test(this.getSourceFile().getFullText()[e-1]);let r=`implements ${s.toString()} `;t||(r=" "+r),tt({parent:0===o.length?this:o[0].getParentSyntaxListOrThrow(),insertPos:e,newText:r})}const a=this.getImplements();return n?a[0]:ie(r,a,e,!1)}removeImplements(e){const t=this.getHeritageClauseByKind(i.SyntaxKind.ImplementsKeyword);if(null==t)throw new i.errors.InvalidOperationError("Cannot remove an implements when none exist.");return t.removeExpression(e),this}set(t){return L(e.prototype,this,t),null!=t.implements&&(this.getImplements().forEach((e=>this.removeImplements(e))),this.addImplements(t.implements)),this}getStructure(){return A(e.prototype,this,{implements:this.getImplements().map((e=>e.getText()))})}}}function Si(e){return class extends e{hasInitializer(){return null!=this.compilerNode.initializer}getInitializerIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getInitializerIfKind(e),`Expected to find an initializer of kind '${i.getSyntaxKindName(e)}'.`)}getInitializerIfKind(e){const t=this.getInitializer();if(null==t||t.getKind()===e)return t}getInitializerOrThrow(){return i.errors.throwIfNullOrUndefined(this.getInitializer(),"Expected to find an initializer.")}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}}}function Ti(e){return function(e){return class extends e{removeInitializer(){const e=this.getInitializer();if(null==e)return this;return at({children:[e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.EqualsToken),e],removePrecedingSpaces:!0}),this}setInitializer(e){const t=_(this._getWriterWithQueuedChildIndentation(),e);i.errors.throwIfWhitespaceOrNotString(t,"textOrWriterFunction"),this.hasInitializer()&&this.removeInitializer();const r=this.getLastChildIfKind(i.SyntaxKind.SemicolonToken);return tt({insertPos:null!=r?r.getPos():this.getEnd(),parent:this,newText:` = ${t}`}),this}set(t){return L(e.prototype,this,t),null!=t.initializer?this.setInitializer(t.initializer):t.hasOwnProperty("initializer")&&this.removeInitializer(),this}getStructure(){const t=this.getInitializer();return A(e.prototype,this,{initializer:t?t.getText():void 0})}}}(Si(e))}function Ni(e){return class extends e{getJsDocs(){var e;const t=this.compilerNode.jsDoc;return null!==(e=null===t||void 0===t?void 0:t.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==e?e:[]}addJsDoc(e){return this.addJsDocs([e])[0]}addJsDocs(e){return this.insertJsDocs(Q(this.compilerNode.jsDoc),e)}insertJsDoc(e,t){return this.insertJsDocs(e,[t])[0]}insertJsDocs(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=this._getWriterWithQueuedIndentation();this._context.structurePrinterFactory.forJSDoc().printDocs(r,t),r.write("");const n=r.toString(),s=this.getJsDocs();return tt({insertPos:(e=le(e,s.length))===s.length?this.getStart():s[e].getStart(),parent:this,newText:n}),ie(s,this.getJsDocs(),e,!1)}set(t){return L(e.prototype,this,t),null!=t.docs&&(this.getJsDocs().forEach((e=>e.remove())),this.addJsDocs(t.docs)),this}getStructure(){return A(e.prototype,this,{docs:this.getJsDocs().map((e=>e.getStructure()))})}}}function bi(e){return class extends e{getLiteralText(){return this.compilerNode.text}isTerminated(){return!this.compilerNode.isUnterminated}hasExtendedUnicodeEscape(){return this.compilerNode.hasExtendedUnicodeEscape||!1}}}function Ki(e){return class extends e{addImportDeclaration(e){return this.addImportDeclarations([e])[0]}addImportDeclarations(e){const t=this._getCompilerStatementsWithComments();return this.insertImportDeclarations(function(){let e=0,r=!0;for(let n=0;n<t.length;n++){const s=t[n];r&&s.kind===i.SyntaxKind.MultiLineCommentTrivia?e=n+1:(r=!1,s.kind===i.SyntaxKind.ImportDeclaration&&(e=n+1))}return e}(),e)}insertImportDeclaration(e,t){return this.insertImportDeclarations(e,[t])[0]}insertImportDeclarations(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.ImportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forImportDeclaration().printTexts(e,t)}),{previousNewLine:e=>Pt.isImportDeclaration(e)||Ce(e.compilerNode),nextNewLine:e=>Pt.isImportDeclaration(e)})}})}getImportDeclaration(e){return this.getImportDeclarations().find("string"===typeof e?t=>t.getModuleSpecifierValue()===e:e)}getImportDeclarationOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getImportDeclaration(e),"Expected to find an import with the provided condition.")}getImportDeclarations(){return this.getStatements().filter(Pt.isImportDeclaration)}addExportDeclaration(e){return this.addExportDeclarations([e])[0]}addExportDeclarations(e){return this.insertExportDeclarations(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportDeclaration(e,t){return this.insertExportDeclarations(e,[t])[0]}insertExportDeclarations(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.ExportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forExportDeclaration().printTexts(e,t)}),{previousNewLine:e=>Pt.isExportDeclaration(e)||Ce(e.compilerNode),nextNewLine:e=>Pt.isExportDeclaration(e)})}})}getExportDeclaration(e){return this.getExportDeclarations().find("string"===typeof e?t=>t.getModuleSpecifierValue()===e:e)}getExportDeclarationOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getExportDeclaration(e),"Expected to find an export declaration with the provided condition.")}getExportDeclarations(){return this.getStatements().filter(Pt.isExportDeclaration)}addExportAssignment(e){return this.addExportAssignments([e])[0]}addExportAssignments(e){return this.insertExportAssignments(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportAssignment(e,t){return this.insertExportAssignments(e,[t])[0]}insertExportAssignments(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.ExportAssignment,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forExportAssignment().printTexts(e,t)}),{previousNewLine:e=>Pt.isExportAssignment(e)||Ce(e.compilerNode),nextNewLine:e=>Pt.isExportAssignment(e)})}})}getExportAssignment(e){return this.getExportAssignments().find(e)}getExportAssignmentOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getExportAssignment(e),"Expected to find an export assignment with the provided condition.")}getExportAssignments(){return this.getStatements().filter(Pt.isExportAssignment)}getDefaultExportSymbol(){const e=this.getSymbol();if(null!=e)return e.getExport("default")}getDefaultExportSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefaultExportSymbol(),"Expected to find a default export symbol")}getExportSymbols(){const e=this.getSymbol();return null==e?[]:this._context.typeChecker.getExportsOfModule(e)}getExportedDeclarations(){const e=new Map,t=this.getExportSymbols();for(const i of t)for(const t of i.getDeclarations()){const n=Array.from(r(t)),s=i.getName(),o=e.get(s);null!=o?o.push(...n):e.set(i.getName(),n)}return e;function*r(e){if(Pt.isExportSpecifier(e))for(const i of e.getLocalTargetDeclarations())yield*r(i);else if(Pt.isExportAssignment(e)){const r=e.getExpression();if(null==r||r.getKind()!==i.SyntaxKind.Identifier)return void(yield r);yield*t(r.getSymbol())}else if(Pt.isImportSpecifier(e)){const r=e.getNameNode().getSymbol();if(null==r)return;yield*t(r.getAliasedSymbol()||r)}else if(Pt.isImportClause(e)){const r=e.getDefaultImport();if(null==r)return;const i=r.getSymbol();if(null==i)return;yield*t(i.getAliasedSymbol()||i)}else if(Pt.isNamespaceImport(e)||Pt.isNamespaceExport(e)){const r=e.getNameNode().getSymbol();if(null==r)return;yield*t(r.getAliasedSymbol()||r)}else yield e;function*t(e){if(null!=e)for(const t of e.getDeclarations())yield*r(t)}}}removeDefaultExport(e){if(null==(e=e||this.getDefaultExportSymbol()))return this;const t=e.getDeclarations()[0];return t.compilerNode.kind===i.SyntaxKind.ExportAssignment?lt({children:[t],getSiblingFormatting:()=>M.Newline}):Pt.isModifierableNode(t)&&(t.toggleModifier("default",!1),t.toggleModifier("export",!1)),this}}}function wi(e){return class extends e{getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}getName(){return this.getNameNode().getText()}set(t){return L(e.prototype,this,t),null!=t.name&&this.getNameNode().replaceWithText(t.name),this}getStructure(){return A(e.prototype,this,{name:this.getName()})}}}function Fi(e){return class extends e{findReferences(){return this._context.languageService.findReferences(Ci(this))}findReferencesAsNodes(){return this._context.languageService.findReferencesAsNodes(Ci(this))}}}function Ci(e){if(Pt.isIdentifier(e)||Pt.isStringLiteral(e))return e;const t=e.getNodeProperty("name");return null!=t?t:Pt.isExportableNode(e)&&e.getDefaultKeyword()||e}function _i(e){return class extends e{rename(e,t){return Wt(function(e){if(Pt.isIdentifier(e)||Pt.isPrivateIdentifier(e)||Pt.isStringLiteral(e))return e;if(null!=e.getNameNode){const t=e.getNameNode();if(i.errors.throwIfNullOrUndefined(t,"Expected to find a name node when renaming."),Pt.isArrayBindingPattern(t)||Pt.isObjectBindingPattern(t))throw new i.errors.NotImplementedError(`Not implemented renameable scenario for ${t.getKindName()}.`);return t}throw new i.errors.NotImplementedError(`Not implemented renameable scenario for ${e.getKindName()}`)}(this),e,t),this}}}function Ii(e){return wi(Fi(_i(e)))}function Pi(e){return wi(Fi(_i(e)))}function vi(e){return function(e){return class extends e{getNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.name)}getNameNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNameNode(),"Expected to have a name node.")}getName(){var e,t;return null!==(t=null===(e=this.getNameNode())||void 0===e?void 0:e.getText())&&void 0!==t?t:void 0}getNameOrThrow(){return i.errors.throwIfNullOrUndefined(this.getName(),"Expected to have a name.")}rename(t){if(t===this.getName())return this;if(i.StringUtils.isNullOrWhitespace(t))return this.removeName(),this;return null==this.getNameNode()?Ei(this,t):e.prototype.rename.call(this,t),this}removeName(){const e=this.getNameNode();return null==e||at({children:[e],removePrecedingSpaces:!0}),this}set(t){if(L(e.prototype,this,t),null!=t.name){i.errors.throwIfWhitespaceOrNotString(t.name,"structure.name");const e=this.getNameNode();null==e?Ei(this,t.name):e.replaceWithText(t.name)}else t.hasOwnProperty("name")&&this.removeName();return this}getStructure(){return A(e.prototype,this,{name:this.getName()})}}}(Fi(_i(e)))}function Ei(e,t){if(Pt.isClassDeclaration(e)||Pt.isClassExpression(e)){tt({insertPos:e.getFirstChildByKindOrThrow(i.SyntaxKind.ClassKeyword).getEnd(),newText:" "+t,parent:e})}else{tt({insertPos:e.getFirstChildByKindOrThrow(i.SyntaxKind.OpenParenToken).getStart(),newText:" "+t,parent:e})}}function Di(e){return wi(_i(Fi(e)))}function Oi(e){return wi(Fi(_i(e)))}function Ai(e){return class extends e{hasOverrideKeyword(){return this.hasModifier(i.SyntaxKind.OverrideKeyword)}getOverrideKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.OverrideKeyword)}getOverrideKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getOverrideKeyword(),"Expected to find an override keyword.")}setHasOverrideKeyword(e){return this.toggleModifier("override",e),this}set(t){return L(e.prototype,this,t),null!=t.hasOverrideKeyword&&this.setHasOverrideKeyword(t.hasOverrideKeyword),this}getStructure(){return A(e.prototype,this,{hasOverrideKeyword:this.hasOverrideKeyword()})}}}function Li(e){return class extends e{getParameter(e){return p(this.getParameters(),e)}getParameterOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getParameter(e),(()=>m("parameter",e)))}getParameters(){return this.compilerNode.parameters.map((e=>this._getNodeFromCompilerNode(e)))}addParameter(e){return this.addParameters([e])[0]}addParameters(e){return this.insertParameters(Q(this.compilerNode.parameters),e)}insertParameter(e,t){return this.insertParameters(e,[t])[0]}insertParameters(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=this.getParameters(),n=this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(i.SyntaxKind.SyntaxList);e=le(e,r.length);const s=this._getWriterWithQueuedChildIndentation();return this._context.structurePrinterFactory.forParameterDeclaration().printTexts(s,t),it({parent:n,currentNodes:r,insertIndex:e,newText:s.toString(),useTrailingCommas:!1}),ie(r,this.getParameters(),e,!1)}set(t){return L(e.prototype,this,t),null!=t.parameters&&(this.getParameters().forEach((e=>e.remove())),this.addParameters(t.parameters)),this}getStructure(){return A(e.prototype,this,{parameters:this.getParameters().map((e=>e.getStructure()))})}}}function ki(e){return class extends e{hasQuestionDotToken(){return null!=this.compilerNode.questionDotToken}getQuestionDotTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionDotToken)}getQuestionDotTokenNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getQuestionDotTokenNode(),"Expected to find a question dot token.")}setHasQuestionDotToken(e){const t=this.getQuestionDotTokenNode();return e===(null!=t)||(e?Pt.isPropertyAccessExpression(this)?this.getFirstChildByKindOrThrow(i.SyntaxKind.DotToken).replaceWithText("?."):tt({insertPos:function(){if(Pt.isCallExpression(this))return this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenParenToken).getStart();if(Pt.isElementAccessExpression(this))return this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenBracketToken).getStart();i.errors.throwNotImplementedForSyntaxKindError(this.compilerNode.kind)}.call(this),parent:this,newText:"?."}):Pt.isPropertyAccessExpression(this)?t.replaceWithText("."):at({children:[t]})),this}set(t){return L(e.prototype,this,t),null!=t.hasQuestionDotToken&&this.setHasQuestionDotToken(t.hasQuestionDotToken),this}getStructure(){return A(e.prototype,this,{hasQuestionDotToken:this.hasQuestionDotToken()})}}}function Mi(e){return class extends e{hasQuestionToken(){return null!=this.compilerNode.questionToken}getQuestionTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getQuestionTokenNode(),"Expected to find a question token.")}setHasQuestionToken(e){const t=this.getQuestionTokenNode();return e===(null!=t)||(e?(Pt.isExclamationTokenableNode(this)&&this.setHasExclamationToken(!1),tt({insertPos:function(){if(Pt.hasName(this))return this.getNameNode().getEnd();const e=this.getFirstChildByKind(i.SyntaxKind.ColonToken);if(null!=e)return e.getStart();const t=this.getLastChildByKind(i.SyntaxKind.SemicolonToken);return null!=t?t.getStart():this.getEnd()}.call(this),parent:this,newText:"?"})):at({children:[t]})),this}set(t){return L(e.prototype,this,t),null!=t.hasQuestionToken&&this.setHasQuestionToken(t.hasQuestionToken),this}getStructure(){return A(e.prototype,this,{hasQuestionToken:this.hasQuestionToken()})}}}function Wi(e){return class extends e{isReadonly(){return null!=this.getReadonlyKeyword()}getReadonlyKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.ReadonlyKeyword)}getReadonlyKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getReadonlyKeyword(),"Expected to find a readonly keyword.")}setIsReadonly(e){return this.toggleModifier("readonly",e),this}set(t){return L(e.prototype,this,t),null!=t.isReadonly&&this.setIsReadonly(t.isReadonly),this}getStructure(){return A(e.prototype,this,{isReadonly:this.isReadonly()})}}}function zi(e){return class extends e{getReturnType(){return this.getSignature().getReturnType()}getReturnTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getReturnTypeNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getReturnTypeNode(),"Expected to find a return type node.")}setReturnType(e){const t=_(this._getWriterWithQueuedChildIndentation(),e);if(i.StringUtils.isNullOrWhitespace(t))return this.removeReturnType();const r=this.getReturnTypeNode();return null!=r?(r.getText()!==t&&r.replaceWithText(t),this):(tt({parent:this,insertPos:(n=this,n.getKind()===i.SyntaxKind.IndexSignature?n.getFirstChildByKindOrThrow(i.SyntaxKind.CloseBracketToken):n.getFirstChildByKindOrThrow(i.SyntaxKind.CloseParenToken)).getEnd(),newText:`: ${t}`}),this);var n}removeReturnType(){const e=this.getReturnTypeNode();if(null==e)return this;return at({children:[e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.ColonToken),e],removePrecedingSpaces:!0}),this}getSignature(){const e=this._context.typeChecker.getSignatureFromNode(this);if(null==e)throw new i.errors.NotImplementedError("Expected the node to have a signature.");return e}set(t){return L(e.prototype,this,t),null!=t.returnType?this.setReturnType(t.returnType):t.hasOwnProperty("returnType")&&this.removeReturnType(),this}getStructure(){const t=this.getReturnTypeNode();return A(e.prototype,this,{returnType:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function Bi(e){return class extends e{getScope(){const e=ji(this);return null!=e?e:Pt.isParameterDeclaration(this)&&this.isReadonly()?t.sXi.Public:void 0}setScope(e){return Ui(this,e),this}getScopeKeyword(){return this.getModifiers().find((e=>{const t=e.getText();return"public"===t||"protected"===t||"private"===t}))}hasScopeKeyword(){return null!=this.getScopeKeyword()}set(t){return L(e.prototype,this,t),t.hasOwnProperty("scope")&&this.setScope(t.scope),this}getStructure(){return A(e.prototype,this,{scope:this.getScope()})}}}function ji(e){const r=e.getCombinedModifierFlags();return 0!==(r&i.ts.ModifierFlags.Private)?t.sXi.Private:0!==(r&i.ts.ModifierFlags.Protected)?t.sXi.Protected:0!==(r&i.ts.ModifierFlags.Public)?t.sXi.Public:void 0}function Ui(e,r){e.toggleModifier("public",r===t.sXi.Public),e.toggleModifier("protected",r===t.sXi.Protected),e.toggleModifier("private",r===t.sXi.Private)}function Ri(e){return class extends e{getScope(){return ji(this)||t.sXi.Public}setScope(e){return Ui(this,e),this}hasScopeKeyword(){return null!=ji(this)}set(t){return L(e.prototype,this,t),t.hasOwnProperty("scope")&&this.setScope(t.scope),this}getStructure(){return A(e.prototype,this,{scope:this.hasScopeKeyword()?this.getScope():void 0})}}}function Ji(e){return zi(Li(e))}function Vi(e){return class extends e{isStatic(){return this.hasModifier(i.SyntaxKind.StaticKeyword)}getStaticKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.StaticKeyword)}getStaticKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getStaticKeyword(),"Expected to find a static keyword.")}setIsStatic(e){return this.toggleModifier("static",e),this}set(t){return L(e.prototype,this,t),null!=t.isStatic&&this.setIsStatic(t.isStatic),this}getStructure(){return A(e.prototype,this,{isStatic:this.isStatic()})}}}function $i(e){return class extends e{insertText(e,t){return this.replaceText([e,e],t),this}removeText(e,t){return null==e?this.replaceText(Qi(this),""):this.replaceText([e,t],""),this}replaceText(e,t){const r=this.getChildSyntaxListOrThrow(),n=Qi(this),s=e[0],o=e[1];return function(){if(a(s),a(o),s>o)throw new i.errors.ArgumentError("range","Cannot specify a start position greater than the end position.")}(),tt({insertPos:s,newText:_(this._getWriter(),t),parent:r.getParentOrThrow(),replacing:{textLength:o-s,nodes:[r]}}),this;function a(e){if(!(e>=n[0]&&e<=n[1]))throw new i.errors.InvalidOperationError(`Cannot insert or replace text outside the bounds of the node. Expected a position between [${n[0]}, ${n[1]}], but received ${e}.`)}}}}function Qi(e){const t=Pt.isSourceFile(e)?e:e.getChildSyntaxListOrThrow(),r=Pt.isSourceFile(t)?void 0:t.getPreviousSiblingIfKind(i.SyntaxKind.OpenBraceToken),n=null==r?void 0:t.getNextSiblingIfKind(i.SyntaxKind.CloseBraceToken);return null!=r&&null!=n?[r.getEnd(),n.getStart()]:[t.getPos(),t.getEnd()]}function Gi(e){return class extends e{getTypeArguments(){return null==this.compilerNode.typeArguments?[]:this.compilerNode.typeArguments.map((e=>this._getNodeFromCompilerNode(e)))}addTypeArgument(e){return this.addTypeArguments([e])[0]}addTypeArguments(e){return this.insertTypeArguments(this.getTypeArguments().length,e)}insertTypeArgument(e,t){return this.insertTypeArguments(e,[t])[0]}insertTypeArguments(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=this.getTypeArguments();if(e=le(e,r.length),0===r.length){tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.Identifier).getEnd(),parent:this,newText:`<${t.join(", ")}>`})}else it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:t.join(", "),useTrailingCommas:!1});return ie(r,this.getTypeArguments(),e,!1)}removeTypeArgument(e){const t=this.getTypeArguments();if(0===t.length)throw new i.errors.InvalidOperationError("Cannot remove a type argument when none exist.");const r="number"===typeof e?t[le(e,t.length-1)]:e;if(1===t.length){const e=t[0].getParentSyntaxListOrThrow();at({children:[e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(i.SyntaxKind.GreaterThanToken)]})}else ut(r);return this}}}function qi(e){return class extends e{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTypeNode(),"Expected to find a type node.")}setType(e){const t=_(this._getWriterWithQueuedChildIndentation(),e);if(i.StringUtils.isNullOrWhitespace(t))return this.removeType();const r=this.getTypeNode();if(null!=r&&r.getText()===t)return this;const n=Hi(this);let s,o;return null==this.getFirstChildByKind(n)?(s=function(e){const t=e.getFirstChildByKindOrThrow(i.SyntaxKind.Identifier),r=t.getNextSibling();return(function(e){if(null==e)return!1;const t=e.getKind();return t===i.SyntaxKind.QuestionToken||t===i.SyntaxKind.ExclamationToken}(r)?r:t).getEnd()}(this),o=(n===i.SyntaxKind.EqualsToken?" = ":": ")+t):(s=r.getStart(),o=t),tt({parent:this,insertPos:s,newText:o,replacing:{textLength:null==r?0:r.getWidth()}}),this}set(t){return L(e.prototype,this,t),null!=t.type?this.setType(t.type):t.hasOwnProperty("type")&&this.removeType(),this}removeType(){if(this.getKind()===i.SyntaxKind.TypeAliasDeclaration)throw new i.errors.NotSupportedError("Cannot remove the type of a type alias. Use setType instead.");const e=this.getTypeNode();if(null==e)return this;return at({children:[e.getPreviousSiblingIfKindOrThrow(Hi(this)),e],removePrecedingSpaces:!0}),this}getStructure(){const t=this.getTypeNode();return A(e.prototype,this,{type:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function Hi(e){switch(e.getKind()){case i.SyntaxKind.TypeAliasDeclaration:return i.SyntaxKind.EqualsToken;default:return i.SyntaxKind.ColonToken}}function Xi(e){return class extends e{addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(Q(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){return ot({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:e=>{e.newLineIfLastNot();const r=this._getWriter();this._context.structurePrinterFactory.forTypeElementMember().printTexts(r,t),e.write(r.toString()),e.newLineIfLastNot()}})}addConstructSignature(e){return this.addConstructSignatures([e])[0]}addConstructSignatures(e){return this.insertConstructSignatures(Q(this.getMembersWithComments()),e)}insertConstructSignature(e,t){return this.insertConstructSignatures(e,[t])[0]}insertConstructSignatures(e,t){return Zi({thisNode:this,index:e,structures:t,expectedKind:i.SyntaxKind.ConstructSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forConstructSignatureDeclaration()})}getConstructSignature(e){return this.getConstructSignatures().find(e)}getConstructSignatureOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getConstructSignature(e),"Expected to find a construct signature with the provided condition.")}getConstructSignatures(){return this.compilerNode.members.filter((e=>e.kind===i.SyntaxKind.ConstructSignature)).map((e=>this._getNodeFromCompilerNode(e)))}addCallSignature(e){return this.addCallSignatures([e])[0]}addCallSignatures(e){return this.insertCallSignatures(Q(this.getMembersWithComments()),e)}insertCallSignature(e,t){return this.insertCallSignatures(e,[t])[0]}insertCallSignatures(e,t){return Zi({thisNode:this,index:e,structures:t,expectedKind:i.SyntaxKind.CallSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forCallSignatureDeclaration()})}getCallSignature(e){return this.getCallSignatures().find(e)}getCallSignatureOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getCallSignature(e),"Expected to find a call signature with the provided condition.")}getCallSignatures(){return this.compilerNode.members.filter((e=>e.kind===i.SyntaxKind.CallSignature)).map((e=>this._getNodeFromCompilerNode(e)))}addIndexSignature(e){return this.addIndexSignatures([e])[0]}addIndexSignatures(e){return this.insertIndexSignatures(Q(this.getMembersWithComments()),e)}insertIndexSignature(e,t){return this.insertIndexSignatures(e,[t])[0]}insertIndexSignatures(e,t){return Zi({thisNode:this,index:e,structures:t,expectedKind:i.SyntaxKind.IndexSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forIndexSignatureDeclaration()})}getIndexSignature(e){return this.getIndexSignatures().find(e)}getIndexSignatureOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getIndexSignature(e),"Expected to find a index signature with the provided condition.")}getIndexSignatures(){return this.compilerNode.members.filter((e=>e.kind===i.SyntaxKind.IndexSignature)).map((e=>this._getNodeFromCompilerNode(e)))}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(Q(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return Zi({thisNode:this,index:e,structures:t,expectedKind:i.SyntaxKind.MethodSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forMethodSignature()})}getMethod(e){return p(this.getMethods(),e)}getMethodOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getMethod(e),(()=>m("interface method signature",e)))}getMethods(){return this.compilerNode.members.filter((e=>e.kind===i.SyntaxKind.MethodSignature)).map((e=>this._getNodeFromCompilerNode(e)))}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(Q(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return Zi({thisNode:this,index:e,structures:t,expectedKind:i.SyntaxKind.PropertySignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forPropertySignature()})}getProperty(e){return p(this.getProperties(),e)}getPropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getProperty(e),(()=>m("interface property signature",e)))}getProperties(){return this.compilerNode.members.filter((e=>e.kind===i.SyntaxKind.PropertySignature)).map((e=>this._getNodeFromCompilerNode(e)))}getMembers(){return this.compilerNode.members.map((e=>this._getNodeFromCompilerNode(e)))}getMembersWithComments(){const e=this.compilerNode;return we.getContainerArray(e,this._sourceFile.compilerNode).map((e=>this._getNodeFromCompilerNode(e)))}set(t){return L(e.prototype,this,t),null!=t.callSignatures&&(this.getCallSignatures().forEach((e=>e.remove())),this.addCallSignatures(t.callSignatures)),null!=t.constructSignatures&&(this.getConstructSignatures().forEach((e=>e.remove())),this.addConstructSignatures(t.constructSignatures)),null!=t.indexSignatures&&(this.getIndexSignatures().forEach((e=>e.remove())),this.addIndexSignatures(t.indexSignatures)),null!=t.properties&&(this.getProperties().forEach((e=>e.remove())),this.addProperties(t.properties)),null!=t.methods&&(this.getMethods().forEach((e=>e.remove())),this.addMethods(t.methods)),this}getStructure(){return A(e.prototype,this,{callSignatures:this.getCallSignatures().map((e=>e.getStructure())),constructSignatures:this.getConstructSignatures().map((e=>e.getStructure())),indexSignatures:this.getIndexSignatures().map((e=>e.getStructure())),methods:this.getMethods().map((e=>e.getStructure())),properties:this.getProperties().map((e=>e.getStructure()))})}}}function Zi(e){return st({getIndexedChildren:()=>e.thisNode.getMembersWithComments(),parent:e.thisNode,index:e.index,structures:e.structures,expectedKind:e.expectedKind,write:(t,r)=>{t.newLineIfLastNot(),e.createStructurePrinter().printTexts(t,e.structures),t.newLineIfLastNot()}})}function Yi(e){return class extends e{getTypeParameter(e){return p(this.getTypeParameters(),e)}getTypeParameterOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getTypeParameter(e),(()=>m("type parameter",e)))}getTypeParameters(){const e=this.compilerNode.typeParameters;return null==e?[]:e.map((e=>this._getNodeFromCompilerNode(e)))}addTypeParameter(e){return this.addTypeParameters([e])[0]}addTypeParameters(e){return this.insertTypeParameters(Q(this.compilerNode.typeParameters),e)}insertTypeParameter(e,t){return this.insertTypeParameters(e,[t])[0]}insertTypeParameters(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=this.getTypeParameters(),n=this._getWriterWithQueuedChildIndentation(),s=this._context.structurePrinterFactory.forTypeParameterDeclaration();return e=le(e,r.length),s.printTexts(n,t),0===r.length?tt({insertPos:en(this),parent:this,newText:`<${n.toString()}>`}):it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1}),ie(r,this.getTypeParameters(),e,!1)}set(t){return L(e.prototype,this,t),null!=t.typeParameters&&(this.getTypeParameters().forEach((e=>e.remove())),this.addTypeParameters(t.typeParameters)),this}getStructure(){return A(e.prototype,this,{typeParameters:this.getTypeParameters().map((e=>e.getStructure()))})}}}function en(e){const t=e;if(null!=t.getNameNode)return t.getNameNode().getEnd();if(Pt.isCallSignatureDeclaration(e)||Pt.isFunctionTypeNode(e))return e.getFirstChildByKindOrThrow(i.SyntaxKind.OpenParenToken).getStart();throw new i.errors.NotImplementedError(`Not implemented scenario inserting type parameters for node with kind ${e.getKindName()}.`)}function tn(e){return class extends e{unwrap(){var e;et((e=this)._sourceFile,new Xe(e),(new Be).getForUnwrappingNode(e))}}}class rn extends Pt{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}const nn=Jt(Ti(Ii(Pt)));class sn extends nn{getPropertyNameNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getPropertyNameNode(),"Expected to find a property name node.")}getPropertyNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.propertyName)}}class on extends Pt{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}function an(e){return class extends e{isAbstract(){return null!=this.getAbstractKeyword()}getAbstractKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.AbstractKeyword)}getAbstractKeywordOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAbstractKeyword(),"Expected to find an abstract keyword.")}setIsAbstract(e){return this.toggleModifier("abstract",e),this}set(t){return L(e.prototype,this,t),null!=t.isAbstract&&this.setIsAbstract(t.isAbstract),this}getStructure(){return A(e.prototype,this,{isAbstract:this.isAbstract()})}}}class ln extends Pt{getContextualType(){return this._context.typeChecker.getContextualType(this)}}const cn=ln;class dn extends cn{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getOperatorToken(){return this._getNodeFromCompilerNode(this.compilerNode.operatorToken)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}}const un=dn;class hn extends un{getOperatorToken(){return this._getNodeFromCompilerNode(this.compilerNode.operatorToken)}}const pn=hn;class gn extends ln{}class mn extends gn{}class yn extends mn{}class xn extends yn{}class fn extends xn{}class Sn extends fn{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}addElement(e,t){return this.addElements([e],t)[0]}addElements(e,t){return this.insertElements(this.compilerNode.elements.length,e,t)}insertElement(e,t,r){return this.insertElements(e,[t],r)[0]}insertElements(e,t,r={}){const n=this.getElements();e=le(e,n.length);const s=(o=this,null!=r.useNewLines?r.useNewLines:n.length>1?function(){let e=n[0].getStartLineNumber();for(let t=1;t<n.length;t++){const r=n[t].getStartLineNumber();if(e===r)return!1;e=r}return!0}():o.getStartLineNumber()!==o.getEndLineNumber());var o;const a=s?this._getWriterWithChildIndentation():this._getWriterWithQueuedChildIndentation(),l=new Pr;return(s?new nr(l):new rr(l)).printText(a,t),function(t){it({parent:t.getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:n,insertIndex:e,newText:a.toString(),useNewLines:s,useTrailingCommas:s&&t._context.manipulationSettings.getUseTrailingCommas()});const r=t.getElements();return ie(n,r,e,!1)}(this)}removeElement(e){const t=this.getElements();if(0===t.length)throw new i.errors.InvalidOperationError("Cannot remove an element when none exist.");ut("number"===typeof e?t[le(e,t.length-1)]:e)}}function Tn(e){return class extends e{getExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.expression)}getExpressionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getExpression(),"Expected to find an expression.")}getExpressionIfKind(e){const t=this.getExpression();return(null===t||void 0===t?void 0:t.getKind())===e?t:void 0}getExpressionIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),`An expression with the kind kind ${i.getSyntaxKindName(e)} was expected.`)}}}function Nn(e){return class extends e{getExpression(){return this._getNodeFromCompilerNode(this.compilerNode.expression)}getExpressionIfKind(e){const{expression:t}=this.compilerNode;return t.kind===e?this._getNodeFromCompilerNode(t):void 0}getExpressionIfKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),`An expression of the kind ${i.getSyntaxKindName(e)} was expected.`)}setExpression(e){return this.getExpression().replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}set(t){return L(e.prototype,this,t),null!=t.expression&&this.setExpression(t.expression),this}}}function bn(e){return Nn(e)}function Kn(e){return Nn(e)}function wn(e){return Nn(e)}function Fn(e){return Nn(e)}const Cn=(e=>qi(bn(e)))(ln);class _n extends Cn{}const In=Fn(gn);class Pn extends In{}const vn=(e=>Gi(Nt(ki(Kn(e)))))(yn);class En extends vn{getReturnType(){return this._context.typeChecker.getTypeAtLocation(this)}}const Dn=ln;class On extends Dn{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}const An=ln;class Ln extends An{getCondition(){return this._getNodeFromCompilerNode(this.compilerNode.condition)}getQuestionToken(){return this._getNodeFromCompilerNode(this.compilerNode.questionToken)}getWhenTrue(){return this._getNodeFromCompilerNode(this.compilerNode.whenTrue)}getColonToken(){return this._getNodeFromCompilerNode(this.compilerNode.colonToken)}getWhenFalse(){return this._getNodeFromCompilerNode(this.compilerNode.whenFalse)}}const kn=Fn(gn);class Mn extends kn{}const Wn=(e=>ki(Kn(e)))(xn);class zn extends Wn{getArgumentExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.argumentExpression)}getArgumentExpressionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getArgumentExpression(),"Expected to find an argument expression.")}}const Bn=fn;class jn extends Bn{}const Un=bi(fn);class Rn extends Un{}const Jn=Di(fn);class Vn extends Jn{getKeywordToken(){return this.compilerNode.keywordToken}}const $n=(e=>Gi(Nt(Kn(e))))(fn);class Qn extends $n{}const Gn=bn(yn);class qn extends Gn{}class Hn extends Pt{remove(){ut(this)}}class Xn extends Hn{}const Zn=hn;const Yn=fn;class es extends Yn{getPropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getProperty(e),(()=>m("property",e)))}getProperty(e){let t;return t="string"===typeof e?t=>null!=t.getName&&t.getName()===e:e,this.getProperties().find(t)}getProperties(){return this.compilerNode.properties.map((e=>this._getNodeFromCompilerNode(e)))}getPropertiesWithComments(){return we.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode).map((e=>this._getNodeFromCompilerNode(e)))}_getAddIndex(){return we.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode).length}addProperty(e){return this.insertProperties(this._getAddIndex(),[e])[0]}addProperties(e){return this.insertProperties(this._getAddIndex(),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){const r=this.getPropertiesWithComments();e=le(e,r.length);const i=this._getWriterWithChildIndentation();return this._context.structurePrinterFactory.forObjectLiteralExpressionProperty().printTexts(i,t),it({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),ie(r,this.getPropertiesWithComments(),e,!0)}addPropertyAssignment(e){return this.addPropertyAssignments([e])[0]}addPropertyAssignments(e){return this.insertPropertyAssignments(this._getAddIndex(),e)}insertPropertyAssignment(e,t){return this.insertPropertyAssignments(e,[t])[0]}insertPropertyAssignments(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forPropertyAssignment()))}addShorthandPropertyAssignment(e){return this.addShorthandPropertyAssignments([e])[0]}addShorthandPropertyAssignments(e){return this.insertShorthandPropertyAssignments(this._getAddIndex(),e)}insertShorthandPropertyAssignment(e,t){return this.insertShorthandPropertyAssignments(e,[t])[0]}insertShorthandPropertyAssignments(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forShorthandPropertyAssignment()))}addSpreadAssignment(e){return this.addSpreadAssignments([e])[0]}addSpreadAssignments(e){return this.insertSpreadAssignments(this._getAddIndex(),e)}insertSpreadAssignment(e,t){return this.insertSpreadAssignments(e,[t])[0]}insertSpreadAssignments(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forSpreadAssignment()))}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(this._getAddIndex(),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:!1})))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(this._getAddIndex(),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:!1})))}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(this._getAddIndex(),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return this._insertProperty(e,t,(()=>this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:!1})))}_insertProperty(e,t,r){e=le(e,this._getAddIndex());const n=this._getWriterWithChildIndentation(),s=new nr(r()),o=this.getPropertiesWithComments();return s.printText(n,t),it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:o,insertIndex:e,newText:n.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),ie(o,this.getPropertiesWithComments(),e,!1)}}const ts=(e=>Si(Mi(Oi(e))))(Hn);class rs extends ts{removeInitializer(){const e=this.getInitializerOrThrow(),t=e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.ColonToken),r=this.getChildIndex(),n=this._sourceFile.getFullText(),s=this.getStart(),o=n.substring(s,t.getPos())+n.substring(e.getEnd(),this.getEnd()),a=this.getParentSyntaxList()||this.getParentOrThrow();return tt({insertPos:s,newText:o,parent:a,replacing:{textLength:this.getWidth()}}),a.getChildAtIndexIfKindOrThrow(r,i.SyntaxKind.ShorthandPropertyAssignment)}setInitializer(e){const t=this.getInitializerOrThrow();return tt({insertPos:t.getStart(),newText:_(this._getWriterWithQueuedChildIndentation(),e),parent:this,replacing:{textLength:t.getWidth()}}),this}set(e){if(L(ts.prototype,this,e),null!=e.initializer)this.setInitializer(e.initializer);else if(e.hasOwnProperty("initializer"))return this.removeInitializer();return this}getStructure(){const e=this.getInitializerOrThrow(),r=A(ts.prototype,this,{kind:t.z_b.PropertyAssignment,initializer:e.getText()});return delete r.hasQuestionToken,r}}const is=(e=>Si(Mi(Di(e))))(Hn);class ns extends is{hasObjectAssignmentInitializer(){return null!=this.compilerNode.objectAssignmentInitializer}getObjectAssignmentInitializerOrThrow(){return i.errors.throwIfNullOrUndefined(this.getObjectAssignmentInitializer(),"Expected to find an object assignment initializer.")}getObjectAssignmentInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.objectAssignmentInitializer)}getEqualsTokenOrThrow(){return i.errors.throwIfNullOrUndefined(this.getEqualsToken(),"Expected to find an equals token.")}getEqualsToken(){const e=this.compilerNode.equalsToken;if(null!=e)return this._getNodeFromCompilerNode(e)}removeObjectAssignmentInitializer(){return this.hasObjectAssignmentInitializer()?(at({children:[this.getEqualsTokenOrThrow(),this.getObjectAssignmentInitializerOrThrow()],removePrecedingSpaces:!0}),this):this}setInitializer(e){const t=this.getParentSyntaxList()||this.getParentOrThrow(),r=this.getChildIndex();return tt({insertPos:this.getStart(),newText:this.getText()+`: ${e}`,parent:t,replacing:{textLength:this.getWidth()}}),t.getChildAtIndexIfKindOrThrow(r,i.SyntaxKind.PropertyAssignment)}set(e){return L(is.prototype,this,e),this}getStructure(){const e=A(is.prototype,this,{kind:t.z_b.ShorthandPropertyAssignment});return delete e.hasQuestionToken,e}}const ss=bn(Hn);class os extends ss{set(e){return L(ss.prototype,this,e),this}getStructure(){return A(ss.prototype,this,{kind:t.z_b.SpreadAssignment,expression:this.getExpression().getText()})}}const as=ln;class ls extends as{}const cs=bn(ln);class ds extends cs{}const us=bn(ln);class hs extends us{}const ps=gn;class gs extends ps{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}}const ms=gn;class ys extends ms{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}}const xs=(e=>Di(ki(Kn(e))))(xn);class fs extends xs{}const Ss=bn(ln);class Ts extends Ss{}const Ns=wn(zn);const bs=fn;class Ks extends bs{}const ws=wn(fs);const Fs=fn;class Cs extends Fs{}const _s=(e=>qi(Fn(e)))(gn);class Is extends _s{}const Ps=Fn(gn);class vs extends Ps{}const Es=Fn(gn);class Ds extends Es{}const Os=Tn(mi(ln));class As extends Os{}const Ls=Ut(Pt);class ks extends Ls{remove(){ht([this])}}function Ms(e){return class extends e{getStatements(){var e;const t=this._getCompilerStatementsContainer();return(null!==(e=null===t||void 0===t?void 0:t.statements)&&void 0!==e?e:[]).map((e=>this._getNodeFromCompilerNode(e)))}getStatementsWithComments(){return this._getCompilerStatementsWithComments().map((e=>this._getNodeFromCompilerNode(e)))}getStatement(e){return this.getStatements().find(e)}getStatementOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getStatement(e),"Expected to find a statement matching the provided condition.")}getStatementByKind(e){const t=this._getCompilerStatementsWithComments().find((t=>t.kind===e));return this._getNodeFromCompilerNodeIfExists(t)}getStatementByKindOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getStatementByKind(e),`Expected to find a statement with syntax kind ${i.getSyntaxKindName(e)}.`)}addStatements(e){return this.insertStatements(this._getCompilerStatementsWithComments().length,e)}insertStatements(e,t){Ws(this);return function(){const e=this.getChildSyntaxListOrThrow();if(Pt.isCaseClause(this)||Pt.isDefaultClause(this)){const t=e.getFirstChildIfKind(i.SyntaxKind.Block);if(null!=t)return t.getChildSyntaxListOrThrow()}return e}.call(this).insertChildText(e,(e=>{this._context.structurePrinterFactory.forStatement({isAmbient:f(this)}).printTexts(e,t)}))}removeStatement(e){return e=le(e,this._getCompilerStatementsWithComments().length-1),this.removeStatements([e,e])}removeStatements(e){const t=this.getStatementsWithComments();return i.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),ht(t.slice(e[0],e[1]+1)),this}addClass(e){return this.addClasses([e])[0]}addClasses(e){return this.insertClasses(this._getCompilerStatementsWithComments().length,e)}insertClass(e,t){return this.insertClasses(e,[t])[0]}insertClasses(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.ClassDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forClassDeclaration({isAmbient:f(this)}).printTexts(e,t)}))}})}getClasses(){return this.getStatements().filter(Pt.isClassDeclaration)}getClass(e){return p(this.getClasses(),e)}getClassOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getClass(e),(()=>m("class",e)))}addEnum(e){return this.addEnums([e])[0]}addEnums(e){return this.insertEnums(this._getCompilerStatementsWithComments().length,e)}insertEnum(e,t){return this.insertEnums(e,[t])[0]}insertEnums(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.EnumDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forEnumDeclaration().printTexts(e,t)}))}})}getEnums(){return this.getStatements().filter(Pt.isEnumDeclaration)}getEnum(e){return p(this.getEnums(),e)}getEnumOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getEnum(e),(()=>m("enum",e)))}addFunction(e){return this.addFunctions([e])[0]}addFunctions(e){return this.insertFunctions(this._getCompilerStatementsWithComments().length,e)}insertFunction(e,t){return this.insertFunctions(e,[t])[0]}insertFunctions(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.FunctionDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:f(this)}).printTexts(e,t)}),{previousNewLine:e=>!0===t[0].hasDeclareKeyword&&Pt.isFunctionDeclaration(e)&&null==e.getBody(),nextNewLine:e=>!0===t[t.length-1].hasDeclareKeyword&&Pt.isFunctionDeclaration(e)&&null==e.getBody()})}})}getFunctions(){return this.getStatements().filter(Pt.isFunctionDeclaration).filter((e=>e.isAmbient()||e.isImplementation()))}getFunction(e){return p(this.getFunctions(),e)}getFunctionOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getFunction(e),(()=>m("function",e)))}addInterface(e){return this.addInterfaces([e])[0]}addInterfaces(e){return this.insertInterfaces(this._getCompilerStatementsWithComments().length,e)}insertInterface(e,t){return this.insertInterfaces(e,[t])[0]}insertInterfaces(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.InterfaceDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forInterfaceDeclaration().printTexts(e,t)}))}})}getInterfaces(){return this.getStatements().filter(Pt.isInterfaceDeclaration)}getInterface(e){return p(this.getInterfaces(),e)}getInterfaceOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getInterface(e),(()=>m("interface",e)))}addModule(e){return this.addModules([e])[0]}addModules(e){return this.insertModules(this._getCompilerStatementsWithComments().length,e)}insertModule(e,t){return this.insertModules(e,[t])[0]}insertModules(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.ModuleDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forModuleDeclaration({isAmbient:f(this)}).printTexts(e,t)}))}})}getModules(){return this.getStatements().filter(Pt.isModuleDeclaration)}getModule(e){return p(this.getModules(),e)}getModuleOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getModule(e),(()=>m("namespace",e)))}addTypeAlias(e){return this.addTypeAliases([e])[0]}addTypeAliases(e){return this.insertTypeAliases(this._getCompilerStatementsWithComments().length,e)}insertTypeAlias(e,t){return this.insertTypeAliases(e,[t])[0]}insertTypeAliases(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.TypeAliasDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forTypeAliasDeclaration().printTexts(e,t)}),{previousNewLine:e=>Pt.isTypeAliasDeclaration(e),nextNewLine:e=>Pt.isTypeAliasDeclaration(e)})}})}getTypeAliases(){return this.getStatements().filter(Pt.isTypeAliasDeclaration)}getTypeAlias(e){return p(this.getTypeAliases(),e)}getTypeAliasOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getTypeAlias(e),(()=>m("type alias",e)))}getVariableStatements(){return this.getStatements().filter(Pt.isVariableStatement)}getVariableStatement(e){return this.getVariableStatements().find("string"===typeof e?t=>t.getDeclarations().some((t=>g(t,e))):e)}getVariableStatementOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getVariableStatement(e),"Expected to find a variable statement that matched the provided condition.")}addVariableStatement(e){return this.addVariableStatements([e])[0]}addVariableStatements(e){return this.insertVariableStatements(this._getCompilerStatementsWithComments().length,e)}insertVariableStatement(e,t){return this.insertVariableStatements(e,[t])[0]}insertVariableStatements(e,t){return this._insertChildren({expectedKind:i.SyntaxKind.VariableStatement,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,(()=>{this._context.structurePrinterFactory.forVariableStatement().printTexts(e,t)}),{previousNewLine:e=>Pt.isVariableStatement(e),nextNewLine:e=>Pt.isVariableStatement(e)})}})}getVariableDeclarations(){const e=[];for(const t of this.getVariableStatements())e.push(...t.getDeclarations());return e}getVariableDeclaration(e){return p(this.getVariableDeclarations(),e)}getVariableDeclarationOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getVariableDeclaration(e),(()=>m("variable declaration",e)))}getStructure(){const t={};return Pt.isBodyableNode(this)&&!this.hasBody()?t.statements=void 0:t.statements=this.getStatements().map((e=>Pt._hasStructure(e)?e.getStructure():e.getText({trimLeadingIndentation:!0}))),A(e.prototype,this,t)}set(t){if(Pt.isBodyableNode(this)&&null==t.statements&&t.hasOwnProperty("statements"))this.removeBody();else if(null!=t.statements){const e=this._getCompilerStatementsWithComments().length;e>0&&this.removeStatements([0,e-1])}return L(e.prototype,this,t),null!=t.statements&&this.addStatements(t.statements),this}_getCompilerStatementsWithComments(){const e=this._getCompilerStatementsContainer();return null==e?[]:we.getContainerArray(e,this._sourceFile.compilerNode)}_getCompilerStatementsContainer(){var e;if(Pt.isSourceFile(this)||Pt.isCaseClause(this)||Pt.isDefaultClause(this))return this.compilerNode;if(Pt.isModuleDeclaration(this)){const e=this._getInnerBody();return null==e?void 0:e.compilerNode}if(Pt.isBodyableNode(this)||Pt.isBodiedNode(this))return null===(e=this.getBody())||void 0===e?void 0:e.compilerNode;if(Pt.isBlock(this)||Pt.isModuleBlock(this))return this.compilerNode;throw new i.errors.NotImplementedError(`Could not find the statements for node kind: ${this.getKindName()}, text: ${this.getText()}`)}_insertChildren(e){return Ws(this),st({expectedKind:e.expectedKind,getIndexedChildren:()=>this.getStatementsWithComments(),index:e.index,parent:this,structures:e.structures,write:(t,r)=>e.write(t,r)})}_standardWrite(e,t,r,i={}){null==t.previousMember||null!=i.previousNewLine&&i.previousNewLine(t.previousMember)||Pt.isCommentNode(t.previousMember)?t.isStartOfFile||e.newLineIfLastNot():e.blankLine(),r(),null==t.nextMember||null!=i.nextNewLine&&i.nextNewLine(t.nextMember)?e.newLineIfLastNot():e.blankLine()}}}function Ws(e){Pt.isBodyableNode(e)&&!e.hasBody()&&e.addBody()}const zs=(e=>$i(Ms(e)))(ks);class Bs extends zs{}class js extends ks{getLabel(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.label)}getLabelOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLabel(),"Expected to find a label.")}}const Us=$i(Pt);class Rs extends Us{getClauses(){return(this.compilerNode.clauses||[]).map((e=>this._getNodeFromCompilerNode(e)))}removeClause(e){return e=le(e,this.getClauses().length-1),this.removeClauses([e,e])}removeClauses(e){const t=this.getClauses();return i.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),gt(t.slice(e[0],e[1]+1)),this}}const Js=(e=>bn($i(Ms(e))))(Pt);class Vs extends Js{remove(){pt(this)}}const $s=Pt;class Qs extends $s{getBlock(){return this._getNodeFromCompilerNode(this.compilerNode.block)}getVariableDeclaration(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.variableDeclaration)}getVariableDeclarationOrThrow(){return i.errors.throwIfNullOrUndefined(this.getVariableDeclaration(),"Expected to find a variable declaration.")}}class Gs extends ks{}class qs extends ks{getLabel(){return null==this.compilerNode.label?void 0:this._getNodeFromCompilerNode(this.compilerNode.label)}getLabelOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLabel(),"Expected to find a label.")}}const Hs=ks;class Xs extends Hs{}const Zs=(e=>$i(Ms(e)))(Pt);class Ys extends Zs{remove(){pt(this)}}class eo extends ks{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}const to=bn(eo);class ro extends to{}const io=ks;class no extends io{}const so=bn(Ni(ks));class oo extends so{}const ao=bn(eo);class lo extends ao{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}}const co=bn(Kt(eo));class uo extends co{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}}const ho=eo;class po extends ho{getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}getInitializerOrThrow(){return i.errors.throwIfNullOrUndefined(this.getInitializer(),"Expected to find an initializer.")}getCondition(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.condition)}getConditionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getCondition(),"Expected to find a condition.")}getIncrementor(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.incrementor)}getIncrementorOrThrow(){return i.errors.throwIfNullOrUndefined(this.getIncrementor(),"Expected to find an incrementor.")}}const go=bn(ks);class mo extends go{getThenStatement(){return this._getNodeFromCompilerNode(this.compilerNode.thenStatement)}getElseStatement(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.elseStatement)}remove(){const e=[];Pt.isIfStatement(this.getParentOrThrow())&&e.push(this.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.ElseKeyword)),e.push(this),ht(e)}}const yo=Ni(ks);class xo extends yo{getLabel(){return this._getNodeFromCompilerNode(this.compilerNode.label)}getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}const fo=ks;class So extends fo{}const To=Tn(ks);class No extends To{}const bo=bn(ks);class Ko extends bo{getCaseBlock(){return this._getNodeFromCompilerNode(this.compilerNode.caseBlock)}getClauses(){return this.getCaseBlock().getClauses()}removeClause(e){return this.getCaseBlock().removeClause(e)}removeClauses(e){return this.getCaseBlock().removeClauses(e)}}const wo=bn(ks);class Fo extends wo{}const Co=ks;class _o extends Co{getTryBlock(){return this._getNodeFromCompilerNode(this.compilerNode.tryBlock)}getCatchClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.catchClause)}getCatchClauseOrThrow(){return i.errors.throwIfNullOrUndefined(this.getCatchClause(),"Expected to find a catch clause.")}getFinallyBlock(){if(null!=this.compilerNode.finallyBlock&&0!==this.compilerNode.finallyBlock.getFullWidth())return this._getNodeFromCompilerNode(this.compilerNode.finallyBlock)}getFinallyBlockOrThrow(){return i.errors.throwIfNullOrUndefined(this.getFinallyBlock(),"Expected to find a finally block.")}}const Io=bn(ks);class Po extends Io{isExportEquals(){return this.compilerNode.isExportEquals||!1}setIsExportEquals(e){return this.isExportEquals()===e||(e?this.getFirstChildByKindOrThrow(i.SyntaxKind.DefaultKeyword).replaceWithText("="):this.getFirstChildByKindOrThrow(i.SyntaxKind.EqualsToken).replaceWithText("default")),this}set(e){return L(Io.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),null!=e.isExportEquals&&this.setIsExportEquals(e.isExportEquals),this}getStructure(){return A(ks.prototype,this,{kind:t.z_b.ExportAssignment,expression:this.getExpression().getText(),isExportEquals:this.isExportEquals()})}}const vo=ks;class Eo extends vo{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){var t;if(this.isTypeOnly()===e)return this;if(e)tt({parent:this,insertPos:(null!==(t=this.getNodeProperty("exportClause"))&&void 0!==t?t:this.getFirstChildByKindOrThrow(i.SyntaxKind.AsteriskToken)).getStart(),newText:"type "});else{at({children:[this.getFirstChildByKindOrThrow(i.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})}return this}getNamespaceExport(){const e=this.getNodeProperty("exportClause");return null!=e&&Pt.isNamespaceExport(e)?e:void 0}getNamespaceExportOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNamespaceExport(),"Expected to find a namespace export.")}setNamespaceExport(e){const t=this.getNodeProperty("exportClause"),r=i.StringUtils.isNullOrWhitespace(e)?"*":`* as ${e}`;if(null==t){tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.AsteriskToken).getStart(),parent:this,newText:r,replacing:{textLength:1}})}else Pt.isNamespaceExport(t)?t.getNameNode().replaceWithText(e):tt({insertPos:t.getStart(),parent:this,newText:r,replacing:{textLength:t.getWidth()}});return this}setModuleSpecifier(e){const t="string"===typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);if(i.StringUtils.isNullOrEmpty(t))return this.removeModuleSpecifier(),this;const r=this.getModuleSpecifier();if(null==r){const e=this.getLastChildIfKind(i.SyntaxKind.SemicolonToken),r=this._context.manipulationSettings.getQuoteKind();tt({insertPos:null!=e?e.getPos():this.getEnd(),parent:this,newText:` from ${r}${t}${r}`})}else r.setLiteralValue(t);return this}getModuleSpecifier(){const e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.moduleSpecifier);if(null!=e){if(!Pt.isStringLiteral(e))throw new i.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}}getModuleSpecifierValue(){const e=this.getModuleSpecifier();return null===e||void 0===e?void 0:e.getLiteralValue()}getModuleSpecifierSourceFileOrThrow(){return i.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),"A module specifier source file was expected.")}getModuleSpecifierSourceFile(){const e=this.getLastChildByKind(i.SyntaxKind.StringLiteral);if(null==e)return;const t=e.getSymbol();if(null==t)return;const r=t.getDeclarations()[0];return null!=r&&Pt.isSourceFile(r)?r:void 0}isModuleSpecifierRelative(){const e=this.getModuleSpecifierValue();return null!=e&&N.isModuleSpecifierRelative(e)}removeModuleSpecifier(){const e=this.getModuleSpecifier();if(null==e)return this;if(!this.hasNamedExports())throw new i.errors.InvalidOperationError("Cannot remove the module specifier from an export declaration that has no named exports.");return at({children:[this.getFirstChildByKindOrThrow(i.SyntaxKind.FromKeyword),e],removePrecedingNewLines:!0,removePrecedingSpaces:!0}),this}hasModuleSpecifier(){return null!=this.getLastChildByKind(i.SyntaxKind.StringLiteral)}isNamespaceExport(){return!this.hasNamedExports()}hasNamedExports(){var e;return(null===(e=this.compilerNode.exportClause)||void 0===e?void 0:e.kind)===i.SyntaxKind.NamedExports}addNamedExport(e){return this.addNamedExports([e])[0]}addNamedExports(e){return this.insertNamedExports(this.getNamedExports().length,e)}insertNamedExport(e,t){return this.insertNamedExports(e,[t])[0]}insertNamedExports(e,t){if(!(t instanceof Function)&&i.ArrayUtils.isNullOrEmpty(t))return[];const r=this.getNamedExports(),n=this._getWriterWithIndentation(),s=this._context.structurePrinterFactory.forNamedImportExportSpecifier();e=le(e,r.length);const o=this.getNodeProperty("exportClause");if(null==o){s.printTextsWithBraces(n,t);tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.AsteriskToken).getStart(),parent:this,newText:n.toString(),replacing:{textLength:1}})}else o.getKind()===i.SyntaxKind.NamespaceExport?(s.printTextsWithBraces(n,t),tt({insertPos:o.getStart(),parent:this,newText:n.toString(),replacing:{textLength:o.getWidth()}})):(s.printTexts(n,t),it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.NamedExports).getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1}));return ie(r,this.getNamedExports(),e,!1)}getNamedExports(){const e=this.compilerNode.exportClause;return null==e||i.ts.isNamespaceExport(e)?[]:e.elements.map((e=>this._getNodeFromCompilerNode(e)))}toNamespaceExport(){if(!this.hasModuleSpecifier())throw new i.errors.InvalidOperationError("Cannot change to a namespace export when no module specifier exists.");const e=this.getNodeProperty("exportClause");return null==e||tt({parent:this,newText:"*",insertPos:e.getStart(),replacing:{textLength:e.getWidth()}}),this}set(e){return L(vo.prototype,this,e),null!=e.namedExports?(!function(e){const t=e.getNodeProperty("exportClause");let r;if(null!=t){if(0===e.getNamedExports().length)return;r=t}else r=e.getFirstChildByKindOrThrow(i.SyntaxKind.AsteriskToken);tt({parent:e,newText:"{ }",insertPos:r.getStart(),replacing:{textLength:r.getWidth()}})}(this),this.addNamedExports(e.namedExports)):e.hasOwnProperty("namedExports")&&null==e.moduleSpecifier&&this.toNamespaceExport(),null!=e.moduleSpecifier?this.setModuleSpecifier(e.moduleSpecifier):e.hasOwnProperty("moduleSpecifier")&&this.removeModuleSpecifier(),null==e.namedExports&&e.hasOwnProperty("namedExports")&&this.toNamespaceExport(),null!=e.namespaceExport&&this.setNamespaceExport(e.namespaceExport),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),this}getStructure(){var e;const r=this.getModuleSpecifier();return A(vo.prototype,this,{kind:t.z_b.ExportDeclaration,isTypeOnly:this.isTypeOnly(),moduleSpecifier:null===r||void 0===r?void 0:r.getLiteralText(),namedExports:this.getNamedExports().map((e=>e.getStructure())),namespaceExport:null===(e=this.getNamespaceExport())||void 0===e?void 0:e.getName()})}}const Do=Pt;class Oo extends Do{setName(e){const t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.propertyName||this.compilerNode.name)}renameAlias(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.rename(e),this}setAlias(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;const t=this.getAliasNode();return null==t?tt({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):t.replaceWithText(e),this}removeAlias(){const e=this.getAliasNode();return null==e||at({children:[this.getFirstChildByKindOrThrow(i.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){const e=this.getAliasNode();return null==e||(e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}getExportDeclaration(){return this.getFirstAncestorByKindOrThrow(i.SyntaxKind.ExportDeclaration)}getLocalTargetSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLocalTargetSymbol(),"The export specifier's local target symbol was expected.")}getLocalTargetSymbol(){return this._context.typeChecker.getExportSpecifierLocalTargetSymbol(this)}getLocalTargetDeclarations(){var e,t;return null!==(t=null===(e=this.getLocalTargetSymbol())||void 0===e?void 0:e.getDeclarations())&&void 0!==t?t:[]}remove(){const e=this.getExportDeclaration();e.getNamedExports().length>1?ut(this):e.hasModuleSpecifier()?e.toNamespaceExport():e.remove()}set(e){return L(Do.prototype,this,e),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty("alias")&&this.removeAlias(),this}getStructure(){const e=this.getAliasNode();return A(Pt.prototype,this,{kind:t.z_b.ExportSpecifier,alias:e?e.getText():void 0,name:this.getNameNode().getText()})}}const Ao=Tn(Pt);class Lo extends Ao{getReferencedSourceFileOrThrow(){return i.errors.throwIfNullOrUndefined(this.getReferencedSourceFile(),"Expected to find the referenced source file.")}isRelative(){const e=this.getExpression();return!(null==e||!Pt.isStringLiteral(e))&&N.isModuleSpecifierRelative(e.getLiteralText())}getReferencedSourceFile(){const e=this.getExpression();if(null==e)return;const t=e.getSymbol();return null!=t?N.getReferencedSourceFileFromSymbol(t):void 0}}const ko=Pt;class Mo extends ko{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){if(this.isTypeOnly()===e)return this;if(e)tt({parent:this,insertPos:this.getStart(),newText:"type "});else{at({children:[this.getFirstChildByKindOrThrow(i.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})}return this}getDefaultImportOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefaultImport(),"Expected to find a default import.")}getDefaultImport(){return this.getNodeProperty("name")}getNamedBindingsOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNamedBindings(),"Expected to find an import declaration's named bindings.")}getNamedBindings(){return this.getNodeProperty("namedBindings")}getNamespaceImportOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNamespaceImport(),"Expected to find a namespace import.")}getNamespaceImport(){const e=this.getNamedBindings();if(null!=e&&Pt.isNamespaceImport(e))return e.getNameNode()}getNamedImports(){const e=this.getNamedBindings();return null!=e&&Pt.isNamedImports(e)?e.getElements():[]}}const Wo=ks;class zo extends Wo{isTypeOnly(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.isTypeOnly())&&void 0!==t&&t}setIsTypeOnly(e){const t=this.getImportClause();if(null==t){if(e)throw new i.errors.InvalidOperationError("Cannot set an import as type only when there is no import clause.");return this}return t.setIsTypeOnly(e),this}setModuleSpecifier(e){const t="string"===typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);return this.getModuleSpecifier().setLiteralValue(t),this}getModuleSpecifier(){const e=this._getNodeFromCompilerNode(this.compilerNode.moduleSpecifier);if(!Pt.isStringLiteral(e))throw new i.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}getModuleSpecifierValue(){return this.getModuleSpecifier().getLiteralValue()}getModuleSpecifierSourceFileOrThrow(){return i.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),"A module specifier source file was expected.")}getModuleSpecifierSourceFile(){const e=this.getModuleSpecifier().getSymbol();if(null!=e)return N.getReferencedSourceFileFromSymbol(e)}isModuleSpecifierRelative(){return N.isModuleSpecifierRelative(this.getModuleSpecifierValue())}setDefaultImport(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();const t=this.getDefaultImport();if(null!=t)return t.replaceWithText(e),this;const r=this.getFirstChildByKindOrThrow(i.SyntaxKind.ImportKeyword),n=this.getImportClause();return null==n?(tt({insertPos:r.getEnd(),parent:this,newText:` ${e} from`}),this):(tt({insertPos:r.getEnd(),parent:n,newText:` ${e},`}),this)}renameDefaultImport(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();const t=this.getDefaultImport();return null!=t?(t.rename(e),this):(this.setDefaultImport(e),this)}getDefaultImportOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefaultImport(),"Expected to find a default import.")}getDefaultImport(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getDefaultImport())&&void 0!==t?t:void 0}setNamespaceImport(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeNamespaceImport();const t=this.getNamespaceImport();if(null!=t)return t.rename(e),this;if(this.getNamedImports().length>0)throw new i.errors.InvalidOperationError("Cannot add a namespace import to an import declaration that has named imports.");const r=this.getDefaultImport();return null!=r?(tt({insertPos:r.getEnd(),parent:this.getImportClause(),newText:`, * as ${e}`}),this):(tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` * as ${e} from`}),this)}removeNamespaceImport(){const e=this.getNamespaceImport();return null==e||at({children:function(){const t=this.getDefaultImport();return null==t?[this.getImportClauseOrThrow(),this.getLastChildByKindOrThrow(i.SyntaxKind.FromKeyword)]:[t.getNextSiblingIfKindOrThrow(i.SyntaxKind.CommaToken),e]}.call(this),removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeDefaultImport(){const e=this.getImportClause();if(null==e)return this;const t=e.getDefaultImport();if(null==t)return this;return at(1===e.getChildCount()?{children:[e,e.getNextSiblingIfKindOrThrow(i.SyntaxKind.FromKeyword)],removePrecedingSpaces:!0,removePrecedingNewLines:!0}:{children:[t,t.getNextSiblingIfKindOrThrow(i.SyntaxKind.CommaToken)],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}getNamespaceImportOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNamespaceImport(),"Expected to find a namespace import.")}getNamespaceImport(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getNamespaceImport())&&void 0!==t?t:void 0}addNamedImport(e){return this.addNamedImports([e])[0]}addNamedImports(e){return this.insertNamedImports(this.getNamedImports().length,e)}insertNamedImport(e,t){return this.insertNamedImports(e,[t])[0]}insertNamedImports(e,t){if(!(t instanceof Function)&&i.ArrayUtils.isNullOrEmpty(t))return[];const r=this.getNamedImports(),n=this._getWriterWithQueuedIndentation(),s=this._context.structurePrinterFactory.forNamedImportExportSpecifier(),o=this.getImportClause();if(e=le(e,r.length),0===r.length)if(s.printTextsWithBraces(n,t),null==o)tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` ${n.toString()} from`});else{if(null!=this.getNamespaceImport())throw Bo();if(null!=o.getNamedBindings()){const e=o.getNamedBindingsOrThrow();tt({insertPos:e.getStart(),replacing:{textLength:e.getWidth()},parent:o,newText:n.toString()})}else tt({insertPos:this.getDefaultImport().getEnd(),parent:o,newText:`, ${n.toString()}`})}else{if(null==o)throw new i.errors.NotImplementedError("Expected to have an import clause.");s.printTexts(n,t),it({parent:o.getFirstChildByKindOrThrow(i.SyntaxKind.NamedImports).getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1})}return ie(r,this.getNamedImports(),e,!1)}getNamedImports(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getNamedImports())&&void 0!==t?t:[]}removeNamedImports(){const e=this.getImportClause();if(null==e)return this;const t=e.getNamedBindings();if(null==t||t.getKind()!==i.SyntaxKind.NamedImports)return this;const r=this.getDefaultImport();if(null!=r){return at({children:[r.getNextSiblingIfKindOrThrow(i.SyntaxKind.CommaToken),t]}),this}const n=e.getNextSiblingIfKindOrThrow(i.SyntaxKind.FromKeyword);return at({children:[e,n],removePrecedingSpaces:!0}),this}getImportClauseOrThrow(){return i.errors.throwIfNullOrUndefined(this.getImportClause(),"Expected to find an import clause.")}getImportClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.importClause)}set(e){return L(Wo.prototype,this,e),null!=e.defaultImport?this.setDefaultImport(e.defaultImport):e.hasOwnProperty("defaultImport")&&this.removeDefaultImport(),e.hasOwnProperty("namedImports")&&this.removeNamedImports(),null!=e.namespaceImport?this.setNamespaceImport(e.namespaceImport):e.hasOwnProperty("namespaceImport")&&this.removeNamespaceImport(),null!=e.namedImports&&(!function(e){const t=e.getNodeProperty("importClause"),r=e._getWriterWithQueuedChildIndentation();e._context.structurePrinterFactory.forNamedImportExportSpecifier().printTextsWithBraces(r,[]);const n=r.toString();if(null!=e.getNamespaceImport())throw Bo();if(null==t)return void tt({insertPos:e.getFirstChildByKindOrThrow(i.SyntaxKind.ImportKeyword).getEnd(),parent:e,newText:` ${n} from`});const s=t.getNamedBindings();if(null!=s)return void tt({parent:t,newText:n,insertPos:s.getStart(),replacing:{textLength:s.getWidth()}});const o=t.getDefaultImport();if(null!=o)tt({insertPos:o.getEnd(),parent:t,newText:`, ${n}`})}(this),this.addNamedImports(e.namedImports)),null!=e.moduleSpecifier&&this.setModuleSpecifier(e.moduleSpecifier),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),this}getStructure(){const e=this.getNamespaceImport(),r=this.getDefaultImport();return A(Wo.prototype,this,{kind:t.z_b.ImportDeclaration,isTypeOnly:this.isTypeOnly(),defaultImport:r?r.getText():void 0,moduleSpecifier:this.getModuleSpecifier().getLiteralText(),namedImports:this.getNamedImports().map((e=>e.getStructure())),namespaceImport:e?e.getText():void 0})}}function Bo(){return new i.errors.InvalidOperationError("Cannot add a named import to an import declaration that has a namespace import.")}const jo=(e=>Ni(Di(e)))(ks);class Uo extends jo{isTypeOnly(){var e;return null!==(e=this.compilerNode.isTypeOnly)&&void 0!==e&&e}setIsTypeOnly(e){if(this.isTypeOnly()===e)return this;if(e)tt({parent:this,insertPos:this.getNameNode().getStart(),newText:"type "});else{at({children:[this.getFirstChildByKindOrThrow(i.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})}return this}getModuleReference(){return this._getNodeFromCompilerNode(this.compilerNode.moduleReference)}isExternalModuleReferenceRelative(){const e=this.getModuleReference();return!!Pt.isExternalModuleReference(e)&&e.isRelative()}setExternalModuleReference(e){const t="string"===typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e),r=this.getModuleReference();return Pt.isExternalModuleReference(r)&&null!=r.getExpression()?r.getExpressionOrThrow().replaceWithText((e=>e.quote(t))):r.replaceWithText((e=>e.write("require(").quote(t).write(")"))),this}getExternalModuleReferenceSourceFileOrThrow(){return i.errors.throwIfNullOrUndefined(this.getExternalModuleReferenceSourceFile(),"Expected to find an external module reference's referenced source file.")}getExternalModuleReferenceSourceFile(){const e=this.getModuleReference();if(Pt.isExternalModuleReference(e))return e.getReferencedSourceFile()}}const Ro=Pt;class Jo extends Ro{setName(e){const t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){var e;return this._getNodeFromCompilerNode(null!==(e=this.compilerNode.propertyName)&&void 0!==e?e:this.compilerNode.name)}renameAlias(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.rename(e),this}setAlias(e){if(i.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;const t=this.getAliasNode();return null==t?tt({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):t.replaceWithText(e),this}removeAlias(){const e=this.getAliasNode();return null==e||at({children:[this.getFirstChildByKindOrThrow(i.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){const e=this.getAliasNode();return null==e||(e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}getImportDeclaration(){return this.getFirstAncestorByKindOrThrow(i.SyntaxKind.ImportDeclaration)}remove(){const e=this.getImportDeclaration();e.getNamedImports().length>1?ut(this):e.removeNamedImports()}set(e){return L(Ro.prototype,this,e),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty("alias")&&this.removeAlias(),this}getStructure(){const e=this.getAliasNode();return A(Ro.prototype,this,{kind:t.z_b.ImportSpecifier,name:this.getName(),alias:e?e.getText():void 0})}}const Vo=Ms(ks);class $o extends Vo{}function Qo(e){return class extends e{getParentModuleOrThrow(){return i.errors.throwIfNullOrUndefined(this.getParentModule(),"Expected to find the parent module declaration.")}getParentModule(){let e=this.getParentOrThrow();if(Pt.isModuleBlock(e)){for(;e.getParentOrThrow().getKind()===i.SyntaxKind.ModuleDeclaration;)e=e.getParentOrThrow();return e}}}}var Go;t.y7J=void 0,(Go=t.y7J||(t.y7J={})).Namespace="namespace",Go.Module="module",Go.Global="global";const qo=(e=>Ki(tn($i(jt(Qo(Ms(Ni(k(qt($t(Pi(e))))))))))))(ks);class Ho extends qo{getName(){const e=this.getNameNodes();return e instanceof Array?e.map((e=>e.getText())).join("."):e.getText()}setName(e){const r="Please open an issue if you really need this and I'll up the priority.";if(e.indexOf(".")>=0)throw new i.errors.NotImplementedError(`Not implemented to set a namespace name to a name containing a period. ${r}`);const n=this.getNameNodes();if(n instanceof Array){if(n.length>1)throw new i.errors.NotImplementedError(`Not implemented to set a namespace name that uses dot notation. ${r}`);"global"!==e&&Xo(this),i.StringUtils.isQuoted(e)&&function(e){e.hasNamespaceKeyword()&&e.setDeclarationKind(t.y7J.Module);e.hasDeclareKeyword()||e.setHasDeclareKeyword(!0)}(this),n[0].replaceWithText(e)}else n.replaceWithText(e);return this}rename(e,t){if(e.indexOf(".")>=0)throw new i.errors.NotSupportedError("Cannot rename a namespace name to a name containing a period.");const r=this.getNameNodes();if(r instanceof Array){if(r.length>1)throw new i.errors.NotSupportedError("Cannot rename a namespace name that uses dot notation. Rename the individual nodes via .getNameNodes()");"global"!==e&&Xo(this),r[0].rename(e,t)}else Wt(r,i.StringUtils.stripQuotes(e),t);return this}getNameNodes(){const e=this.getNameNode();if(Pt.isStringLiteral(e))return e;{const e=[];let t=this;do{e.push(this._getNodeFromCompilerNode(t.compilerNode.name)),t=t.getFirstChildByKind(i.SyntaxKind.ModuleDeclaration)}while(null!=t);return e}}hasNamespaceKeyword(){return this.getDeclarationKind()===t.y7J.Namespace}hasModuleKeyword(){return this.getDeclarationKind()===t.y7J.Module}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;if(e===t.y7J.Global){const e=this.getDeclarationKindKeyword();this.getNameNode().replaceWithText("global"),null!=e&&at({children:[e],removeFollowingNewLines:!0,removeFollowingSpaces:!0})}else{const t=this.getDeclarationKindKeyword();null!=t?t.replaceWithText(e):tt({parent:this,insertPos:this.getNameNode().getStart(),newText:e+" "})}return this}getDeclarationKind(){const e=this.getFlags();return 0!==(e&i.ts.NodeFlags.GlobalAugmentation)?t.y7J.Global:0!==(e&i.ts.NodeFlags.Namespace)?t.y7J.Namespace:t.y7J.Module}getDeclarationKindKeyword(){return this.getFirstChild((e=>e.getKind()===i.SyntaxKind.NamespaceKeyword||e.getKind()===i.SyntaxKind.ModuleKeyword))}set(e){return null!=e.name&&"global"!==e.name&&Xo(this),L(qo.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),this}getStructure(){return A(qo.prototype,this,{kind:t.z_b.Module,declarationKind:this.getDeclarationKind()})}_getInnerBody(){let e=this.getBody();for(;null!=e&&Pt.isBodyableNode(e)&&null==e.compilerNode.statements;)e=e.getBody();return e}}function Xo(e){e.getDeclarationKind()===t.y7J.Global&&e.setDeclarationKind(t.y7J.Namespace)}const Zo=Pt;class Yo extends Zo{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}const ea=Pt;class ta extends ea{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}const ra=_i(Pt);class ia extends ra{setName(e){const t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}}const na=_i(Pt);class sa extends na{setName(e){const t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}}class oa extends _t{constructor(e,t){super(e,t)}getFileName(){return this.compilerObject.fileName}}var aa;function la(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function ca(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}t.$$u=void 0,(aa=t.$$u||(t.$$u={}))[aa.NoChange=0]="NoChange",aa[aa.Updated=1]="Updated",aa[aa.Deleted=2]="Deleted";const da=Ki($i(Ms(Pt)));class ua extends da{constructor(e,t){super(e,t,void 0),this._isSaved=!1,this._modifiedEventContainer=new i.EventContainer,this._preModifiedEventContainer=new i.EventContainer,this._referenceContainer=new D(this),this.__sourceFile=this;const r=()=>{this.isFromExternalLibrary(),this._preModifiedEventContainer.unsubscribe(r)};this._preModifiedEventContainer.subscribe(r)}_replaceCompilerNodeFromFactory(e){super._replaceCompilerNodeFromFactory(e),this._context.resetProgram(),this._isSaved=!1,this._modifiedEventContainer.fire(this)}_clearInternals(){function e(e){null===e||void 0===e||e.forEach((e=>e._forget()))}super._clearInternals(),e(this._referencedFiles),e(this._typeReferenceDirectives),e(this._libReferenceDirectives),delete this._referencedFiles,delete this._typeReferenceDirectives,delete this._libReferenceDirectives}getFilePath(){return this.compilerNode.fileName}getBaseName(){return i.FileUtils.getBaseName(this.getFilePath())}getBaseNameWithoutExtension(){const e=this.getBaseName(),t=this.getExtension();return e.substring(0,e.length-t.length)}getExtension(){return i.FileUtils.getExtension(this.getFilePath())}getDirectory(){return this._context.compilerFactory.getDirectoryFromCache(this.getDirectoryPath())}getDirectoryPath(){return this._context.fileSystemWrapper.getStandardizedAbsolutePath(i.FileUtils.getDirPath(this.compilerNode.fileName))}getFullText(){return this.compilerNode.text}getLineAndColumnAtPos(e){const t=this.getFullText();return{line:i.StringUtils.getLineNumberAtPos(t,e),column:i.StringUtils.getLengthFromLineStartAtPos(t,e)+1}}getLengthFromLineStartAtPos(e){return i.StringUtils.getLengthFromLineStartAtPos(this.getFullText(),e)}copyToDirectory(e,t){const r="string"===typeof e?e:e.getPath();return this.copy(i.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t={}){const r=this._copyInternal(e,t);if(!1===r)return this;const i=r;return i.getDirectoryPath()!==this.getDirectoryPath()&&i._updateReferencesForCopyInternal(this._getReferencesForCopyInternal()),i}_copyInternal(e,t={}){const{overwrite:r=!1}=t,{compilerFactory:n,fileSystemWrapper:s}=this._context,o=s.getStandardizedAbsolutePath(e,this.getDirectoryPath());return o!==this.getFilePath()&&function(e){try{return n.createSourceFileFromText(o,e.getFullText(),{overwrite:r,markInProject:function(){if(e._isInProject())return!0;const t=n.getSourceFileFromCacheFromFilePath(o);return null!=t&&t._isInProject()}()})}catch(t){throw t instanceof i.errors.InvalidOperationError?new i.errors.InvalidOperationError("Did you mean to provide the overwrite option? "+t.message):t}}(this)}_getReferencesForCopyInternal(){return Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries())}_updateReferencesForCopyInternal(e){for(const t of e)t[0]=this.getChildSyntaxListOrThrow().getDescendantAtStartWithWidth(t[0].getStart(),t[0].getWidth());ha(e)}copyImmediately(e,t){return ca(this,void 0,void 0,(function*(){const r=this.copy(e,t);return yield r.save(),r}))}copyImmediatelySync(e,t){const r=this.copy(e,t);return r.saveSync(),r}moveToDirectory(e,t){const r="string"===typeof e?e:e.getPath();return this.move(i.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t={}){const r=this.getDirectoryPath(),i=this._getReferencesForMoveInternal(),n=this.getFilePath();return this._moveInternal(e,t)?(this._context.fileSystemWrapper.queueFileDelete(n),this._updateReferencesForMoveInternal(i,r),this._context.lazyReferenceCoordinator.clearDirtySourceFiles(),this._context.lazyReferenceCoordinator.addDirtySourceFile(this),this):this}_moveInternal(e,t={}){const{overwrite:r=!1}=t,i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());if(i===this.getFilePath())return!1;let n=!1;if(r){const e=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(i);null!=e&&(n=e._isInProject(),e.forget())}else this._context.compilerFactory.throwIfFileExists(i,"Did you mean to provide the overwrite option?");return St({newFilePath:i,sourceFile:this}),n&&this._markAsInProject(),this._isInProject()&&this.getDirectory()._markAsInProject(),!0}_getReferencesForMoveInternal(){return{literalReferences:Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries()),referencingLiterals:Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}}_updateReferencesForMoveInternal(e,t){const{literalReferences:r,referencingLiterals:i}=e;t!==this.getDirectoryPath()&&ha(r),ha(i.map((e=>[e,this])))}moveImmediately(e,t){return ca(this,void 0,void 0,(function*(){const r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(yield this._context.fileSystemWrapper.moveFileImmediately(r,i,this.getFullText()),this._isSaved=!0):yield this.save(),this}))}moveImmediatelySync(e,t){const r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(this._context.fileSystemWrapper.moveFileImmediatelySync(r,i,this.getFullText()),this._isSaved=!0):this.saveSync(),this}delete(){const e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.queueFileDelete(e)}deleteImmediately(){return ca(this,void 0,void 0,(function*(){const e=this.getFilePath();this.forget(),yield this._context.fileSystemWrapper.deleteFileImmediately(e)}))}deleteImmediatelySync(){const e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.deleteFileImmediatelySync(e)}save(){return ca(this,void 0,void 0,(function*(){yield this._context.fileSystemWrapper.writeFile(this.getFilePath(),this._getTextForSave()),this._isSaved=!0}))}saveSync(){this._context.fileSystemWrapper.writeFileSync(this.getFilePath(),this._getTextForSave()),this._isSaved=!0}_getTextForSave(){const e=this.getFullText();return this._hasBom?"\ufeff"+e:e}getPathReferenceDirectives(){return null==this._referencedFiles&&(this._referencedFiles=(this.compilerNode.referencedFiles||[]).map((e=>new oa(e,this)))),this._referencedFiles}getTypeReferenceDirectives(){return null==this._typeReferenceDirectives&&(this._typeReferenceDirectives=(this.compilerNode.typeReferenceDirectives||[]).map((e=>new oa(e,this)))),this._typeReferenceDirectives}getLibReferenceDirectives(){return null==this._libReferenceDirectives&&(this._libReferenceDirectives=(this.compilerNode.libReferenceDirectives||[]).map((e=>new oa(e,this)))),this._libReferenceDirectives}getReferencingSourceFiles(){return Array.from(this._referenceContainer.getDependentSourceFiles())}getReferencingNodesInOtherSourceFiles(){const e=this.getReferencingLiteralsInOtherSourceFiles();return Array.from(function*(){for(const t of e)yield pa(t)}())}getReferencingLiteralsInOtherSourceFiles(){return Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}getReferencedSourceFiles(){const e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(new Set(function*(){for(const[,t]of e)yield t}()).values())}getNodesReferencingOtherSourceFiles(){const e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(const[t]of e)yield pa(t)}())}getLiteralsReferencingOtherSourceFiles(){const e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(const[t]of e)yield t}())}getImportStringLiterals(){this._ensureBound();return(this.compilerNode.imports||[]).filter((e=>-1!==e.pos)).map((e=>this._getNodeFromCompilerNode(e)))}getLanguageVersion(){return this.compilerNode.languageVersion}getLanguageVariant(){return this.compilerNode.languageVariant}getScriptKind(){return this.compilerNode.scriptKind}isDeclarationFile(){return this.compilerNode.isDeclarationFile}isFromExternalLibrary(){if(!this._context.program._isCompilerProgramCreated())return!1;return this._context.program.compilerObject.isSourceFileFromExternalLibrary(this.compilerNode)}isInNodeModules(){return this.getFilePath().indexOf("/node_modules/")>=0}isSaved(){return this._isSaved}_setIsSaved(e){this._isSaved=e}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics(this)}unindent(e,t=1){return this.indent(e,-1*t)}indent(e,t=1){if(0===t)return this;const r=this.getFullText(),n="number"===typeof e?[e,e]:e;i.errors.throwIfRangeOutOfRange(n,[0,r.length],"positionRange");const s=q(r,n[0],(e=>e===l)),o=G(r,n[1],(e=>e===c||e===l)),a=i.StringUtils.indent(r.substring(s,o),t,{indentText:this._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>this.isInStringAtPos(e+s)});return yt({sourceFile:this,newText:r.substring(0,s)+a+r.substring(o)}),this}emit(e){return this._context.program.emit(Object.assign({targetSourceFile:this},e))}emitSync(e){return this._context.program.emitSync(Object.assign({targetSourceFile:this},e))}getEmitOutput(e={}){return this._context.languageService.getEmitOutput(this,e.emitOnlyDtsFiles||!1)}formatText(e={}){yt({sourceFile:this,newText:this._context.languageService.getFormattedDocumentText(this.getFilePath(),e)})}refreshFromFileSystem(){return ca(this,void 0,void 0,(function*(){const e=yield this._context.fileSystemWrapper.readFileOrNotExists(this.getFilePath(),this._context.getEncoding());return this._refreshFromFileSystemInternal(e)}))}refreshFromFileSystemSync(){const e=this._context.fileSystemWrapper.readFileOrNotExistsSync(this.getFilePath(),this._context.getEncoding());return this._refreshFromFileSystemInternal(e)}getRelativePathTo(e){return this.getDirectory().getRelativePathTo(e)}getRelativePathAsModuleSpecifierTo(e){return this.getDirectory().getRelativePathAsModuleSpecifierTo(e)}onModified(e,t=!0){return t?this._modifiedEventContainer.subscribe(e):this._modifiedEventContainer.unsubscribe(e),this}_doActionPreNextModification(e){const t=()=>{e(),this._preModifiedEventContainer.unsubscribe(t)};return this._preModifiedEventContainer.subscribe(t),this}_firePreModified(){this._preModifiedEventContainer.fire(this)}organizeImports(e={},t={}){return this._context.languageService.organizeImports(this,e,t).forEach((e=>e.applyChanges())),this}fixUnusedIdentifiers(e={},t={}){return this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_delete",e,t).applyChanges(),this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_deleteImports",e,t).applyChanges(),this}fixMissingImports(e={},t={}){const r=this._context.languageService.getCombinedCodeFix(this,"fixMissingImport",e,t),n=this;for(const i of r.getChanges()){const e=i.getTextChanges();s(e),o(e)}return this;function s(e){e.sort(((e,t)=>e.getSpan().getStart()-t.getSpan().getStart()));for(let t=0;t<e.length-1;t++){const{compilerObject:r}=e[t];r.newText=r.newText.replace(/(\r?)\n\r?\n$/,"$1\n")}}function o(e){const t=i.ArrayUtils.groupBy(e,(e=>e.getSpan().getStart()));let r=0;for(const i of t){const e=i[0].getSpan().getStart()+r,t=i.map((e=>e.getNewText())).join("");rt({sourceFile:n,insertPos:e,newText:t}),r+=t.length}}}applyTextChanges(e){return 0===e.length||(this.forgetDescendants(),mt({sourceFile:this._sourceFile,start:0,replacingLength:this.getFullWidth(),newText:R(this,e)})),this}set(e){return L(da.prototype,this,e),this}getStructure(){return A(da.prototype,this,{kind:t.z_b.SourceFile})}_refreshFromFileSystemInternal(e){if(!1===e)return this.forget(),t.$$u.Deleted;const r=e;return r===this.getFullText()?t.$$u.NoChange:(this.replaceText([0,this.getEnd()],r),this._setIsSaved(!0),t.$$u.Updated)}_isInProject(){return this._context.inProjectCoordinator.isSourceFileInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markSourceFileAsInProject(this)}}function ha(e){for(const[t,r]of e)N.isModuleSpecifierRelative(t.getLiteralText())&&t.setLiteralValue(t._sourceFile.getRelativePathAsModuleSpecifierTo(r))}function pa(e){const t=e.getParentOrThrow(),r=t.getParent();return null!=r&&Pt.isImportEqualsDeclaration(r)?r:t}la([i.Memoize],ua.prototype,"isFromExternalLibrary",null);const ga=(e=>Qo(Ni(k(qt($t(e))))))(ks);class ma extends ga{getDeclarationList(){return this._getNodeFromCompilerNode(this.compilerNode.declarationList)}getDeclarations(){return this.getDeclarationList().getDeclarations()}getDeclarationKind(){return this.getDeclarationList().getDeclarationKind()}getDeclarationKindKeyword(){return this.getDeclarationList().getDeclarationKindKeyword()}setDeclarationKind(e){return this.getDeclarationList().setDeclarationKind(e)}addDeclaration(e){return this.getDeclarationList().addDeclaration(e)}addDeclarations(e){return this.getDeclarationList().addDeclarations(e)}insertDeclaration(e,t){return this.getDeclarationList().insertDeclaration(e,t)}insertDeclarations(e,t){return this.getDeclarationList().insertDeclarations(e,t)}set(e){if(L(ga.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),null!=e.declarations){const t=this.getDeclarations();this.addDeclarations(e.declarations),t.forEach((e=>e.remove()))}return this}getStructure(){return A(ga.prototype,this,{kind:t.z_b.VariableStatement,declarationKind:this.getDeclarationKind(),declarations:this.getDeclarations().map((e=>e.getStructure()))})}}const ya=bn(eo);class xa extends ya{}const fa=bn(ks);class Sa extends fa{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}function Ta(e){return Ni(Yi(Ji(Ms($t(e)))))}const Na=(e=>$i(Bt(bt(Ta(e)))))(ln);class ba extends Na{getEqualsGreaterThan(){return this._getNodeFromCompilerNode(this.compilerNode.equalsGreaterThanToken)}}function Ka(e){return class extends e{getOverloads(){return wa(this).filter((e=>e.isOverload()))}getImplementation(){return this.isImplementation()?this:wa(this).find((e=>e.isImplementation()))}getImplementationOrThrow(){return i.errors.throwIfNullOrUndefined(this.getImplementation(),"Expected to find a corresponding implementation for the overload.")}isOverload(){return!this.isImplementation()}isImplementation(){return null!=this.getBody()}}}function wa(e){const t=e.getParentOrThrow(),r=Fa(e),i=e.getKind();return t.forEachChildAsArray().filter((e=>{const t=Fa(e)===r,n=e.getKind()===i;return t&&n}))}function Fa(e){const t=e;if(t.getName instanceof Function)return t.getName()}function Ca(e){if(0===e.structures.length)return[];const t=e.node.getParentSyntaxListOrThrow(),r=e.node.getImplementation()||e.node,n=e.node.getOverloads(),s=n.length,o=n.length>0?n[0].getChildIndex():r.getChildIndex(),a=le(e.index,s),l=o+a,c=e.getThisStructure(r),d=e.structures.map((e=>i.ObjectUtils.assign(i.ObjectUtils.assign({},c),e))),u=r._getWriterWithQueuedIndentation();for(const i of d)u.getLength()>0&&u.newLine(),e.printStructure(u,i);return u.newLine(),u.write(""),tt({parent:t,insertPos:(n[a]||r).getNonWhitespaceStart(),newText:u.toString()}),ne(t.getChildren(),l,d.length,e.expectedSyntaxKind)}const _a=(e=>tn($i(Ka(jt(bt(mi(k(qt(Ta(Qo(vi(e))))))))))))(ks),Ia=(e=>tn($i(bt(mi(Ji(k(Qo(Ni(Yi(qt($t(e))))))))))))(ks);class Pa extends _a{addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){const r=this.getName(),n=this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:this.isAmbient()});return Ca({node:this,index:e,structures:t,printStructure:(e,t)=>{n.printOverload(e,r,t)},getThisStructure:oe,expectedSyntaxKind:i.SyntaxKind.FunctionDeclaration})}remove(){var e;(e=this).isOverload()?at({children:[e],removeFollowingSpaces:!0,removeFollowingNewLines:!0}):ht([...e.getOverloads(),e])}set(e){return L(_a.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach((e=>e.remove())),this.addOverloads(e.overloads)),this}getStructure(){const e=this.isOverload(),r=this.getImplementation();return A(e&&r?Ia.prototype:_a.prototype,this,(i=this,r&&e?{kind:t.z_b.FunctionOverload}:r?{kind:t.z_b.Function,overloads:i.getOverloads().map((e=>e.getStructure()))}:{kind:t.z_b.Function}));var i}}const va=(e=>Ni($i(Bt(bt(mi(Ms(Yi(Ji($t(vi(e)))))))))))(fn);class Ea extends va{}const Da=(e=>Ai(Mi(Rt(Bi(Wi($t(Jt(qi(Ti(Ii(e)))))))))))(Pt);class Oa extends Da{isRestParameter(){return null!=this.compilerNode.dotDotDotToken}isParameterProperty(){return null!=this.getScope()||this.isReadonly()||this.hasOverrideKeyword()}setIsRestParameter(e){return this.isRestParameter()===e||(e?(Aa(this),tt({insertPos:this.getNameNode().getStart(),parent:this,newText:"..."})):at({children:[this.getDotDotDotTokenOrThrow()]})),this}isOptional(){return null!=this.compilerNode.questionToken||this.isRestParameter()||this.hasInitializer()}remove(){ut(this)}set(e){return L(Da.prototype,this,e),null!=e.isRestParameter&&this.setIsRestParameter(e.isRestParameter),this}getStructure(){return A(Da.prototype,this,{kind:t.z_b.Parameter,isRestParameter:this.isRestParameter()})}setHasQuestionToken(e){return e&&Aa(this),super.setHasQuestionToken(e),this}setInitializer(e){return Aa(this),super.setInitializer(e),this}setType(e){return Aa(this),super.setType.call(this,e),this}}function Aa(e){const t=e.getParentOrThrow();Pt.isArrowFunction(t)&&1===t.compilerNode.parameters.length&&null==e.getParentSyntaxListOrThrow().getPreviousSiblingIfKind(i.SyntaxKind.OpenParenToken)&&function(){const r=e.getText();tt({parent:t,insertPos:e.getStart(),newText:`(${r})`,replacing:{textLength:r.length},customMappings:t=>[{currentNode:e,newNode:t.parameters[0]}]})}()}class La extends Pt{remove(){const e=this.getParentOrThrow();Pt.isClassDeclaration(e)||Pt.isClassExpression(e)?function(e){if(Pt.isOverloadableNode(e))if(e.isImplementation())ct([...e.getOverloads(),e]);else{const t=e.getParentOrThrow();Pt.isAmbientableNode(t)&&t.isAmbient()?ct([e]):at({children:[e],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}else ct([e])}(this):Pt.isObjectLiteralExpression(e)?ut(this):i.errors.throwNotImplementedForSyntaxKindError(e.getKind())}}const ka=(e=>Ut($i(Ai(Ka(jt(Rt(an(Ri(Mi(Vi(bt(mi(Ta(Oi(e)))))))))))))))(La),Ma=(e=>Ni(Ut($i(Ai(Ri(Yi(an(Mi(Vi(bt($t(mi(Ji(e))))))))))))))(La);class Wa extends ka{set(e){return L(ka.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach((e=>e.remove())),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){const r=this.getName(),n=this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:f(this)});return Ca({node:this,index:e,structures:t,printStructure:(e,t)=>{n.printOverload(e,r,t)},getThisStructure:ae,expectedSyntaxKind:i.SyntaxKind.MethodDeclaration})}getStructure(){const e=null!=this.getImplementation(),r=this.isOverload();return A(r&&e?Ma.prototype:ka.prototype,this,(i=this,e&&r?{kind:t.z_b.MethodOverload}:e?{kind:t.z_b.Method,overloads:i.getOverloads().map((e=>e.getStructure()))}:{kind:t.z_b.Method}));var i}}function za(e){return Ba(vi($i(fi(xi(an(Ni(Yi(Rt($t(e))))))))))}function Ba(e){return class extends e{setExtends(e){if(e=this._getTextWithQueuedChildIndentation(e),i.StringUtils.isNullOrWhitespace(e))return this.removeExtends();const t=this.getHeritageClauseByKind(i.SyntaxKind.ExtendsKeyword);if(null!=t){const r=t.getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),n=r.getStart();tt({parent:t,newText:e,insertPos:n,replacing:{textLength:r.getEnd()-n}})}else{const t=this.getHeritageClauseByKind(i.SyntaxKind.ImplementsKeyword);let r;r=null!=t?t.getStart():this.getFirstChildByKindOrThrow(i.SyntaxKind.OpenBraceToken).getStart();let n=`extends ${e} `;/\s/.test(this.getSourceFile().getFullText()[r-1])||(n=" "+n),tt({parent:null==t?this:t.getParentSyntaxListOrThrow(),insertPos:r,newText:n})}return this}removeExtends(){const e=this.getHeritageClauseByKind(i.SyntaxKind.ExtendsKeyword);return null==e||e.removeExpression(0),this}getExtendsOrThrow(){return i.errors.throwIfNullOrUndefined(this.getExtends(),`Expected to find the extends expression for the class ${this.getName()}.`)}getExtends(){const e=this.getHeritageClauseByKind(i.SyntaxKind.ExtendsKeyword);if(null==e)return;const t=e.getTypeNodes();return 0===t.length?void 0:t[0]}addMembers(e){return this.insertMembers(Q(this.getMembersWithComments()),e)}addMember(e){return this.insertMember(Q(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){const r=f(this);return ot({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:(e,n)=>{const s=!r&&null!=n.previousMember&&Pt.isBodyableNode(n.previousMember)&&n.previousMember.hasBody(),o=!r&&t instanceof Array&&i(t[0]);s||null!=n.previousMember&&o?e.blankLineIfLastNot():e.newLineIfLastNot();const a=this._getWriter();this._context.structurePrinterFactory.forClassMember({isAmbient:r}).printTexts(a,t),e.write(a.toString());const l=!r&&t instanceof Array&&i(t[t.length-1]),c=!r&&null!=n.nextMember&&Pt.isBodyableNode(n.nextMember)&&n.nextMember.hasBody();null!=n.nextMember&&l||c?e.blankLineIfLastNot():e.newLineIfLastNot()}});function i(e){if(r||null==e||"number"!==typeof e.kind)return!1;const t=e;return cr.isMethod(t)||cr.isGetAccessor(t)||cr.isSetAccessor(t)||cr.isConstructor(t)}}addConstructor(e={}){return this.insertConstructor(Q(this.getMembersWithComments()),e)}addConstructors(e){return this.insertConstructors(Q(this.getMembersWithComments()),e)}insertConstructor(e,t={}){return this.insertConstructors(e,[t])[0]}insertConstructors(e,t){const r=f(this);return Va(this,{index:e,structures:t,expectedKind:i.SyntaxKind.Constructor,write:(e,i)=>{r||null==i.previousMember||Pt.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getConstructors(){return this.getMembers().filter((e=>Pt.isConstructorDeclaration(e)))}addStaticBlock(e={}){return this.insertStaticBlock(Q(this.getMembersWithComments()),e)}addStaticBlocks(e){return this.insertStaticBlocks(Q(this.getMembersWithComments()),e)}insertStaticBlock(e,t={}){return this.insertStaticBlocks(e,[t])[0]}insertStaticBlocks(e,t){const r=f(this);return Va(this,{index:e,structures:t,expectedKind:i.SyntaxKind.ClassStaticBlockDeclaration,write:(e,i)=>{r||null==i.previousMember||Pt.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forClassStaticBlockDeclaration().printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getStaticBlocks(){return this.getMembers().filter((e=>Pt.isClassStaticBlockDeclaration(e)))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(Q(this.getMembersWithComments()),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return Va(this,{index:e,structures:t,expectedKind:i.SyntaxKind.GetAccessor,write:(e,r)=>{null==r.previousMember||Pt.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:f(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(Q(this.getMembersWithComments()),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return Va(this,{index:e,structures:t,expectedKind:i.SyntaxKind.SetAccessor,write:(e,r)=>{null==r.previousMember||Pt.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:f(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(Q(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return Va(this,{index:e,structures:t,expectedKind:i.SyntaxKind.PropertyDeclaration,write:(e,r)=>{null!=r.previousMember&&Pt.hasBody(r.previousMember)?e.blankLineIfLastNot():e.newLineIfLastNot(),this._context.structurePrinterFactory.forPropertyDeclaration().printTexts(e,t),null!=r.nextMember&&Pt.hasBody(r.nextMember)?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(Q(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){const r=f(this);return Va(this,{index:e,write:(e,i)=>{r||null==i.previousMember||Pt.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()},structures:t=t.map((e=>Object.assign({},e))),expectedKind:i.SyntaxKind.MethodDeclaration})}getInstanceProperty(e){return p(this.getInstanceProperties(),e)}getInstancePropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getInstanceProperty(e),(()=>m("class instance property",e)))}getInstanceProperties(){return this.getInstanceMembers().filter((e=>Ra(e)))}getStaticProperty(e){return p(this.getStaticProperties(),e)}getStaticPropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getStaticProperty(e),(()=>m("class static property",e)))}getStaticProperties(){return this.getStaticMembers().filter((e=>Ra(e)))}getProperty(e){return p(this.getProperties(),e)}getPropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getProperty(e),(()=>m("class property declaration",e)))}getProperties(){return this.getMembers().filter((e=>Pt.isPropertyDeclaration(e)))}getGetAccessor(e){return p(this.getGetAccessors(),e)}getGetAccessorOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getGetAccessor(e),(()=>m("class getAccessor declaration",e)))}getGetAccessors(){return this.getMembers().filter((e=>Pt.isGetAccessorDeclaration(e)))}getSetAccessor(e){return p(this.getSetAccessors(),e)}getSetAccessorOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getSetAccessor(e),(()=>m("class setAccessor declaration",e)))}getSetAccessors(){return this.getMembers().filter((e=>Pt.isSetAccessorDeclaration(e)))}getMethod(e){return p(this.getMethods(),e)}getMethodOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getMethod(e),(()=>m("class method declaration",e)))}getMethods(){return this.getMembers().filter((e=>Pt.isMethodDeclaration(e)))}getInstanceMethod(e){return p(this.getInstanceMethods(),e)}getInstanceMethodOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getInstanceMethod(e),(()=>m("class instance method",e)))}getInstanceMethods(){return this.getInstanceMembers().filter((e=>e instanceof Wa))}getStaticMethod(e){return p(this.getStaticMethods(),e)}getStaticMethodOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getStaticMethod(e),(()=>m("class static method",e)))}getStaticMethods(){return this.getStaticMembers().filter((e=>e instanceof Wa))}getInstanceMember(e){return p(this.getInstanceMembers(),e)}getInstanceMemberOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getInstanceMember(e),(()=>m("class instance member",e)))}getInstanceMembers(){return this.getMembersWithParameterProperties().filter((e=>!Pt.isConstructorDeclaration(e)&&(Pt.isParameterDeclaration(e)||!e.isStatic())))}getStaticMember(e){return p(this.getStaticMembers(),e)}getStaticMemberOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getStaticMember(e),(()=>m("class static member",e)))}getStaticMembers(){return this.getMembers().filter((e=>!Pt.isConstructorDeclaration(e)&&(!Pt.isParameterDeclaration(e)&&e.isStatic())))}getMembersWithParameterProperties(){const e=this.getMembers(),t=e.filter((e=>Pt.isConstructorDeclaration(e)&&e.isImplementation()));for(const r of t){let t=e.indexOf(r)+1;for(const i of r.getParameters())i.isParameterProperty()&&(e.splice(t,0,i),t++)}return e}getMembers(){return ja(this,this.compilerNode.members).filter((e=>Ja(e)))}getMembersWithComments(){const e=this.compilerNode;return ja(this,we.getContainerArray(e,this.getSourceFile().compilerNode)).filter((e=>Ja(e)||Pt.isCommentClassElement(e)))}getMember(e){return p(this.getMembers(),e)}getMemberOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getMember(e),(()=>m("class member",e)))}getBaseTypes(){return this.getType().getBaseTypes()}getBaseClassOrThrow(){return i.errors.throwIfNullOrUndefined(this.getBaseClass(),`Expected to find the base class of ${this.getName()}.`)}getBaseClass(){const e=i.ArrayUtils.flatten(this.getBaseTypes().map((e=>e.isIntersection()?e.getIntersectionTypes():[e]))).map((e=>e.getSymbol())).filter((e=>null!=e)).map((e=>e.getDeclarations())).reduce(((e,t)=>e.concat(t)),[]).filter((e=>e.getKind()===i.SyntaxKind.ClassDeclaration));if(1===e.length)return e[0]}getDerivedClasses(){const e=Ua(this);for(let t=0;t<e.length;t++){const r=Ua(e[t]);for(const t of r)t!==this&&-1===e.indexOf(t)&&e.push(t)}return e}}}function ja(e,t){const r=f(e),i=t.map((t=>e._getNodeFromCompilerNode(t)));return r?i:i.filter((e=>!Pt.isConstructorDeclaration(e)&&!Pt.isMethodDeclaration(e)||(!(!Pt.isMethodDeclaration(e)||!e.isAbstract())||e.isImplementation())))}function Ua(e){const t=[],r=e.getNameNode();if(null==r)return t;for(const n of r.findReferencesAsNodes()){const e=n.getParentIfKind(i.SyntaxKind.ExpressionWithTypeArguments);if(null==e)continue;const r=e.getParentIfKind(i.SyntaxKind.HeritageClause);if(null==r||r.getToken()!==i.SyntaxKind.ExtendsKeyword)continue;const s=r.getParentIfKind(i.SyntaxKind.ClassDeclaration);null!=s&&t.push(s)}return t}function Ra(e){return Pt.isPropertyDeclaration(e)||Pt.isSetAccessorDeclaration(e)||Pt.isGetAccessorDeclaration(e)||Pt.isParameterDeclaration(e)}function Ja(e){return Pt.isMethodDeclaration(e)||Pt.isPropertyDeclaration(e)||Pt.isGetAccessorDeclaration(e)||Pt.isSetAccessorDeclaration(e)||Pt.isConstructorDeclaration(e)||Pt.isClassStaticBlockDeclaration(e)}function Va(e,t){return st(Object.assign({getIndexedChildren:()=>e.getMembersWithComments(),parent:e},t))}const $a=(e=>Qo(k(qt(za(e)))))(ks);class Qa extends $a{set(e){return L($a.prototype,this,e),null!=e.extends?this.setExtends(e.extends):e.hasOwnProperty("extends")&&this.removeExtends(),null!=e.ctors&&(this.getConstructors().forEach((e=>e.remove())),this.addConstructors(e.ctors)),null!=e.properties&&(this.getProperties().forEach((e=>e.remove())),this.addProperties(e.properties)),null!=e.getAccessors&&(this.getGetAccessors().forEach((e=>e.remove())),this.addGetAccessors(e.getAccessors)),null!=e.setAccessors&&(this.getSetAccessors().forEach((e=>e.remove())),this.addSetAccessors(e.setAccessors)),null!=e.methods&&(this.getMethods().forEach((e=>e.remove())),this.addMethods(e.methods)),this}getStructure(){const e=this.getExtends(),r=this.isAmbient();return A($a.prototype,this,{kind:t.z_b.Class,ctors:this.getConstructors().filter((e=>r||!e.isOverload())).map((e=>e.getStructure())),methods:this.getMethods().filter((e=>r||!e.isOverload())).map((e=>e.getStructure())),properties:this.getProperties().map((e=>e.getStructure())),extends:e?e.getText():void 0,getAccessors:this.getGetAccessors().map((e=>e.getStructure())),setAccessors:this.getSetAccessors().map((e=>e.getStructure()))})}extractInterface(e){const{constructors:r,properties:n,methods:s,accessors:o}=Ga(this,!1),a=i.ArrayUtils.flatten(r.map((e=>e.getParameters().filter((e=>e.isParameterProperty()))))).filter((e=>null!=e.getName()&&e.getScope()===t.sXi.Public));return{kind:t.z_b.Interface,name:qa(e,this),docs:this.getJsDocs().map((e=>e.getStructure())),typeParameters:this.getTypeParameters().map((e=>e.getStructure())),properties:[...a.map((e=>{const r=i.ArrayUtils.flatten(e.getParentOrThrow().getJsDocs().map((e=>e.getTags()))).filter(Pt.isJSDocParameterTag).filter((t=>"param"===t.getTagName()&&t.getName()===e.getName()&&null!=t.getComment())).map((e=>e.getCommentText().trim()))[0];return{kind:t.z_b.PropertySignature,docs:null==r?[]:[{kind:t.z_b.JSDoc,description:r}],name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}})),...n.map(Ha),...o.map(Xa)],methods:s.map(Za)}}extractStaticInterface(e){const{constructors:r,properties:i,methods:n,accessors:s}=Ga(this,!0),o=qa(void 0,this);return{kind:t.z_b.Interface,name:e,properties:[...i.map(Ha),...s.map(Xa)],methods:n.map(Za),constructSignatures:r.map((e=>({kind:t.z_b.ConstructSignature,docs:e.getJsDocs().map((e=>e.getStructure())),parameters:e.getParameters().map((e=>Object.assign(Object.assign({},Ya(e)),{scope:void 0,isReadonly:!1}))),returnType:o})))}}}function Ga(e,r){return{constructors:i.ArrayUtils.flatten(e.getConstructors().map((e=>e.getOverloads().length>0?e.getOverloads():[e]))),properties:e.getProperties().filter((e=>e.isStatic()===r&&e.getScope()===t.sXi.Public)),methods:i.ArrayUtils.flatten(e.getMethods().filter((e=>e.isStatic()===r&&e.getScope()===t.sXi.Public)).map((e=>e.getOverloads().length>0?e.getOverloads():[e]))),accessors:function(){const n=new i.KeyValueCache;for(const i of[...e.getGetAccessors(),...e.getSetAccessors()])i.isStatic()===r&&i.getScope()===t.sXi.Public&&n.getOrCreate(i.getName(),(()=>[])).push(i);return n.getValuesAsArray()}()}}function qa(e,t){return(e=i.StringUtils.isNullOrWhitespace(e)?void 0:e)||t.getName()||t.getSourceFile().getBaseNameWithoutExtension().replace(/[^a-zA-Z0-9_$]/g,"")}function Ha(e){return{kind:t.z_b.PropertySignature,docs:e.getJsDocs().map((e=>e.getStructure())),name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}}function Xa(e){return{kind:t.z_b.PropertySignature,docs:e[0].getJsDocs().map((e=>e.getStructure())),name:e[0].getName(),type:e[0].getType().getText(e[0]),hasQuestionToken:!1,isReadonly:e.every(Pt.isGetAccessorDeclaration)}}function Za(e){return{kind:t.z_b.MethodSignature,docs:e.getJsDocs().map((e=>e.getStructure())),name:e.getName(),hasQuestionToken:e.hasQuestionToken(),returnType:e.getReturnType().getText(e),parameters:e.getParameters().map(Ya),typeParameters:e.getTypeParameters().map((e=>e.getStructure()))}}function Ya(e){return Object.assign(Object.assign({},e.getStructure()),{decorators:[]})}const el=za(fn);class tl extends el{}const rl=(e=>Ut($i(Ms(Ni(Bt(e))))))(La);class il extends rl{getName(){return"static"}isStatic(){return!0}set(e){return L(rl.prototype,this,e),this}getStructure(){return A(rl.prototype,this,{kind:t.z_b.ClassStaticBlock})}}class nl extends La{}const sl=(e=>Fi(Ut($i(Ka(Ri(Ta(jt(e))))))))(La),ol=(e=>Yi(Ni(Ut($i(Ri($t(Ji(e))))))))(La);class al extends sl{set(e){return L(sl.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach((e=>e.remove())),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){const r=this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:f(this)});return Ca({node:this,index:e,structures:t,printStructure:(e,t)=>{r.printOverload(e,t)},getThisStructure:se,expectedSyntaxKind:i.SyntaxKind.Constructor})}getStructure(){const e=null!=this.getImplementation(),r=this.isOverload();return A(r&&e?ol.prototype:sl.prototype,this,(i=this,e&&r?{kind:t.z_b.ConstructorOverload}:e?{kind:t.z_b.Constructor,overloads:i.getOverloads().map((e=>e.getStructure()))}:{kind:t.z_b.Constructor}));var i}}const ll=(e=>Ut($i(Rt(an(Ri(Vi(Ta(jt(Oi(e))))))))))(La);class cl extends ll{set(e){return L(ll.prototype,this,e),this}getSetAccessor(){const e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild((r=>{if(Pt.isSetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r}))}getSetAccessorOrThrow(){return i.errors.throwIfNullOrUndefined(this.getSetAccessor(),(()=>`Expected to find a corresponding set accessor for ${this.getName()}.`))}getStructure(){return A(ll.prototype,this,{kind:t.z_b.GetAccessor})}}const dl=(e=>Ut(Ai(k(Rt(an(Ri(Vi(Ni(Wi(Vt(Mi(Ti(qi(Oi($t(e))))))))))))))))(La);class ul extends dl{set(e){return L(dl.prototype,this,e),this}remove(){const e=this.getParentOrThrow();switch(e.getKind()){case i.SyntaxKind.ClassDeclaration:super.remove();break;default:throw new i.errors.NotImplementedError(`Not implemented parent syntax kind: ${e.getKindName()}`)}}getStructure(){return A(dl.prototype,this,{kind:t.z_b.Property})}}const hl=(e=>Ut($i(Rt(an(Ri(Vi(Ta(jt(Oi(e))))))))))(La);class pl extends hl{set(e){return L(hl.prototype,this,e),this}getGetAccessor(){const e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild((r=>{if(Pt.isGetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r}))}getGetAccessorOrThrow(){return i.errors.throwIfNullOrUndefined(this.getGetAccessor(),(()=>`Expected to find a corresponding get accessor for ${this.getName()}.`))}getStructure(){return A(hl.prototype,this,{kind:t.z_b.SetAccessor})}}const gl=Kn(Pt);class ml extends gl{getName(){return this.getNameNode().getText()}getNameNode(){if(this.isDecoratorFactory()){return e(this.getCallExpression().getExpression())}return e(this.getExpression());function e(e){const t=function(e){return Pt.isPropertyAccessExpression(e)?e.getNameNode():e}(e);if(!Pt.isIdentifier(t))throw new i.errors.NotImplementedError(`Expected the decorator expression '${t.getText()}' to be an identifier, but it wasn't. Please report this as a bug.`);return t}}getFullName(){const e=this.getSourceFile();return this.isDecoratorFactory()?this.getCallExpression().getExpression().getText():this.compilerNode.expression.getText(e.compilerNode)}isDecoratorFactory(){return this.compilerNode.expression.kind===i.SyntaxKind.CallExpression}setIsDecoratorFactory(e){if(this.isDecoratorFactory()===e)return this;if(e){const e=this.getExpression(),t=e.getText();tt({parent:this,insertPos:e.getStart(),newText:`${t}()`,replacing:{textLength:t.length},customMappings:t=>[{currentNode:e,newNode:t.expression.expression}]})}else{const e=this.getCallExpressionOrThrow(),t=e.getExpression(),r=t.getText();tt({parent:this,insertPos:e.getStart(),newText:`${r}`,replacing:{textLength:e.getWidth()},customMappings:e=>[{currentNode:t,newNode:e.expression}]})}return this}getCallExpressionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getCallExpression(),"Expected to find a call expression.")}getCallExpression(){if(this.isDecoratorFactory())return this.getExpression()}getArguments(){var e,t;return null!==(t=null===(e=this.getCallExpression())||void 0===e?void 0:e.getArguments())&&void 0!==t?t:[]}getTypeArguments(){var e,t;return null!==(t=null===(e=this.getCallExpression())||void 0===e?void 0:e.getTypeArguments())&&void 0!==t?t:[]}addTypeArgument(e){return this.getCallExpressionOrThrow().addTypeArgument(e)}addTypeArguments(e){return this.getCallExpressionOrThrow().addTypeArguments(e)}insertTypeArgument(e,t){return this.getCallExpressionOrThrow().insertTypeArgument(e,t)}insertTypeArguments(e,t){return this.getCallExpressionOrThrow().insertTypeArguments(e,t)}removeTypeArgument(e){const t=this.getCallExpression();if(null==t)throw new i.errors.InvalidOperationError("Cannot remove a type argument from a decorator that has no type arguments.");return t.removeTypeArgument(e),this}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){return this.setIsDecoratorFactory(!0),this.getCallExpressionOrThrow().insertArguments(e,t)}removeArgument(e){const t=this.getCallExpression();if(null==t)throw new i.errors.InvalidOperationError("Cannot remove an argument from a decorator that has no arguments.");return t.removeArgument(e),this}remove(){const e=this.getStartLinePos(),t=this.getPreviousSiblingIfKind(i.SyntaxKind.Decorator);null!=t&&t.getStartLinePos()===e?at({children:[this],removePrecedingSpaces:!0}):function(e){const{children:t}=e;if(0===t.length)return;const r=t[0].getParentSyntaxListOrThrow();r.getChildCount()===t.length?lt({children:[r],getSiblingFormatting:()=>M.None}):lt(e)}({children:[this],getSiblingFormatting:(t,r)=>r.getStartLinePos()===e?M.Space:M.Newline})}set(e){return L(gl.prototype,this,e),null!=e.name&&this.getNameNode().replaceWithText(e.name),null!=e.arguments&&(this.setIsDecoratorFactory(!0),this.getArguments().map((e=>this.removeArgument(e))),this.addArguments(e.arguments)),null!=e.typeArguments&&e.typeArguments.length>0&&(this.setIsDecoratorFactory(!0),this.getTypeArguments().map((e=>this.removeTypeArgument(e))),this.addTypeArguments(e.typeArguments)),this}getStructure(){const e=this.isDecoratorFactory();return A(gl.prototype,this,{kind:t.z_b.Decorator,name:this.getName(),arguments:e?this.getArguments().map((e=>e.getText())):void 0,typeArguments:e?this.getTypeArguments().map((e=>e.getText())):void 0})}}function yl(e){return class extends e{getTypeExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}getTypeExpressionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTypeExpression(),"Expected to find a JS doc type expression.")}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}isBracketed(){return this.compilerNode.isBracketed}}}function xl(e){return class extends e{getTypeExpression(){const e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression);if(null==e||0!==e.getWidth())return e}getTypeExpressionOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTypeExpression(),"Expected to find the JS doc tag's type expression.")}}}function fl(e){return class extends e{getTypeParameters(){return this.compilerNode.typeParameters.map((e=>this._getNodeFromCompilerNode(e))).filter((e=>e.getWidth()>0))}}}function Sl(e){return e.replace(/^\/\*\*[^\S\n]*\n?/,"").replace(/(\r?\n)?[^\S\n]*\*\/$/,"").split(/\n/).map((e=>{const t=function(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r===a)return t;if(!i.StringUtils.isWhitespaceCharCode(r))break}return-1}(e);if(-1===t)return e;const r=" "===e[t+1]?t+2:t+1;return e.substring(r)})).join("\n")}const Tl=Pt;class Nl extends Tl{isMultiLine(){return this.getText().includes("\n")}getTags(){var e,t;return null!==(t=null===(e=this.compilerNode.tags)||void 0===e?void 0:e.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==t?t:[]}getInnerText(){return Sl(this.getText())}getComment(){return null==this.compilerNode.comment?void 0:"string"===typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map((e=>this._getNodeFromCompilerNodeIfExists(e)))}getCommentText(){return"string"===typeof this.compilerNode.comment?this.compilerNode.comment:i.ts.getTextOfJSDocComment(this.compilerNode.comment)}getDescription(){var e,t;const r=this.getSourceFile().getFullText(),n=null!==(t=null===(e=this.getTags()[0])||void 0===e?void 0:e.getStart())&&void 0!==t?t:this.getEnd()-2,s=function(e){const t=e.getStart()+3;return r.charCodeAt(t)===d?t+1:t}(this);return Sl(r.substring(s,Math.max(s,function(){const e=q(r,n,(e=>e===l||!i.StringUtils.isWhitespaceCharCode(e)&&e!==a));return q(r,e,(e=>e!==l&&e!==c))}())))}setDescription(e){const t=this.getTags(),r=this.getStart()+3,i=t.length>0?q(this._sourceFile.getFullText(),t[0].getStart(),(e=>e===a))-1:this.getEnd()-2;return function(e){const{replacePos:t,replacingLength:r,newText:i,parent:n}=e;et(n._sourceFile,new Ve({insertPos:t,replacingLength:r,newText:i}),(new Be).getForParentRange({parent:n,start:t,end:t+i.length}))}({parent:this,newText:function(){var t,r;const i=this.getIndentationText(),n=this._context.manipulationSettings.getNewLineKindAsString(),s=_(this._getWriter(),e).split(/\r?\n/),o=0===s[0].length,a=1===s.length&&0===(null!==(r=null===(t=this.compilerNode.tags)||void 0===t?void 0:t.length)&&void 0!==r?r:0),l=a?s[0]:s.map((e=>0===e.length?`${i} *`:`${i} * ${e}`)).slice(o?1:0).join(n);return a?" "+l+" ":n+l+n+i+" "}.call(this),replacePos:r,replacingLength:i-r}),this}addTag(e){return this.addTags([e])[0]}addTags(e){var t,r;return this.insertTags(null!==(r=null===(t=this.compilerNode.tags)||void 0===t?void 0:t.length)&&void 0!==r?r:0,e)}insertTag(e,t){return this.insertTags(e,[t])[0]}insertTags(e,t){if(i.ArrayUtils.isNullOrEmpty(t))return[];const r=this._getWriterWithQueuedIndentation(),n=this.getTags();if(e=le(e,n.length),0!==n.length||this.isMultiLine()){const s=this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0});r.newLine().write(" * "),s.printTexts(r,t),r.newLine().write(" *"),r.conditionalWrite(e<n.length," ");const o=function(){const t=e<n.length?n[e].getStart():this.getEnd()-2,r=this.getStart()+3;return Math.max(r,q(this.getSourceFile().getFullText(),t,(e=>!i.StringUtils.isWhitespaceCharCode(e)&&e!==a)))}.call(this);tt({parent:this,insertPos:o,replacing:{textLength:function(){return e<n.length?n[e].getStart():this.getEnd()-1}.call(this)-o},newText:r.toString()})}else{const e=this._context.structurePrinterFactory.forJSDoc();this.replaceWithText((r=>{e.printText(r,{description:this.getDescription(),tags:t})}))}return ie(n,this.getTags(),e,!1)}remove(){at({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}set(e){return L(Tl.prototype,this,e),null!=e.tags?this.replaceWithText((t=>{var r;this._context.structurePrinterFactory.forJSDoc().printText(t,{description:null!==(r=e.description)&&void 0!==r?r:this.getDescription(),tags:e.tags})})):(null!=e.description&&this.setDescription(e.description),this)}getStructure(){return A(Tl.prototype,this,{kind:t.z_b.JSDoc,description:this.getDescription(),tags:this.getTags().map((e=>e.getStructure()))})}}const bl=Pt;class Kl extends bl{getTagName(){return this.getTagNameNode().getText()}getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}setTagName(e){return this.set({tagName:e})}getComment(){return null==this.compilerNode.comment?void 0:"string"===typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map((e=>this._getNodeFromCompilerNodeIfExists(e)))}getCommentText(){return"string"===typeof this.compilerNode.comment?this.compilerNode.comment:i.ts.getTextOfJSDocComment(this.compilerNode.comment)}remove(){const e=this.getParentOrThrow().getStart()+3,t=_l(this),r=null==t,i=function(){return Math.max(e,Il(this,this.getStart()))}.call(this);at({children:[this],customRemovalPos:i,customRemovalEnd:Cl(this,t),replaceTrivia:function(){if(i===e&&r)return"";const t=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow().getIndentationText();return`${t}${n} `+(r?"":"* ")}.call(this)})}set(e){return L(bl.prototype,this,e),null!=e.text||null!=e.tagName?this.replaceWithText((t=>{var r;this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0}).printText(t,{tagName:null!==(r=e.tagName)&&void 0!==r?r:this.getTagName(),text:null!=e.text?e.text:wl(this)})})):this}replaceWithText(e){const t=_(this._getWriterWithQueuedIndentation(),e),r=this.getParentOrThrow(),i=this.getChildIndex(),n=this.getStart();return tt({parent:r,insertPos:n,newText:t,replacing:{textLength:Fl(this)-n}}),r.getChildren()[i]}getStructure(){const e=wl(this);return A(bl.prototype,this,{kind:t.z_b.JSDocTag,tagName:this.getTagName(),text:0===e.length?void 0:e})}}function wl(e){const t=e.getSourceFile().getFullText(),r=e.getTagNameNode().getEnd(),i=Fl(e),n=Math.min(t.charCodeAt(r)===d?r+1:r,i);return Sl(t.substring(n,i))}function Fl(e){return Il(e,Cl(e))}function Cl(e,t){return null!=(t=null!==t&&void 0!==t?t:_l(e))?t.getStart():e.getParentOrThrow().getEnd()-2}function _l(e){const t=e.getParentIfKindOrThrow(i.SyntaxKind.JSDocComment).getTags(),r=t.indexOf(e);return t[r+1]}function Il(e,t){return q(e.getSourceFile().getFullText(),t,(e=>e!==a&&!i.StringUtils.isWhitespaceCharCode(e)))}class Pl extends Kl{}class vl extends Kl{}class El extends Kl{}class Dl extends Kl{}class Ol extends Kl{}class Al extends Kl{}class Ll extends Pt{}class kl extends Ll{getElementTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.elementType)}}class Ml extends Ll{getCheckType(){return this._getNodeFromCompilerNode(this.compilerNode.checkType)}getExtendsType(){return this._getNodeFromCompilerNode(this.compilerNode.extendsType)}getTrueType(){return this._getNodeFromCompilerNode(this.compilerNode.trueType)}getFalseType(){return this._getNodeFromCompilerNode(this.compilerNode.falseType)}}const Wl=Ji(Ll);class zl extends Wl{}const Bl=an($t(zl));class jl extends Bl{}const Ul=Kn(Ll);class Rl extends Ul{getTypeArguments(){var e,t;return null!==(t=null===(e=this.compilerNode.typeArguments)||void 0===e?void 0:e.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==t?t:[]}}const Jl=Yi(zl);class Vl extends Jl{}const $l=Gi(Ll);class Ql extends $l{setArgument(e){const t=this.getArgument();if(Pt.isLiteralTypeNode(t)){const r=t.getLiteral();if(Pt.isStringLiteral(r))return r.setLiteralValue(e),this}return t.replaceWithText((t=>t.quote(e)),this._getWriterWithQueuedChildIndentation()),this}getArgument(){return this._getNodeFromCompilerNode(this.compilerNode.argument)}setQualifier(e){const t=this.getQualifier();if(null!=t)t.replaceWithText(e,this._getWriterWithQueuedChildIndentation());else{tt({insertPos:this.getFirstChildByKindOrThrow(i.SyntaxKind.CloseParenToken).getEnd(),parent:this,newText:this._getWriterWithQueuedIndentation().write(".").write(e).toString()})}return this}getQualifierOrThrow(){return i.errors.throwIfNullOrUndefined(this.getQualifier(),(()=>`Expected to find a qualifier for the import type: ${this.getText()}`))}getQualifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.qualifier)}}class Gl extends Ll{getObjectTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.objectType)}getIndexTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.indexType)}}class ql extends Ll{getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}}class Hl extends Ll{getTypeNodes(){return this.compilerNode.types.map((e=>this._getNodeFromCompilerNode(e)))}}class Xl extends Ll{getLiteral(){const e=this.compilerNode.literal;return this._getNodeFromCompilerNode(e)}}class Zl extends Ll{getNameTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.nameType)}getNameTypeNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getNameTypeNode(),"Type did not exist.")}getReadonlyToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.readonlyToken)}getReadonlyTokenOrThrow(){return i.errors.throwIfNullOrUndefined(this.getReadonlyToken(),"Readonly token did not exist.")}getQuestionToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenOrThrow(){return i.errors.throwIfNullOrUndefined(this.getQuestionToken(),"Question token did not exist.")}getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTypeNode(),"Type did not exist, but was expected to exist.")}}const Yl=(e=>qi(Mi(Jt(Ni(Di(e))))))(Ll);class ec extends Yl{getTypeNode(){return super.getTypeNode()}removeType(){throw new i.errors.InvalidOperationError("Cannot remove the type of a named tuple member.")}}class tc extends Ll{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}setType(e){return this.getTypeNode().replaceWithText(e),this}}class rc extends Ll{}class ic extends Ll{}class nc extends Ll{getElements(){return this.compilerNode.elements.map((e=>this._getNodeFromCompilerNode(e)))}}const sc=(e=>Yi(qi(Ni(k(qt($t(Di(e))))))))(ks);class oc extends sc{set(e){return L(sc.prototype,this,e),this}getStructure(){return A(sc.prototype,this,{kind:t.z_b.TypeAlias,type:this.getTypeNodeOrThrow().getText()})}}const ac=Xi(Ll);class lc extends ac{}class cc extends Ll{getOperator(){return this.compilerNode.operator}getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}const dc=Di(Pt);class uc extends dc{getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(){return i.errors.throwIfNullOrUndefined(this.getConstraint(),"Expected to find the type parameter's constraint.")}setConstraint(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),i.StringUtils.isNullOrWhitespace(e))return this.removeConstraint(),this;const t=this.getConstraint();if(null!=t)return t.replaceWithText(e),this;return tt({parent:this,insertPos:this.getNameNode().getEnd(),newText:` extends ${e}`}),this}removeConstraint(){return hc(this.getConstraint(),i.SyntaxKind.ExtendsKeyword),this}getDefault(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.default)}getDefaultOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefault(),"Expected to find the type parameter's default.")}setDefault(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),i.StringUtils.isNullOrWhitespace(e))return this.removeDefault(),this;const t=this.getDefault();if(null!=t)return t.replaceWithText(e),this;return tt({parent:this,insertPos:(this.getConstraint()||this.getNameNode()).getEnd(),newText:` = ${e}`}),this}removeDefault(){return hc(this.getDefault(),i.SyntaxKind.EqualsToken),this}remove(){const e=this.getParentSyntaxListOrThrow();1===e.getChildrenOfKind(i.SyntaxKind.TypeParameter).length?at({children:[e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(i.SyntaxKind.GreaterThanToken)]}):ut(this)}set(e){return L(dc.prototype,this,e),null!=e.constraint?this.setConstraint(e.constraint):e.hasOwnProperty("constraint")&&this.removeConstraint(),null!=e.default?this.setDefault(e.default):e.hasOwnProperty("default")&&this.removeDefault(),this}getStructure(){const e=this.getConstraint(),r=this.getDefault();return A(dc.prototype,this,{kind:t.z_b.TypeParameter,constraint:null!=e?e.getText({trimLeadingIndentation:!0}):void 0,default:r?r.getText({trimLeadingIndentation:!0}):void 0})}}function hc(e,t){null!=e&&at({children:[e.getPreviousSiblingIfKindOrThrow(t),e],removePrecedingSpaces:!0})}class pc extends Ll{getParameterNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.parameterName)}hasAssertsModifier(){return null!=this.compilerNode.assertsModifier}getAssertsModifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertsModifier)}getAssertsModifierOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAssertsModifier(),"Expected to find an asserts modifier.")}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTypeNode(),"Expected to find a type node.")}}class gc extends Ll{getExprName(){return this._getNodeFromCompilerNode(this.compilerNode.exprName)}}class mc extends Ll{getTypeName(){return this._getNodeFromCompilerNode(this.compilerNode.typeName)}getTypeArguments(){return null==this.compilerNode.typeArguments?[]:this.compilerNode.typeArguments.map((e=>this._getNodeFromCompilerNode(e)))}}class yc extends Ll{getTypeNodes(){return this.compilerNode.types.map((e=>this._getNodeFromCompilerNode(e)))}}class xc extends Ll{}const fc=Ji(xc);class Sc extends fc{}class Tc extends Kl{}class Nc extends Pt{}class bc extends Pt{}class Kc extends Pt{}class wc extends Pt{}class Fc extends Kl{}const Cc=yl(Kl);class _c extends Cc{}class Ic extends Kl{}const Pc=yl(Kl);class vc extends Pc{}class Ec extends Kl{}class Dc extends Kl{}class Oc extends Kl{}const Ac=xl(Kl);class Lc extends Ac{}const kc=xl(Kl);class Mc extends kc{}class Wc extends xc{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}}class zc{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getName(){return this.compilerObject.name}getText(){var e;return null!==(e=this.compilerObject.text)&&void 0!==e?e:[]}}const Bc=fl(Kl);class jc extends Bc{getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(){return i.errors.throwIfNullOrUndefined(this.getConstraint(),"Expected to find the JS doc template tag's constraint.")}}class Uc extends Pt{}const Rc=xl(Kl);class Jc extends Rc{}class Vc extends Kl{}class $c extends Ll{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}class Qc extends Kl{getTypeExpression(){const e=this.compilerNode.typeExpression;if(null==e||e.pos!==e.end)return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}}class Gc extends Kl{}class qc extends Pt{remove(){lt({children:[this],getSiblingFormatting:()=>M.Newline})}}const Hc=(e=>$i(Qo(Ni(k(qt($t(Di(e))))))))(ks);class Xc extends Hc{set(e){return L(Hc.prototype,this,e),null!=e.isConst&&this.setIsConstEnum(e.isConst),null!=e.members&&(this.getMembers().forEach((e=>e.remove())),this.addMembers(e.members)),this}addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(this.getMembers().length,e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){if(0===t.length)return[];const r=this.getMembersWithComments();e=le(e,r.length);const i=this._getWriterWithChildIndentation();return this._context.structurePrinterFactory.forEnumMember().printTexts(i,t),it({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),ie(r,this.getMembersWithComments(),e,!(t instanceof Array&&t.every((e=>"object"===typeof e))))}getMember(e){return p(this.getMembers(),e)}getMemberOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getMember(e),(()=>m("enum member",e)))}getMembers(){return this.compilerNode.members.map((e=>this._getNodeFromCompilerNode(e)))}getMembersWithComments(){const e=this.compilerNode;return we.getContainerArray(e,this.getSourceFile().compilerNode).map((e=>this._getNodeFromCompilerNode(e)))}setIsConstEnum(e){return this.toggleModifier("const",e)}isConstEnum(){return null!=this.getConstKeyword()}getConstKeyword(){return this.getFirstModifierByKind(i.SyntaxKind.ConstKeyword)}getStructure(){return A(Hc.prototype,this,{kind:t.z_b.Enum,isConst:this.isConstEnum(),members:this.getMembers().map((e=>e.getStructure()))})}}const Zc=(e=>Ni(Ti(Oi(e))))(Pt);class Yc extends Zc{getValue(){return this._context.typeChecker.getConstantValue(this)}setValue(e){let t;if("string"===typeof e){const r=this._context.manipulationSettings.getQuoteKind();t=r+i.StringUtils.escapeForWithinString(e,r)+r}else t=e.toString();return this.setInitializer(t),this}remove(){const e=[this],t=this.getNextSiblingIfKind(i.SyntaxKind.CommaToken);null!=t&&e.push(t),lt({children:e,getSiblingFormatting:()=>M.Newline})}set(e){return L(Zc.prototype,this,e),null!=e.value?this.setValue(e.value):e.hasOwnProperty("value")&&null==e.initializer&&this.removeInitializer(),this}getStructure(){return A(Zc.prototype,this,{kind:t.z_b.EnumMember,value:void 0})}}class ed extends Pt{getTypeNodes(){var e,t;return null!==(t=null===(e=this.compilerNode.types)||void 0===e?void 0:e.map((e=>this._getNodeFromCompilerNode(e))))&&void 0!==t?t:[]}getToken(){return this.compilerNode.token}removeExpression(e){const t=this.getTypeNodes(),r="number"===typeof e?t[le(e,t.length-1)]:e;if(1===t.length){const e=this.getParentSyntaxListOrThrow().getChildren();1===e.length?at({children:[e[0].getParentSyntaxListOrThrow()],removePrecedingSpaces:!0}):at({children:[this],removePrecedingSpaces:!0})}else ut(r);return this}}class td extends Pt{remove(){dt(this)}}const rd=(e=>Yi(Ut(Ni(Ji(e)))))(td);class id extends rd{set(e){return L(rd.prototype,this,e),this}getStructure(){return A(rd.prototype,this,{kind:t.z_b.CallSignature})}}class nd extends td{}const sd=(e=>Yi(Ut(Ni(Ji(e)))))(td);class od extends sd{set(e){return L(sd.prototype,this,e),this}getStructure(){return A(sd.prototype,this,{kind:t.z_b.ConstructSignature})}}const ad=(e=>zi(Ut(Ni(Wi($t(e))))))(td);class ld extends ad{getKeyName(){return this.getKeyNameNode().getText()}setKeyName(e){i.errors.throwIfWhitespaceOrNotString(e,"name"),this.getKeyName()!==e&&this.getKeyNameNode().replaceWithText(e,this._getWriterWithQueuedChildIndentation())}getKeyNameNode(){const e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.name)}getKeyType(){return this.getKeyNameNode().getType()}setKeyType(e){i.errors.throwIfWhitespaceOrNotString(e,"type");const t=this.getKeyTypeNode();return t.getText()===e||t.replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}getKeyTypeNode(){const e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.type)}set(e){return L(ad.prototype,this,e),null!=e.keyName&&this.setKeyName(e.keyName),null!=e.keyType&&this.setKeyType(e.keyType),this}getStructure(){const e=this.getKeyTypeNode();return A(ad.prototype,this,{kind:t.z_b.IndexSignature,keyName:this.getKeyName(),keyType:e.getText()})}}const cd=(e=>Xi($i(gi(xi(Yi(Ni(k(Qo(qt($t(Di(e))))))))))))(ks);class dd extends cd{getBaseTypes(){return this.getType().getBaseTypes()}getBaseDeclarations(){return i.ArrayUtils.flatten(this.getType().getBaseTypes().map((e=>{var t,r;return null!==(r=null===(t=e.getSymbol())||void 0===t?void 0:t.getDeclarations())&&void 0!==r?r:[]})))}getImplementations(){return this.getNameNode().getImplementations()}set(e){return L(cd.prototype,this,e),this}getStructure(){return A(cd.prototype,this,{kind:t.z_b.Interface})}}const ud=(e=>Ut(Ni(Mi(Yi(Ji(Oi(e)))))))(td);class hd extends ud{set(e){return L(ud.prototype,this,e),this}getStructure(){return A(ud.prototype,this,{kind:t.z_b.MethodSignature})}}const pd=(e=>Ut(Ni(Wi(Mi(Ti(qi(Oi($t(e)))))))))(td);class gd extends pd{set(e){return L(pd.prototype,this,e),this}getStructure(){return A(pd.prototype,this,{kind:t.z_b.PropertySignature})}}function md(e){return class extends e{getAttributes(){return this.compilerNode.attributes.properties.map((e=>this._getNodeFromCompilerNode(e)))}getAttributeOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getAttribute(e),(()=>m("attribute",e)))}getAttribute(e){return p(this.getAttributes(),e)}addAttribute(e){return this.addAttributes([e])[0]}addAttributes(e){return this.insertAttributes(this.compilerNode.attributes.properties.length,e)}insertAttribute(e,t){return this.insertAttributes(e,[t])[0]}insertAttributes(e,t){if(0===t.length)return[];const r=this.compilerNode.attributes.properties.length,n=0===(e=le(e,r))?this.getTagNameNode().getEnd():this.getAttributes()[e-1].getEnd(),s=this._getWriterWithQueuedChildIndentation();return new or(this._context.structurePrinterFactory.forJsxAttributeDecider()).printText(s,t),tt({insertPos:n,newText:" "+s.toString(),parent:this.getNodeProperty("attributes").getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList)}),ie(r,this.getAttributes(),e,!1)}set(t){return L(e.prototype,this,t),null!=t.attributes&&(this.getAttributes().forEach((e=>e.remove())),this.addAttributes(t.attributes)),this}getStructure(){return A(e.prototype,this,{attributes:this.getAttributes().map((e=>e.getStructure()))})}}}function yd(e){return class extends e{getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}set(t){return L(e.prototype,this,t),null!=t.name&&this.getTagNameNode().replaceWithText(t.name),this}getStructure(){return A(e.prototype,this,{name:this.getTagNameNode().getText()})}}}const xd=Di(Pt);class fd extends xd{getInitializerOrThrow(){return i.errors.throwIfNullOrUndefined(this.getInitializer(),`Expected to find an initializer for the JSX attribute '${this.getName()}'`)}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}setInitializer(e){const t=_(this._getWriterWithQueuedIndentation(),e);if(i.StringUtils.isNullOrWhitespace(t))return this.removeInitializer(),this;const r=this.getInitializer();return null!=r?(r.replaceWithText(t),this):(tt({insertPos:this.getNameNode().getEnd(),parent:this,newText:`=${t}`}),this)}removeInitializer(){const e=this.getInitializer();return null==e||at({children:[e.getPreviousSiblingIfKindOrThrow(i.SyntaxKind.EqualsToken),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}remove(){at({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return L(xd.prototype,this,e),null!=e.initializer?this.setInitializer(e.initializer):e.hasOwnProperty("initializer")&&this.removeInitializer(),this}getStructure(){const e=this.getInitializer();return A(xd.prototype,this,{kind:t.z_b.JsxAttribute,initializer:null===e||void 0===e?void 0:e.getText()})}}const Sd=(e=>yd(e))(Pt);class Td extends Sd{}class Nd extends ln{}const bd=fn;class Kd extends bd{getJsxChildren(){return this.compilerNode.children.map((e=>this._getNodeFromCompilerNode(e)))}getOpeningElement(){return this._getNodeFromCompilerNode(this.compilerNode.openingElement)}getClosingElement(){return this._getNodeFromCompilerNode(this.compilerNode.closingElement)}setBodyText(e){return wd(this,Ft(this._getWriterWithIndentation(),e)),this}setBodyTextInline(e){const t=this._getWriterWithQueuedChildIndentation();return I(t,e),t.isLastNewLine()&&(t.setIndentationLevel(Math.max(0,this.getIndentationLevel()-1)),t.write("")),wd(this,t.toString()),this}set(e){if(L(bd.prototype,this,e),null!=e.attributes){const t=this.getOpeningElement();t.getAttributes().forEach((e=>e.remove())),t.addAttributes(e.attributes)}if(null!=e.children)throw new i.errors.NotImplementedError("Setting JSX children is currently not implemented. Please open an issue if you need this.");return null!=e.bodyText?this.setBodyText(e.bodyText):e.hasOwnProperty("bodyText")&&this.setBodyTextInline(""),null!=e.name&&(this.getOpeningElement().getTagNameNode().replaceWithText(e.name),this.getClosingElement().getTagNameNode().replaceWithText(e.name)),this}getStructure(){const e=this.getOpeningElement(),r=A(bd.prototype,this,{kind:t.z_b.JsxElement,name:e.getTagNameNode().getText(),attributes:e.getAttributes().map((e=>e.getStructure())),children:void 0,bodyText:Ct(this)});return delete r.children,r}}function wd(e,t){const r=e.getOpeningElement(),i=e.getClosingElement();tt({insertPos:r.getEnd(),newText:t,parent:e.getChildSyntaxListOrThrow(),replacing:{textLength:i.getStart()-r.getEnd()}})}const Fd=Tn(Jt(ln));class Cd extends Fd{}class _d extends fn{getJsxChildren(){return this.compilerNode.children.map((e=>this._getNodeFromCompilerNode(e)))}getOpeningFragment(){return this._getNodeFromCompilerNode(this.compilerNode.openingFragment)}getClosingFragment(){return this._getNodeFromCompilerNode(this.compilerNode.closingFragment)}}const Id=(e=>md(yd(e)))(ln);class Pd extends Id{}class vd extends ln{}const Ed=(e=>md(yd(e)))(fn);class Dd extends Ed{set(e){return L(Ed.prototype,this,e),this}getStructure(){return A(Ed.prototype,this,{kind:t.z_b.JsxSelfClosingElement})}}const Od=bn(Pt);class Ad extends Od{remove(){at({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return L(Od.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),this}getStructure(){return A(Od.prototype,this,{kind:t.z_b.JsxSpreadAttribute,expression:this.getExpression().getText()})}}const Ld=bi(Pt);class kd extends Ld{containsOnlyTriviaWhiteSpaces(){const e=this.compilerNode;return"boolean"===typeof e.containsOnlyWhiteSpaces?e.containsOnlyWhiteSpaces:this.compilerNode.containsOnlyTriviaWhiteSpaces}}const Md=Rn;class Wd extends Md{getLiteralValue(){const e=this.compilerNode.text;if("undefined"===typeof BigInt)throw new i.errors.InvalidOperationError("Runtime environment does not support BigInts. Perhaps work with the text instead?");const t=e.substring(0,e.length-1);return BigInt(t)}setLiteralValue(e){if("bigint"!==typeof e)throw new i.errors.ArgumentTypeError("value","bigint",typeof e);return mt({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString()+"n"}),this}}const zd=fn;class Bd extends zd{getLiteralValue(){return Jd(this)}setLiteralValue(e){return Rd(this,e)}}const jd=fn;class Ud extends jd{getLiteralValue(){return Jd(this)}setLiteralValue(e){return Rd(this,e)}}function Rd(e,t){if(Jd(e)===t)return e;const r=e.getParentSyntaxList()||e.getParentOrThrow(),i=e.getChildIndex();return e.replaceWithText(t?"true":"false"),r.getChildAtIndex(i)}function Jd(e){return e.getKind()===i.SyntaxKind.TrueKeyword}const Vd=fn;class $d extends Vd{}const Qd=Rn;class Gd extends Qd{getLiteralValue(){const e=this.compilerNode.text;return e.indexOf(".")>=0?parseFloat(e):parseInt(e,10)}setLiteralValue(e){return mt({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString(10)}),this}}var qd;t.ZiB=void 0,(qd=t.ZiB||(t.ZiB={})).Single="'",qd.Double='"';const Hd=Rn;class Xd extends Hd{getLiteralValue(){const e=this.compilerNode.text,t=/^\/(.*)\/([^\/]*)$/.exec(e);return new RegExp(t[1],t[2])}setLiteralValue(e,t){let r;return"string"===typeof e?r=e:(r=e.source,t=e.flags),mt({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:`/${r}/${t||""}`}),this}}const Zd=Rn;class Yd extends Zd{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){return mt({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:i.StringUtils.escapeForWithinString(e,this.getQuoteKind())}),this}getQuoteKind(){return"'"===this.getText()[0]?t.ZiB.Single:t.ZiB.Double}}const eu=Rn;class tu extends eu{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){const t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentOrThrow();return mt({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),r.getChildAtIndex(t)}}class ru extends xn{getTag(){return this._getNodeFromCompilerNode(this.compilerNode.tag)}getTemplate(){return this._getNodeFromCompilerNode(this.compilerNode.template)}removeTag(){var e;const t=null!==(e=this.getParentSyntaxList())&&void 0!==e?e:this.getParentOrThrow(),r=this.getChildIndex(),i=this.getTemplate();return tt({customMappings:(e,t)=>[{currentNode:i,newNode:e.getChildren(t)[r]}],parent:t,insertPos:this.getStart(),newText:this.getTemplate().getText(),replacing:{textLength:this.getWidth(),nodes:[this]}}),t.getChildAtIndex(r)}}const iu=fn;class nu extends iu{getHead(){return this._getNodeFromCompilerNode(this.compilerNode.head)}getTemplateSpans(){return this.compilerNode.templateSpans.map((e=>this._getNodeFromCompilerNode(e)))}setLiteralValue(e){var t;const r=this.getChildIndex(),i=null!==(t=this.getParentSyntaxList())&&void 0!==t?t:this.getParentOrThrow();return mt({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),i.getChildAtIndex(r)}}const su=bi(Pt);class ou extends su{}const au=bi(Pt);class lu extends au{}const cu=bn(Pt);class du extends cu{getLiteral(){return this._getNodeFromCompilerNode(this.compilerNode.literal)}}const uu=bi(Pt);class hu extends uu{}function pu(e){return class extends e{getText(){return this.compilerNode.text}getDefinitionNodes(){return this.getDefinitions().map((e=>e.getDeclarationNode())).filter((e=>null!=e))}getDefinitions(){return this._context.languageService.getDefinitions(this)}}}const gu=bn(Pt);class mu extends gu{}const yu=pu(Fi(_i(fn)));class xu extends yu{getImplementations(){return this._context.languageService.getImplementations(this)}}const fu=pu(Fi(_i(Pt)));class Su extends fu{}class Tu extends Pt{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}}const Nu=(e=>Qt(Vt(qi(Ti(Ii(e))))))(Pt);class bu extends Nu{remove(){const e=this.getParentOrThrow();switch(e.getKind()){case i.SyntaxKind.VariableDeclarationList:!function(t){const r=e.getParentIfKindOrThrow(i.SyntaxKind.VariableStatement);1===r.getDeclarations().length?r.remove():ut(t)}(this);break;case i.SyntaxKind.CatchClause:at({children:[(t=this).getPreviousSiblingIfKindOrThrow(i.SyntaxKind.OpenParenToken),t,t.getNextSiblingIfKindOrThrow(i.SyntaxKind.CloseParenToken)],removePrecedingSpaces:!0});break;default:throw new i.errors.NotImplementedError(`Not implemented for syntax kind: ${e.getKindName()}`)}var t}getVariableStatementOrThrow(){return i.errors.throwIfNullOrUndefined(this.getVariableStatement(),"Expected the grandparent to be a variable statement.")}getVariableStatement(){const e=this.getParentOrThrow().getParentOrThrow();return Pt.isVariableStatement(e)?e:void 0}set(e){return L(Nu.prototype,this,e),this}getStructure(){return A(Nu.prototype,this,{kind:t.z_b.VariableDeclaration})}}const Ku=$t(Pt);class wu extends Ku{getDeclarations(){return this.compilerNode.declarations.map((e=>this._getNodeFromCompilerNode(e)))}getDeclarationKind(){const e=this.compilerNode.flags;return e&i.ts.NodeFlags.Let?t.bDp.Let:e&i.ts.NodeFlags.Const?t.bDp.Const:t.bDp.Var}getDeclarationKindKeyword(){const e=this.getDeclarationKind();switch(e){case t.bDp.Const:return this.getFirstChildByKindOrThrow(i.SyntaxKind.ConstKeyword);case t.bDp.Let:return this.getFirstChildByKindOrThrow(i.SyntaxKind.LetKeyword);case t.bDp.Var:return this.getFirstChildByKindOrThrow(i.SyntaxKind.VarKeyword);default:return i.errors.throwNotImplementedForNeverValueError(e)}}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;const t=this.getDeclarationKindKeyword();return tt({insertPos:t.getStart(),newText:e,parent:this,replacing:{textLength:t.getWidth()}}),this}addDeclaration(e){return this.addDeclarations([e])[0]}addDeclarations(e){return this.insertDeclarations(this.getDeclarations().length,e)}insertDeclaration(e,t){return this.insertDeclarations(e,[t])[0]}insertDeclarations(e,t){const r=this._getWriterWithQueuedChildIndentation(),n=new rr(this._context.structurePrinterFactory.forVariableDeclaration()),s=this.compilerNode.declarations.length;return e=le(e,s),n.printText(r,t),it({parent:this.getFirstChildByKindOrThrow(i.SyntaxKind.SyntaxList),currentNodes:this.getDeclarations(),insertIndex:e,newText:r.toString(),useTrailingCommas:!1}),ie(s,this.getDeclarations(),e,!1)}}class Fu{constructor(e,t){this._context=e,this._compilerSignature=t}get compilerSignature(){return this._compilerSignature}getTypeParameters(){return(this.compilerSignature.typeParameters||[]).map((e=>this._context.compilerFactory.getTypeParameter(e)))}getParameters(){return this.compilerSignature.parameters.map((e=>this._context.compilerFactory.getSymbol(e)))}getReturnType(){return this._context.compilerFactory.getType(this.compilerSignature.getReturnType())}getDocumentationComments(){return this.compilerSignature.getDocumentationComment(this._context.typeChecker.compilerObject).map((e=>this._context.compilerFactory.getSymbolDisplayPart(e)))}getJsDocTags(){return this.compilerSignature.getJsDocTags().map((e=>this._context.compilerFactory.getJSDocTagInfo(e)))}getDeclaration(){const{compilerFactory:e}=this._context,t=this.compilerSignature.getDeclaration();return e.getNodeFromCompilerNode(t,e.getSourceFileForNode(t))}}class Cu{constructor(e,t){this._context=e,this._compilerSymbol=t,this.getValueDeclaration(),this.getDeclarations()}get compilerSymbol(){return this._compilerSymbol}getName(){return this.compilerSymbol.getName()}getEscapedName(){return this.compilerSymbol.getEscapedName()}getAliasedSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAliasedSymbol(),"Expected to find an aliased symbol.")}getImmediatelyAliasedSymbol(){return this._context.typeChecker.getImmediatelyAliasedSymbol(this)}getImmediatelyAliasedSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getImmediatelyAliasedSymbol(),"Expected to find an immediately aliased symbol.")}getAliasedSymbol(){return this._context.typeChecker.getAliasedSymbol(this)}getExportSymbol(){return this._context.typeChecker.getExportSymbolOfSymbol(this)}isAlias(){return(this.getFlags()&i.SymbolFlags.Alias)===i.SymbolFlags.Alias}getFlags(){return this.compilerSymbol.getFlags()}hasFlags(e){return(this.compilerSymbol.flags&e)===e}getValueDeclarationOrThrow(){return i.errors.throwIfNullOrUndefined(this.getValueDeclaration(),(()=>`Expected to find the value declaration of symbol '${this.getName()}'.`))}getValueDeclaration(){const e=this.compilerSymbol.valueDeclaration;if(null!=e)return this._context.compilerFactory.getNodeFromCompilerNode(e,this._context.compilerFactory.getSourceFileForNode(e))}getDeclarations(){var e;return(null!==(e=this.compilerSymbol.declarations)&&void 0!==e?e:[]).map((e=>this._context.compilerFactory.getNodeFromCompilerNode(e,this._context.compilerFactory.getSourceFileForNode(e))))}getExportOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getExport(e),`Expected to find export with name: ${e}`)}getExport(e){if(null==this.compilerSymbol.exports)return;const t=this.compilerSymbol.exports.get(i.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getExports(){return null==this.compilerSymbol.exports?[]:i.ArrayUtils.from(this.compilerSymbol.exports.values()).map((e=>this._context.compilerFactory.getSymbol(e)))}getGlobalExportOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getGlobalExport(e),`Expected to find global export with name: ${e}`)}getGlobalExport(e){if(null==this.compilerSymbol.globalExports)return;const t=this.compilerSymbol.globalExports.get(i.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getGlobalExports(){return null==this.compilerSymbol.globalExports?[]:i.ArrayUtils.from(this.compilerSymbol.globalExports.values()).map((e=>this._context.compilerFactory.getSymbol(e)))}getMemberOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getMember(e),`Expected to find member with name: ${e}`)}getMember(e){if(null==this.compilerSymbol.members)return;const t=this.compilerSymbol.members.get(i.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getMembers(){return null==this.compilerSymbol.members?[]:i.ArrayUtils.from(this.compilerSymbol.members.values()).map((e=>this._context.compilerFactory.getSymbol(e)))}getDeclaredType(){return this._context.typeChecker.getDeclaredTypeOfSymbol(this)}getTypeAtLocation(e){return this._context.typeChecker.getTypeOfSymbolAtLocation(this,e)}getFullyQualifiedName(){return this._context.typeChecker.getFullyQualifiedName(this)}getJsDocTags(){return this.compilerSymbol.getJsDocTags(this._context.typeChecker.compilerObject).map((e=>new zc(e)))}}class _u{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getStart(){return this.compilerObject.start}getEnd(){return this.compilerObject.start+this.compilerObject.length}getLength(){return this.compilerObject.length}}class Iu{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getSpan(){return new _u(this.compilerObject.span)}getNewText(){return this.compilerObject.newText}}la([i.Memoize],Iu.prototype,"getSpan",null);class Pu{constructor(e,t){this._context=e,this._compilerObject=t;const r=e.compilerFactory.getSourceFileFromCacheFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(t.fileName));this._existingFileExists=null!=r,t.isNewFile||(this._sourceFile=r)}getFilePath(){return this._compilerObject.fileName}getSourceFile(){return this._sourceFile}getTextChanges(){return this._compilerObject.textChanges.map((e=>new Iu(e)))}applyChanges(e={}){if(this._isApplied)return;if(this.isNewFile()&&this._existingFileExists&&!e.overwrite)throw new i.errors.InvalidOperationError(`Cannot apply file text change for creating a new file when the file exists at path ${this.getFilePath()}. Did you mean to provide the overwrite option?`);let t;if(t=this.isNewFile()?this._context.project.createSourceFile(this.getFilePath(),"",{overwrite:e.overwrite}):this.getSourceFile(),null==t)throw new i.errors.InvalidOperationError(`Cannot apply file text change to modify existing file that doesn't exist at path: ${this.getFilePath()}`);return t.applyTextChanges(this.getTextChanges()),this._isApplied=!0,this}isNewFile(){return!!this._compilerObject.isNewFile}}la([i.Memoize],Pu.prototype,"getTextChanges",null);class vu{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getDescription(){return this.compilerObject.description}getChanges(){return this.compilerObject.changes.map((e=>new Pu(this._context,e)))}}class Eu extends vu{getFixName(){return this.compilerObject.fixName}getFixId(){return this.compilerObject.fixId}getFixAllDescription(){return this.compilerObject.fixAllDescription}}class Du{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getChanges(){return this.compilerObject.changes.map((e=>new Pu(this._context,e)))}applyChanges(e){for(const t of this.getChanges())t.applyChanges(e);return this}}la([i.Memoize],Du.prototype,"getChanges",null);class Ou{constructor(e,t){this._context=e,this._compilerObject=t,this._sourceFile=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.fileName)),this._sourceFile._doActionPreNextModification((()=>this.getNode()))}get compilerObject(){return this._compilerObject}getSourceFile(){return this._sourceFile}getTextSpan(){return new _u(this.compilerObject.textSpan)}getNode(){const e=this.getTextSpan(),t=this.getSourceFile(),r=e.getStart(),i=e.getEnd();return function(){let e;return t._context.compilerFactory.forgetNodesCreatedInBlock((n=>{let s,o=t;for(;null!=o;){if(null==s&&(e=o),o.getStart()===r&&o.getWidth()===i)e=s=o;else if(null!=s)break;o=o.getChildAtPos(r)}null!=e&&n(e)})),e}()}getOriginalTextSpan(){const{originalTextSpan:e}=this.compilerObject;return null==e?void 0:new _u(e)}getOriginalFileName(){return this.compilerObject.originalFileName}}la([i.Memoize],Ou.prototype,"getTextSpan",null),la([i.Memoize],Ou.prototype,"getNode",null),la([i.Memoize],Ou.prototype,"getOriginalTextSpan",null);class Au extends Ou{constructor(e,t){super(e,t),this.getSourceFile()._doActionPreNextModification((()=>this.getDeclarationNode()))}getKind(){return this.compilerObject.kind}getName(){return this.compilerObject.name}getContainerKind(){return this.compilerObject.containerKind}getContainerName(){return this.compilerObject.containerName}getDeclarationNode(){if("module"===this.getKind()&&this.getTextSpan().getLength()===this.getSourceFile().getFullWidth())return this.getSourceFile();const e=this.getTextSpan().getStart(),t=function t(r){if(r.getKind()===i.SyntaxKind.Identifier&&r.getStart()===e)return r;for(const i of r._getChildrenIterator())if(i.getPos()<=e&&i.getEnd()>e)return t(i);return}(this.getSourceFile());return null==t?void 0:t.getParentOrThrow()}}la([i.Memoize],Au.prototype,"getDeclarationNode",null);class Lu{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getMessageText(){return this.compilerObject.messageText}getNext(){const e=this.compilerObject.next;if(null!=e)return e instanceof Array?e.map((e=>new Lu(e))):[new Lu(e)]}getCode(){return this.compilerObject.code}getCategory(){return this.compilerObject.category}}class ku{constructor(e,t){this._context=e,this._compilerObject=t,this.getSourceFile()}get compilerObject(){return this._compilerObject}getSourceFile(){if(null==this._context)return;const e=this.compilerObject.file;return null==e?void 0:this._context.compilerFactory.getSourceFile(e,{markInProject:!1})}getMessageText(){const e=this._compilerObject.messageText;return"string"===typeof e?e:null==this._context?new Lu(e):this._context.compilerFactory.getDiagnosticMessageChain(e)}getLineNumber(){const e=this.getSourceFile(),t=this.getStart();if(null!=e&&null!=t)return i.StringUtils.getLineNumberAtPos(e.getFullText(),t)}getStart(){return this.compilerObject.start}getLength(){return this.compilerObject.length}getCategory(){return this.compilerObject.category}getCode(){return this.compilerObject.code}getSource(){return this.compilerObject.source}}la([i.Memoize],ku.prototype,"getSourceFile",null);class Mu extends ku{constructor(e,t){super(e,t)}getLineNumber(){return super.getLineNumber()}getStart(){return super.getStart()}getLength(){return super.getLength()}getSourceFile(){return super.getSourceFile()}}class Wu{constructor(e,t){this._compilerObject=t,this._context=e}get compilerObject(){return this._compilerObject}getFilePath(){return this._context.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.name)}getWriteByteOrderMark(){return this.compilerObject.writeByteOrderMark||!1}getText(){return this.compilerObject.text}}class zu{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getEmitSkipped(){return this.compilerObject.emitSkipped}getOutputFiles(){return this.compilerObject.outputFiles.map((e=>new Wu(this._context,e)))}}la([i.Memoize],zu.prototype,"getOutputFiles",null);class Bu{constructor(e,t){this._context=e,this._compilerObject=t,this.getDiagnostics()}get compilerObject(){return this._compilerObject}getEmitSkipped(){return this.compilerObject.emitSkipped}getDiagnostics(){return this.compilerObject.diagnostics.map((e=>this._context.compilerFactory.getDiagnostic(e)))}}la([i.Memoize],Bu.prototype,"getDiagnostics",null);class ju extends Ou{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}getDisplayParts(){return this.compilerObject.displayParts.map((e=>this._context.compilerFactory.getSymbolDisplayPart(e)))}}la([i.Memoize],ju.prototype,"getDisplayParts",null);class Uu extends Bu{constructor(e,t,r){super(e,t),this._files=r}getFiles(){return this._files}saveFiles(){const e=this._context.fileSystemWrapper,t=this._files.map((t=>e.writeFile(t.filePath,t.writeByteOrderMark?"\ufeff"+t.text:t.text)));return Promise.all(t)}saveFilesSync(){const e=this._context.fileSystemWrapper;for(const t of this._files)e.writeFileSync(t.filePath,t.writeByteOrderMark?"\ufeff"+t.text:t.text)}}class Ru{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getEdits(){return this.compilerObject.edits.map((e=>new Pu(this._context,e)))}getRenameFilePath(){return this.compilerObject.renameFilename}getRenameLocation(){return this.compilerObject.renameLocation}applyChanges(e){for(const t of this.getEdits())t.applyChanges(e);return this}}la([i.Memoize],Ru.prototype,"getEdits",null);class Ju{constructor(e,t){this._context=e,this._compilerObject=t,this._references=this.compilerObject.references.map((t=>e.compilerFactory.getReferenceEntry(t)))}get compilerObject(){return this._compilerObject}getDefinition(){return this._context.compilerFactory.getReferencedSymbolDefinitionInfo(this.compilerObject.definition)}getReferences(){return this._references}}la([i.Memoize],Ju.prototype,"getDefinition",null);class Vu extends Au{constructor(e,t){super(e,t)}getDisplayParts(){return this.compilerObject.displayParts.map((e=>this._context.compilerFactory.getSymbolDisplayPart(e)))}}la([i.Memoize],Vu.prototype,"getDisplayParts",null);class $u extends Ou{constructor(e,t){super(e,t)}isWriteAccess(){return this.compilerObject.isWriteAccess}isDefinition(){return this.compilerObject.isDefinition}isInString(){return this.compilerObject.isInString}}class Qu extends Ou{getPrefixText(){return this._compilerObject.prefixText}getSuffixText(){return this._compilerObject.suffixText}}class Gu{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getText(){return this.compilerObject.text}getKind(){return this.compilerObject.kind}}class qu{constructor(e){this._context=e}get compilerObject(){return this._getCompilerObject()}_reset(e){this._getCompilerObject=e}getAmbientModules(){return this.compilerObject.getAmbientModules().map((e=>this._context.compilerFactory.getSymbol(e)))}getApparentType(e){return this._context.compilerFactory.getType(this.compilerObject.getApparentType(e.compilerType))}getConstantValue(e){return this.compilerObject.getConstantValue(e.compilerNode)}getFullyQualifiedName(e){return this.compilerObject.getFullyQualifiedName(e.compilerSymbol)}getTypeAtLocation(e){return this._context.compilerFactory.getType(this.compilerObject.getTypeAtLocation(e.compilerNode))}getContextualType(e){const t=this.compilerObject.getContextualType(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getType(t)}getTypeOfSymbolAtLocation(e,t){return this._context.compilerFactory.getType(this.compilerObject.getTypeOfSymbolAtLocation(e.compilerSymbol,t.compilerNode))}getDeclaredTypeOfSymbol(e){return this._context.compilerFactory.getType(this.compilerObject.getDeclaredTypeOfSymbol(e.compilerSymbol))}getSymbolAtLocation(e){const t=this.compilerObject.getSymbolAtLocation(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getAliasedSymbol(e){if(!e.hasFlags(i.SymbolFlags.Alias))return;const t=this.compilerObject.getAliasedSymbol(e.compilerSymbol);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getImmediatelyAliasedSymbol(e){const t=this.compilerObject.getImmediateAliasedSymbol(e.compilerSymbol);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getExportSymbolOfSymbol(e){return this._context.compilerFactory.getSymbol(this.compilerObject.getExportSymbolOfSymbol(e.compilerSymbol))}getPropertiesOfType(e){return this.compilerObject.getPropertiesOfType(e.compilerType).map((e=>this._context.compilerFactory.getSymbol(e)))}getTypeText(e,t,r){return null==r&&(r=this._getDefaultTypeFormatFlags(t)),this.compilerObject.typeToString(e.compilerType,null===t||void 0===t?void 0:t.compilerNode,r)}getReturnTypeOfSignature(e){return this._context.compilerFactory.getType(this.compilerObject.getReturnTypeOfSignature(e.compilerSignature))}getSignatureFromNode(e){const t=this.compilerObject.getSignatureFromDeclaration(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSignature(t)}getExportsOfModule(e){return(this.compilerObject.getExportsOfModule(e.compilerSymbol)||[]).map((e=>this._context.compilerFactory.getSymbol(e)))}getExportSpecifierLocalTargetSymbol(e){const t=this.compilerObject.getExportSpecifierLocalTargetSymbol(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getResolvedSignature(e){const t=this.compilerObject.getResolvedSignature(e.compilerNode);if(t&&t.declaration)return this._context.compilerFactory.getSignature(t)}getResolvedSignatureOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getResolvedSignature(e),"Signature could not be resolved.")}getBaseTypeOfLiteralType(e){return this._context.compilerFactory.getType(this.compilerObject.getBaseTypeOfLiteralType(e.compilerType))}getSymbolsInScope(e,t){return this.compilerObject.getSymbolsInScope(e.compilerNode,t).map((e=>this._context.compilerFactory.getSymbol(e)))}getTypeArguments(e){return this.compilerObject.getTypeArguments(e.compilerType).map((e=>this._context.compilerFactory.getType(e)))}_getDefaultTypeFormatFlags(e){let t=i.TypeFormatFlags.UseTypeOfFunction|i.TypeFormatFlags.NoTruncation|i.TypeFormatFlags.UseFullyQualifiedType|i.TypeFormatFlags.WriteTypeArgumentsOfSignature;return null!=e&&e.getKind()===i.SyntaxKind.TypeAliasDeclaration&&(t|=i.TypeFormatFlags.InTypeAlias),t}}class Hu{constructor(e){this._context=e.context,this._configFileParsingDiagnostics=e.configFileParsingDiagnostics,this._typeChecker=new qu(this._context),this._reset(e.rootNames,e.host)}get compilerObject(){return this._getOrCreateCompilerObject()}_isCompilerProgramCreated(){return null!=this._createdCompilerObject}_reset(e,t){const r=this._context.compilerOptions.get();this._getOrCreateCompilerObject=()=>(null==this._createdCompilerObject&&(this._createdCompilerObject=i.ts.createProgram(e,r,t,this._oldProgram,this._configFileParsingDiagnostics),delete this._oldProgram),this._createdCompilerObject),null!=this._createdCompilerObject&&(this._oldProgram=this._createdCompilerObject,delete this._createdCompilerObject),this._typeChecker._reset((()=>this.compilerObject.getTypeChecker()))}getTypeChecker(){return this._typeChecker}emit(e={}){return ca(this,void 0,void 0,(function*(){if(e.writeFile){const e="Cannot specify a writeFile option when emitting asynchrously. Use emitSync() instead.";throw new i.errors.InvalidOperationError(e)}const{fileSystemWrapper:t}=this._context,r=[],n=this._emit(Object.assign({writeFile:(e,i,n)=>{r.push(t.writeFile(t.getStandardizedAbsolutePath(e),n?"\ufeff"+i:i))}},e));return yield Promise.all(r),new Bu(this._context,n)}))}emitSync(e={}){return new Bu(this._context,this._emit(e))}emitToMemory(e={}){const t=[],{fileSystemWrapper:r}=this._context,i=this._emit(Object.assign({writeFile:(e,i,n)=>{t.push({filePath:r.getStandardizedAbsolutePath(e),text:i,writeByteOrderMark:n||!1})}},e));return new Uu(this._context,i,t)}_emit(e={}){const t=null!=e.targetSourceFile?e.targetSourceFile.compilerNode:void 0,{emitOnlyDtsFiles:r,customTransformers:i,writeFile:n}=e;return this.compilerObject.emit(t,n,undefined,r,i)}getSyntacticDiagnostics(e){return this.compilerObject.getSyntacticDiagnostics(null==e?void 0:e.compilerNode).map((e=>this._context.compilerFactory.getDiagnosticWithLocation(e)))}getSemanticDiagnostics(e){return this.compilerObject.getSemanticDiagnostics(null===e||void 0===e?void 0:e.compilerNode).map((e=>this._context.compilerFactory.getDiagnostic(e)))}getDeclarationDiagnostics(e){return this.compilerObject.getDeclarationDiagnostics(null===e||void 0===e?void 0:e.compilerNode).map((e=>this._context.compilerFactory.getDiagnosticWithLocation(e)))}getGlobalDiagnostics(){return this.compilerObject.getGlobalDiagnostics().map((e=>this._context.compilerFactory.getDiagnostic(e)))}getConfigFileParsingDiagnostics(){return this.compilerObject.getConfigFileParsingDiagnostics().map((e=>this._context.compilerFactory.getDiagnostic(e)))}getEmitModuleResolutionKind(){return i.getEmitModuleResolutionKind(this.compilerObject.getCompilerOptions())}isSourceFileFromExternalLibrary(e){return e.isFromExternalLibrary()}}class Xu{constructor(e){var t;this._projectVersion=0,this._context=e.context;const{languageServiceHost:r,compilerHost:n}=i.createHosts({transactionalFileSystem:this._context.fileSystemWrapper,sourceFileContainer:this._context.getSourceFileContainer(),compilerOptions:this._context.compilerOptions,getNewLine:()=>this._context.manipulationSettings.getNewLineKindAsString(),getProjectVersion:()=>`${this._projectVersion}`,resolutionHost:null!==(t=e.resolutionHost)&&void 0!==t?t:{},libFolderPath:e.libFolderPath,skipLoadingLibFiles:e.skipLoadingLibFiles});this._compilerHost=n,this._compilerObject=i.ts.createLanguageService(r,this._context.compilerFactory.documentRegistry),this._program=new Hu({context:this._context,rootNames:Array.from(this._context.compilerFactory.getSourceFilePaths()),host:this._compilerHost,configFileParsingDiagnostics:e.configFileParsingDiagnostics}),this._context.compilerFactory.onSourceFileAdded((()=>this._reset())),this._context.compilerFactory.onSourceFileRemoved((()=>this._reset()))}get compilerObject(){return this._compilerObject}_reset(){this._projectVersion+=1,this._program._reset(Array.from(this._context.compilerFactory.getSourceFilePaths()),this._compilerHost)}getProgram(){return this._program}getDefinitions(e){return this.getDefinitionsAtPosition(e._sourceFile,e.getStart())}getDefinitionsAtPosition(e,t){return(this.compilerObject.getDefinitionAtPosition(e.getFilePath(),t)||[]).map((e=>this._context.compilerFactory.getDefinitionInfo(e)))}getImplementations(e){return this.getImplementationsAtPosition(e._sourceFile,e.getStart())}getImplementationsAtPosition(e,t){return(this.compilerObject.getImplementationAtPosition(e.getFilePath(),t)||[]).map((e=>new ju(this._context,e)))}findReferences(e){return this.findReferencesAtPosition(e._sourceFile,e.getStart())}findReferencesAsNodes(e){const t=this.findReferences(e);return Array.from(function*(){for(const e of t){const t=e.getDefinition().getKind()===i.ts.ScriptElementKind.alias,r=e.getReferences();for(let e=0;e<r.length;e++){const i=r[e];(t||!i.isDefinition()||e>0)&&(yield i.getNode())}}}())}findReferencesAtPosition(e,t){return(this.compilerObject.findReferences(e.getFilePath(),t)||[]).map((e=>this._context.compilerFactory.getReferencedSymbol(e)))}findRenameLocations(e,t={}){const r=null==t.usePrefixAndSuffixText?this._context.manipulationSettings.getUsePrefixAndSuffixTextForRename():t.usePrefixAndSuffixText;return(this.compilerObject.findRenameLocations(e._sourceFile.getFilePath(),e.getStart(),t.renameInStrings||!1,t.renameInComments||!1,r)||[]).map((e=>new Qu(this._context,e)))}getSuggestionDiagnostics(e){const t=this._getFilePathFromFilePathOrSourceFile(e);return this.compilerObject.getSuggestionDiagnostics(t).map((e=>this._context.compilerFactory.getDiagnosticWithLocation(e)))}getFormattingEditsForRange(e,t,r){return(this.compilerObject.getFormattingEditsForRange(e,t[0],t[1],this._getFilledSettings(r))||[]).map((e=>new Iu(e)))}getFormattingEditsForDocument(e,t){const r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e);return(this.compilerObject.getFormattingEditsForDocument(r,this._getFilledSettings(t))||[]).map((e=>new Iu(e)))}getFormattedDocumentText(e,t){const r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),n=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(r);if(null==n)throw new i.errors.FileNotFoundError(r);t=this._getFilledSettings(t);let s=R(n,this.getFormattingEditsForDocument(r,t));const o=t.newLineCharacter;return t.ensureNewLineAtEndOfFile&&!s.endsWith(o)&&(s+=o),s.replace(/\r?\n/g,o)}getEmitOutput(e,t){const r=this._getFilePathFromFilePathOrSourceFile(e),i=this.compilerObject;return new zu(this._context,function(){const e=i.getProgram();return null==e||null==e.getSourceFile(r)?{emitSkipped:!0,outputFiles:[]}:i.getEmitOutput(r,t)}())}getIdentationAtPosition(e,t,r){const i=this._getFilePathFromFilePathOrSourceFile(e);return null==r?r=this._context.manipulationSettings.getEditorSettings():C(r,this._context.manipulationSettings),this.compilerObject.getIndentationAtPosition(i,t,r)}organizeImports(e,t={},r={}){const i={type:"file",fileName:this._getFilePathFromFilePathOrSourceFile(e)};return this.compilerObject.organizeImports(i,this._getFilledSettings(t),this._getFilledUserPreferences(r)).map((e=>new Pu(this._context,e)))}getEditsForRefactor(e,t,r,i,n,s={}){const o=this._getFilePathFromFilePathOrSourceFile(e),a="number"===typeof r?r:{pos:r.getPos(),end:r.getEnd()},l=this.compilerObject.getEditsForRefactor(o,this._getFilledSettings(t),a,i,n,this._getFilledUserPreferences(s));return null!=l?new Ru(this._context,l):void 0}getCombinedCodeFix(e,t,r={},i={}){const n=this.compilerObject.getCombinedCodeFix({type:"file",fileName:this._getFilePathFromFilePathOrSourceFile(e)},t,this._getFilledSettings(r),this._getFilledUserPreferences(i||{}));return new Du(this._context,n)}getCodeFixesAtPosition(e,t,r,i,n={},s={}){const o=this._getFilePathFromFilePathOrSourceFile(e);return this.compilerObject.getCodeFixesAtPosition(o,t,r,i,this._getFilledSettings(n),this._getFilledUserPreferences(s||{})).map((e=>new Eu(this._context,e)))}_getFilePathFromFilePathOrSourceFile(e){const t="string"===typeof e?this._context.fileSystemWrapper.getStandardizedAbsolutePath(e):e.getFilePath();if(!this._context.compilerFactory.containsSourceFileAtPath(t))throw new i.errors.FileNotFoundError(t);return t}_getFilledSettings(e){return e._filled||(function(e,t){C(e,t),F(e,"insertSpaceAfterCommaDelimiter",!0),F(e,"insertSpaceAfterConstructor",!1),F(e,"insertSpaceAfterSemicolonInForStatements",!0),F(e,"insertSpaceAfterKeywordsInControlFlowStatements",!0),F(e,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces",!0),F(e,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets",!1),F(e,"insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces",!1),F(e,"insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces",!1),F(e,"insertSpaceBeforeFunctionParenthesis",!1),F(e,"insertSpaceBeforeAndAfterBinaryOperators",!0),F(e,"placeOpenBraceOnNewLineForFunctions",!1),F(e,"placeOpenBraceOnNewLineForControlBlocks",!1),F(e,"ensureNewLineAtEndOfFile",!0)}(e=i.ObjectUtils.assign(this._context.getFormatCodeSettings(),e),this._context.manipulationSettings),e._filled=!0),e}_getFilledUserPreferences(e){return i.ObjectUtils.assign(this._context.getUserPreferences(),e)}}class Zu{constructor(e,t){this._context=e,this._compilerType=t}get compilerType(){return this._compilerType}getText(e,t){return this._context.typeChecker.getTypeText(this,e,t)}getAliasSymbol(){return null==this.compilerType.aliasSymbol?void 0:this._context.compilerFactory.getSymbol(this.compilerType.aliasSymbol)}getAliasSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getAliasSymbol(),"Expected to find an alias symbol.")}getAliasTypeArguments(){return(this.compilerType.aliasTypeArguments||[]).map((e=>this._context.compilerFactory.getType(e)))}getApparentType(){return this._context.typeChecker.getApparentType(this)}getArrayElementTypeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getArrayElementType(),"Expected to find an array element type.")}getArrayElementType(){if(this.isArray())return this.getTypeArguments()[0]}getBaseTypes(){return(this.compilerType.getBaseTypes()||[]).map((e=>this._context.compilerFactory.getType(e)))}getBaseTypeOfLiteralType(){return this._context.typeChecker.getBaseTypeOfLiteralType(this)}getCallSignatures(){return this.compilerType.getCallSignatures().map((e=>this._context.compilerFactory.getSignature(e)))}getConstructSignatures(){return this.compilerType.getConstructSignatures().map((e=>this._context.compilerFactory.getSignature(e)))}getConstraintOrThrow(){return i.errors.throwIfNullOrUndefined(this.getConstraint(),"Expected to find a constraint.")}getConstraint(){const e=this.compilerType.getConstraint();return null==e?void 0:this._context.compilerFactory.getType(e)}getDefaultOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefault(),"Expected to find a default type.")}getDefault(){const e=this.compilerType.getDefault();return null==e?void 0:this._context.compilerFactory.getType(e)}getProperties(){return this.compilerType.getProperties().map((e=>this._context.compilerFactory.getSymbol(e)))}getPropertyOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getProperty(e),(()=>m("symbol property",e)))}getProperty(e){return x(this.getProperties(),e)}getApparentProperties(){return this.compilerType.getApparentProperties().map((e=>this._context.compilerFactory.getSymbol(e)))}getApparentProperty(e){return x(this.getApparentProperties(),e)}isNullable(){return this.getUnionTypes().some((e=>e.isNull()||e.isUndefined()))}getNonNullableType(){return this._context.compilerFactory.getType(this.compilerType.getNonNullableType())}getNumberIndexType(){const e=this.compilerType.getNumberIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getStringIndexType(){const e=this.compilerType.getStringIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetType(){const e=this.compilerType.target||void 0;return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetTypeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getTargetType(),"Expected to find the target type.")}getTypeArguments(){return this._context.typeChecker.getTypeArguments(this)}getTupleElements(){return this.isTuple()?this.getTypeArguments():[]}getUnionTypes(){return this.isUnion()?this.compilerType.types.map((e=>this._context.compilerFactory.getType(e))):[]}getIntersectionTypes(){return this.isIntersection()?this.compilerType.types.map((e=>this._context.compilerFactory.getType(e))):[]}getLiteralValue(){var e;return null===(e=this.compilerType)||void 0===e?void 0:e.value}getLiteralValueOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLiteralValue(),"Type was not a literal type.")}getLiteralFreshType(){var e;const t=null===(e=this.compilerType)||void 0===e?void 0:e.freshType;return null==t?void 0:this._context.compilerFactory.getType(t)}getLiteralFreshTypeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLiteralFreshType(),"Type was not a literal type.")}getLiteralRegularType(){var e;const t=null===(e=this.compilerType)||void 0===e?void 0:e.regularType;return null==t?void 0:this._context.compilerFactory.getType(t)}getLiteralRegularTypeOrThrow(){return i.errors.throwIfNullOrUndefined(this.getLiteralRegularType(),"Type was not a literal type.")}getSymbol(){const e=this.compilerType.getSymbol();return null==e?void 0:this._context.compilerFactory.getSymbol(e)}getSymbolOrThrow(){return i.errors.throwIfNullOrUndefined(this.getSymbol(),"Expected to find a symbol.")}isAnonymous(){return this._hasObjectFlag(i.ObjectFlags.Anonymous)}isAny(){return this._hasTypeFlag(i.TypeFlags.Any)}isArray(){const e=this.getSymbol();return null!=e&&("Array"===e.getName()&&1===this.getTypeArguments().length)}isBoolean(){return this._hasTypeFlag(i.TypeFlags.Boolean)}isString(){return this._hasTypeFlag(i.TypeFlags.String)}isNumber(){return this._hasTypeFlag(i.TypeFlags.Number)}isLiteral(){const e=this.isBooleanLiteral();return this.compilerType.isLiteral()||e}isBooleanLiteral(){return this._hasTypeFlag(i.TypeFlags.BooleanLiteral)}isEnumLiteral(){return this._hasTypeFlag(i.TypeFlags.EnumLiteral)&&!this.isUnion()}isNumberLiteral(){return this._hasTypeFlag(i.TypeFlags.NumberLiteral)}isStringLiteral(){return this.compilerType.isStringLiteral()}isClass(){return this.compilerType.isClass()}isClassOrInterface(){return this.compilerType.isClassOrInterface()}isEnum(){if(this._hasTypeFlag(i.TypeFlags.Enum))return!0;if(this.isEnumLiteral()&&!this.isUnion())return!1;const e=this.getSymbol();if(null==e)return!1;const t=e.getValueDeclaration();return null!=t&&Pt.isEnumDeclaration(t)}isInterface(){return this._hasObjectFlag(i.ObjectFlags.Interface)}isObject(){return this._hasTypeFlag(i.TypeFlags.Object)}isTypeParameter(){return this.compilerType.isTypeParameter()}isTuple(){const e=this.getTargetType();return null!=e&&e._hasObjectFlag(i.ObjectFlags.Tuple)}isUnion(){return this.compilerType.isUnion()}isIntersection(){return this.compilerType.isIntersection()}isUnionOrIntersection(){return this.compilerType.isUnionOrIntersection()}isUnknown(){return this._hasTypeFlag(i.TypeFlags.Unknown)}isNull(){return this._hasTypeFlag(i.TypeFlags.Null)}isUndefined(){return this._hasTypeFlag(i.TypeFlags.Undefined)}getFlags(){return this.compilerType.flags}getObjectFlags(){return this.isObject()&&this.compilerType.objectFlags||0}_hasTypeFlag(e){return(this.compilerType.flags&e)===e}_hasObjectFlag(e){return(this.getObjectFlags()&e)===e}}class Yu extends Zu{getConstraintOrThrow(){return i.errors.throwIfNullOrUndefined(this.getConstraint(),"Expected type parameter to have a constraint.")}getConstraint(){const e=this._getTypeParameterDeclaration();if(null==e)return;const t=e.getConstraint();return null!=t?this._context.typeChecker.getTypeAtLocation(t):void 0}getDefaultOrThrow(){return i.errors.throwIfNullOrUndefined(this.getDefault(),"Expected type parameter to have a default type.")}getDefault(){const e=this._getTypeParameterDeclaration();if(null==e)return;const t=e.getDefault();return null!=t?this._context.typeChecker.getTypeAtLocation(t):void 0}_getTypeParameterDeclaration(){const e=this.getSymbol();if(null==e)return;const t=e.getDeclarations()[0];return null!=t&&Pt.isTypeParameterDeclaration(t)?t:void 0}}class eh{constructor(e,t){this._skippedFilePaths=e,this._outputFilePaths=t}getSkippedFilePaths(){return this._skippedFilePaths}getOutputFilePaths(){return this._outputFilePaths}}class th{constructor(e,t){this.__context=e,this._setPathInternal(t)}_setPathInternal(e){this._path=e,this._pathParts=e.split("/").filter((e=>e.length>0))}get _context(){return this._throwIfDeletedOrRemoved(),this.__context}isAncestorOf(e){return th._isAncestorOfDir(this,e)}isDescendantOf(e){return th._isAncestorOfDir(e,this)}_getDepth(){return this._pathParts.length}getPath(){return this._throwIfDeletedOrRemoved(),this._path}getBaseName(){return this._pathParts[this._pathParts.length-1]}getParentOrThrow(){return i.errors.throwIfNullOrUndefined(this.getParent(),(()=>`Parent directory of ${this.getPath()} does not exist or was never added.`))}getParent(){if(!i.FileUtils.isRootDirPath(this.getPath()))return this.addDirectoryAtPathIfExists(i.FileUtils.getDirPath(this.getPath()))}getDirectoryOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getDirectory(e),(()=>"string"===typeof e?`Could not find a directory at path '${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath())}'.`:"Could not find child directory that matched condition."))}getDirectory(e){if("string"===typeof e){const t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getDirectoryFromCache(t)}return this.getDirectories().find(e)}getSourceFileOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getSourceFile(e),(()=>{if("string"===typeof e){return`Could not find child source file at path '${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath())}'.`}return"Could not find child source file that matched condition."}))}getSourceFile(e){if("string"===typeof e){const t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t)}for(const t of this._getSourceFilesIterator())if(e(t))return t}getDirectories(){return Array.from(this._getDirectoriesIterator())}_getDirectoriesIterator(){return this._context.compilerFactory.getChildDirectoriesOfDirectory(this.getPath())}getSourceFiles(e){const{compilerFactory:t,fileSystemWrapper:r}=this._context,n=this;if("string"===typeof e||e instanceof Array){const s="string"===typeof e?[e]:e;return Array.from(function*(e){const s=Array.from(a()),o=i.matchGlobs(s,e,n.getPath());for(const i of o)yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(i));function*a(){for(const e of n._getDescendantSourceFilesIterator())yield e.getFilePath()}}(s))}return Array.from(this._getSourceFilesIterator())}_getSourceFilesIterator(){return this._context.compilerFactory.getChildSourceFilesOfDirectory(this.getPath())}getDescendantSourceFiles(){return Array.from(this._getDescendantSourceFilesIterator())}*_getDescendantSourceFilesIterator(){for(const e of this._getSourceFilesIterator())yield e;for(const e of this._getDirectoriesIterator())yield*e._getDescendantSourceFilesIterator()}getDescendantDirectories(){return Array.from(this._getDescendantDirectoriesIterator())}*_getDescendantDirectoriesIterator(){for(const e of this.getDirectories())yield e,yield*e._getDescendantDirectoriesIterator()}addSourceFilesAtPaths(e){return e=(e="string"===typeof e?[e]:e).map((e=>i.FileUtils.pathIsAbsolute(e)?e:i.FileUtils.pathJoin(this.getPath(),e))),this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:this._isInProject()})}addDirectoryAtPathIfExists(e,t={}){const r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPathIfExists(r,Object.assign(Object.assign({},t),{markInProject:this._isInProject()}))}addDirectoryAtPath(e,t={}){const r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPath(r,Object.assign(Object.assign({},t),{markInProject:this._isInProject()}))}createDirectory(e){const t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.createDirectoryOrAddIfExists(t,{markInProject:this._isInProject()})}createSourceFile(e,t,r){const i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.createSourceFile(i,t||"",Object.assign(Object.assign({},r||{}),{markInProject:this._isInProject()}))}addSourceFileAtPathIfExists(e){const t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPathIfExists(t,{markInProject:this._isInProject()})}addSourceFileAtPath(e){const t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPath(t,{markInProject:this._isInProject()})}emit(e={}){return ca(this,void 0,void 0,(function*(){const{fileSystemWrapper:t}=this._context,r=[],i=[],n=[];for(const s of this._emitInternal(e))ih(s)?n.push(s):(r.push(t.writeFile(s.filePath,s.fileText)),i.push(s.filePath));return yield Promise.all(r),new eh(n,i)}))}emitSync(e={}){const{fileSystemWrapper:t}=this._context,r=[],i=[];for(const n of this._emitInternal(e))ih(n)?i.push(n):(t.writeFileSync(n.filePath,n.fileText),r.push(n.filePath));return new eh(i,r)}_emitInternal(e={}){const{emitOnlyDtsFiles:t=!1}=e,r=null==e.outDir?void 0:/\.js$/i,n=null==e.outDir?void 0:/\.js\.map$/i,s=null==e.declarationDir&&null==e.outDir?void 0:/\.d\.ts$/i,o=e=>null==e?void 0:this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath()),a=(e,t)=>null==e?void 0:i.FileUtils.pathJoin(e,t.getBaseName()),l=null!=this._context.compilerOptions.get().declarationDir||null!=e.declarationDir;return function*e(o,c,d){for(const a of o.getSourceFiles()){const e=a.getEmitOutput({emitOnlyDtsFiles:t});if(e.getEmitSkipped())yield a.getFilePath();else for(const t of e.getOutputFiles()){let e=t.getFilePath();const o=t.getWriteByteOrderMark()?i.FileUtils.getTextWithByteOrderMark(t.getText()):t.getText();null!=c&&(r.test(e)||n.test(e)||!l&&s.test(e))?e=i.FileUtils.pathJoin(c,i.FileUtils.getBaseName(e)):null!=d&&s.test(e)&&(e=i.FileUtils.pathJoin(d,i.FileUtils.getBaseName(e))),yield{filePath:e,fileText:o}}}for(const t of o.getDirectories())yield*e(t,a(c,t),a(d,t))}(this,o(e.outDir),o(e.declarationDir))}copyToDirectory(e,t){const r="string"===typeof e?e:e.getPath();return this.copy(i.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t){const r=this.getPath(),i=this._context.fileSystemWrapper,n=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return r===n?this:((t=rh(t)).includeUntrackedFiles&&i.queueCopyDirectory(r,n),this._copyInternal(n,t))}copyImmediately(e,t){return ca(this,void 0,void 0,(function*(){const r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return yield this.save(),this;t=rh(t);const s=this._copyInternal(n,t);return t.includeUntrackedFiles&&(yield r.copyDirectoryImmediately(i,n)),yield s.save(),s}))}copyImmediatelySync(e,t){const r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return this.saveSync(),this;t=rh(t);const s=this._copyInternal(n,t);return t.includeUntrackedFiles&&r.copyDirectoryImmediatelySync(i,n),s.saveSync(),s}_copyInternal(e,t){if(this.getPath()===e)return this;const{fileSystemWrapper:r,compilerFactory:i}=this._context,n=[this,...this.getDescendantDirectories()].map((t=>({newDirPath:t===this?e:r.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)}))),s=this.getDescendantSourceFiles().map((t=>({sourceFile:t,newFilePath:r.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this._getReferencesForCopy(t)})));for(const{newDirPath:o}of n)this._context.compilerFactory.createDirectoryOrAddIfExists(o,{markInProject:this._isInProject()});for(const{sourceFile:o,newFilePath:a}of s)o._copyInternal(a,t);for(const{references:o,newFilePath:a}of s)this.getSourceFileOrThrow(a)._updateReferencesForCopyInternal(o);return i.getDirectoryFromCache(e)}moveToDirectory(e,t){const r="string"===typeof e?e:e.getPath();return this.move(i.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t){const r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n?this:this._moveInternal(n,t,(()=>r.queueMoveDirectory(i,n)))}moveImmediately(e,t){return ca(this,void 0,void 0,(function*(){const r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n?(yield this.save(),this):(this._moveInternal(n,t),yield r.moveDirectoryImmediately(i,n),yield this.save(),this)}))}moveImmediatelySync(e,t){const r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n?(this.saveSync(),this):(this._moveInternal(n,t),r.moveDirectoryImmediatelySync(i,n),this.saveSync(),this)}_moveInternal(e,t,r){const i=this.getPath();if(i===e)return this;const n=this._context.compilerFactory.getDirectoryFromCacheOnlyIfInCache(e),s=null!=n&&n._isInProject();r&&r();const o=this._context.fileSystemWrapper,a=this._context.compilerFactory,l=[this,...this.getDescendantDirectories()].map((t=>({directory:t,oldPath:t.getPath(),newDirPath:t===this?e:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)}))),c=this.getDescendantSourceFiles().map((t=>({sourceFile:t,newFilePath:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this._getReferencesForMove(t)})));for(const{directory:d,oldPath:u,newDirPath:h}of l){a.removeDirectoryFromCache(u);const e=a.getDirectoryFromCache(h);null!=e&&e._forgetOnlyThis(),d._setPathInternal(h),a.addDirectoryToCache(d)}for(const{sourceFile:d,newFilePath:u}of c)d._moveInternal(u,t);for(const{sourceFile:d,references:u}of c)d._updateReferencesForMoveInternal(u,i);return s&&this._markAsInProject(),this}clear(){const e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this._context.fileSystemWrapper.queueMkdir(e)}clearImmediately(){return ca(this,void 0,void 0,(function*(){const e=this.getPath();this._deleteDescendants(),yield this._context.fileSystemWrapper.clearDirectoryImmediately(e)}))}clearImmediatelySync(){const e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.clearDirectoryImmediatelySync(e)}delete(){const e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this.forget()}_deleteDescendants(){for(const e of this.getSourceFiles())e.delete();for(const e of this.getDirectories())e.delete()}deleteImmediately(){return ca(this,void 0,void 0,(function*(){const{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),yield e.deleteDirectoryImmediately(t)}))}deleteImmediatelySync(){const{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),e.deleteDirectoryImmediatelySync(t)}forget(){if(!this.wasForgotten()){for(const e of this.getSourceFiles())e.forget();for(const e of this.getDirectories())e.forget();this._forgetOnlyThis()}}_forgetOnlyThis(){this.wasForgotten()||(this._context.compilerFactory.removeDirectoryFromCache(this.getPath()),this.__context=void 0)}save(){return ca(this,void 0,void 0,(function*(){yield this._context.fileSystemWrapper.saveForDirectory(this.getPath());const e=this.getDescendantSourceFiles().filter((e=>!e.isSaved()));yield Promise.all(e.map((e=>e.save())))}))}saveSync(){this._context.fileSystemWrapper.saveForDirectorySync(this.getPath());this.getDescendantSourceFiles().filter((e=>!e.isSaved())).forEach((e=>e.saveSync()))}getRelativePathTo(e){const t=this;return i.FileUtils.getRelativePathTo(this.getPath(),e instanceof ua?e.getFilePath():e instanceof th?e.getPath():t._context.fileSystemWrapper.getStandardizedAbsolutePath(e,t.getPath()))}getRelativePathAsModuleSpecifierTo(e){const t=this._context.program.getEmitModuleResolutionKind(),r=this,n=i.FileUtils.getRelativePathTo(this.getPath(),function(){return e instanceof ua?(n=e,s(n.getFilePath())):e instanceof th?function(e){switch(t){case i.ModuleResolutionKind.NodeJs:return e===r?i.FileUtils.pathJoin(e.getPath(),"index.ts"):e.getPath();case i.ModuleResolutionKind.Classic:return i.FileUtils.pathJoin(e.getPath(),"index.ts");default:return i.errors.throwNotImplementedForNeverValueError(t)}}(e):s(r._context.fileSystemWrapper.getStandardizedAbsolutePath(e,r.getPath()));var n;function s(e){const n=i.FileUtils.getDirPath(e);switch(t){case i.ModuleResolutionKind.NodeJs:return n===r.getPath()?e:e.replace(/\/index?(\.d\.ts|\.ts|\.js)$/i,"");case i.ModuleResolutionKind.Classic:return e;default:return i.errors.throwNotImplementedForNeverValueError(t)}}}()).replace(/((\.d\.ts$)|(\.[^/.]+$))/i,"");return n.startsWith("../")?n:"./"+n}getProject(){return this._context.project}wasForgotten(){return null==this.__context}_isInProject(){return this._context.inProjectCoordinator.isDirectoryInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markDirectoryAsInProject(this)}_hasLoadedParent(){return this._context.compilerFactory.containsDirectoryAtPath(i.FileUtils.getDirPath(this.getPath()))}_throwIfDeletedOrRemoved(){if(this.wasForgotten())throw new i.errors.InvalidOperationError("Cannot use a directory that was deleted, removed, or overwritten.")}_getReferencesForCopy(e){return e._getReferencesForCopyInternal().filter((e=>!this.isAncestorOf(e[1])))}_getReferencesForMove(e){const{literalReferences:t,referencingLiterals:r}=e._getReferencesForMoveInternal();return{literalReferences:t.filter((e=>!this.isAncestorOf(e[1]))),referencingLiterals:r.filter((e=>!this.isAncestorOf(e._sourceFile)))}}static _isAncestorOfDir(e,t){if(t instanceof ua&&e===(t=t.getDirectory()))return!0;if(e._pathParts.length>=t._pathParts.length)return!1;for(let r=e._pathParts.length-1;r>=0;r--)if(e._pathParts[r]!==t._pathParts[r])return!1;return!0}}function rh(e){return F(e=i.ObjectUtils.clone(e||{}),"includeUntrackedFiles",!0),e}function ih(e){return"string"===typeof e}class nh{constructor(e,t){this.compilerFactory=e,this.fileSystemWrapper=t}addDirectoryAtPathIfExists(e,t){const r=this.compilerFactory.getDirectoryFromPath(e,t);if(null!=r){if(t.recursive)for(const r of i.FileUtils.getDescendantDirectories(this.fileSystemWrapper,e))this.compilerFactory.createDirectoryOrAddIfExists(r,t);return r}}addDirectoryAtPath(e,t){const r=this.addDirectoryAtPathIfExists(e,t);if(null==r)throw new i.errors.DirectoryNotFoundError(e);return r}createDirectoryOrAddIfExists(e,t){return this.compilerFactory.createDirectoryOrAddIfExists(e,t)}addSourceFileAtPathIfExists(e,t){return this.compilerFactory.addOrGetSourceFileFromFilePath(e,{markInProject:t.markInProject,scriptKind:void 0})}addSourceFileAtPath(e,t){const r=this.addSourceFileAtPathIfExists(e,t);if(null==r)throw new i.errors.FileNotFoundError(this.fileSystemWrapper.getStandardizedAbsolutePath(e));return r}addSourceFilesAtPaths(e,t){"string"===typeof e&&(e=[e]);const r=[],n=new Set;for(const s of this.fileSystemWrapper.globSync(e)){const e=this.addSourceFileAtPathIfExists(s,t);null!=e&&r.push(e),n.add(i.FileUtils.getDirPath(s))}for(const s of i.FileUtils.getParentMostPaths(Array.from(n)))this.addDirectoryAtPathIfExists(s,{recursive:!0,markInProject:t.markInProject});return r}}class sh{constructor(e){this.context=e,this.directoriesByPath=new i.KeyValueCache,this.sourceFilesByDirPath=new i.KeyValueCache,this.directoriesByDirPath=new i.KeyValueCache,this.orphanDirs=new i.KeyValueCache}has(e){return this.directoriesByPath.has(e)}get(e){if(this.directoriesByPath.has(e))return this.directoriesByPath.get(e);for(const t of this.orphanDirs.getValues())if(i.FileUtils.pathStartsWith(t.getPath(),e))return this.createOrAddIfExists(e)}getOrphans(){return this.orphanDirs.getValues()}getAll(){return this.directoriesByPath.getValuesAsArray()}*getAllByDepth(){const e=new i.KeyValueCache;let t=0;for(const i of this.getOrphans())r(i);for(t=Math.min(...Array.from(e.getKeys()));e.getSize()>0;){for(const i of e.get(t)||[])yield i,i.getDirectories().forEach(r);e.removeByKey(t),t++}function r(r){const i=r._getDepth();if(t>i)throw new Error(`For some reason a subdirectory had a lower depth than the parent directory: ${r.getPath()}`);e.getOrCreate(i,(()=>[])).push(r)}}remove(e){this.removeFromDirectoriesByDirPath(e),this.directoriesByPath.removeByKey(e),this.orphanDirs.removeByKey(e)}*getChildDirectoriesOfDirectory(e){var t;const r=null===(t=this.directoriesByDirPath.get(e))||void 0===t?void 0:t.entries();if(null!=r)for(const i of r)yield i}*getChildSourceFilesOfDirectory(e){var t;const r=null===(t=this.sourceFilesByDirPath.get(e))||void 0===t?void 0:t.entries();if(null!=r)for(const i of r)yield i}addSourceFile(e){const t=e.getDirectoryPath();this.createOrAddIfExists(t);this.sourceFilesByDirPath.getOrCreate(t,(()=>new i.SortedKeyValueArray((e=>e.getBaseName()),i.LocaleStringComparer.instance))).set(e)}removeSourceFile(e){const t=i.FileUtils.getDirPath(e),r=this.sourceFilesByDirPath.get(t);null!=r&&(r.removeByKey(i.FileUtils.getBaseName(e)),r.hasItems()||this.sourceFilesByDirPath.removeByKey(t))}createOrAddIfExists(e){return this.has(e)?this.get(e):(this.fillParentsOfDirPath(e),this.createDirectory(e))}createDirectory(e){const t=new th(this.context,e);return this.addDirectory(t),t}addDirectory(e){const t=e.getPath(),r=i.FileUtils.getDirPath(t),n=r===t;for(const s of this.orphanDirs.getValues()){const e=s.getPath(),r=i.FileUtils.getDirPath(e);r===e||r!==t||this.orphanDirs.removeByKey(e)}n||this.addToDirectoriesByDirPath(e),this.has(r)||this.orphanDirs.set(t,e),this.directoriesByPath.set(t,e),this.context.fileSystemWrapper.directoryExistsSync(t)||this.context.fileSystemWrapper.queueMkdir(t);for(const i of this.orphanDirs.getValues())e.isAncestorOf(i)&&this.fillParentsOfDirPath(i.getPath())}addToDirectoriesByDirPath(e){if(i.FileUtils.isRootDirPath(e.getPath()))return;const t=i.FileUtils.getDirPath(e.getPath());this.directoriesByDirPath.getOrCreate(t,(()=>new i.SortedKeyValueArray((e=>e.getBaseName()),i.LocaleStringComparer.instance))).set(e)}removeFromDirectoriesByDirPath(e){if(i.FileUtils.isRootDirPath(e))return;const t=i.FileUtils.getDirPath(e),r=this.directoriesByDirPath.get(t);null!=r&&(r.removeByKey(i.FileUtils.getBaseName(e)),r.hasItems()||this.directoriesByDirPath.removeByKey(t))}fillParentsOfDirPath(e){const t=[];let r=i.FileUtils.getDirPath(e);for(;e!==r;){if(e=r,r=i.FileUtils.getDirPath(e),this.directoriesByPath.has(e)){for(const e of t)this.createDirectory(e);break}t.unshift(e)}}}class oh extends i.KeyValueCache{constructor(){super(...arguments),this.forgetStack=[]}getOrCreate(e,t){return super.getOrCreate(e,(()=>{const e=t();return this.forgetStack.length>0&&this.forgetStack[this.forgetStack.length-1].add(e),e}))}setForgetPoint(){this.forgetStack.push(new Set)}forgetLastPoint(){const e=this.forgetStack.pop();null!=e&&this.forgetNodes(e.values())}rememberNode(e){if(e.wasForgotten())throw new i.errors.InvalidOperationError("Cannot remember a node that was removed or forgotten.");let t=!1;for(const r of this.forgetStack)if(r.delete(e)){t=!0;break}return t&&this.rememberParentOfNode(e),t}rememberParentOfNode(e){const t=e.getParentSyntaxList()||e.getParent();null!=t&&this.rememberNode(t)}forgetNodes(e){for(const t of e)t.wasForgotten()||t.getKind()===i.SyntaxKind.SourceFile||t._forgetOnlyThis()}}const ah={[i.SyntaxKind.SourceFile]:ua,[i.SyntaxKind.ArrayBindingPattern]:rn,[i.SyntaxKind.ArrayLiteralExpression]:Sn,[i.SyntaxKind.ArrayType]:kl,[i.SyntaxKind.ArrowFunction]:ba,[i.SyntaxKind.AsExpression]:_n,[i.SyntaxKind.AwaitExpression]:Pn,[i.SyntaxKind.BigIntLiteral]:Wd,[i.SyntaxKind.BindingElement]:sn,[i.SyntaxKind.BinaryExpression]:dn,[i.SyntaxKind.Block]:Bs,[i.SyntaxKind.BreakStatement]:js,[i.SyntaxKind.CallExpression]:En,[i.SyntaxKind.CallSignature]:id,[i.SyntaxKind.CaseBlock]:Rs,[i.SyntaxKind.CaseClause]:Vs,[i.SyntaxKind.CatchClause]:Qs,[i.SyntaxKind.ClassDeclaration]:Qa,[i.SyntaxKind.ClassExpression]:tl,[i.SyntaxKind.ClassStaticBlockDeclaration]:il,[i.SyntaxKind.ConditionalType]:Ml,[i.SyntaxKind.Constructor]:al,[i.SyntaxKind.ConstructorType]:jl,[i.SyntaxKind.ConstructSignature]:od,[i.SyntaxKind.ContinueStatement]:qs,[i.SyntaxKind.CommaListExpression]:On,[i.SyntaxKind.ComputedPropertyName]:mu,[i.SyntaxKind.ConditionalExpression]:Ln,[i.SyntaxKind.DebuggerStatement]:Xs,[i.SyntaxKind.Decorator]:ml,[i.SyntaxKind.DefaultClause]:Ys,[i.SyntaxKind.DeleteExpression]:Mn,[i.SyntaxKind.DoStatement]:ro,[i.SyntaxKind.ElementAccessExpression]:zn,[i.SyntaxKind.EmptyStatement]:no,[i.SyntaxKind.EnumDeclaration]:Xc,[i.SyntaxKind.EnumMember]:Yc,[i.SyntaxKind.ExportAssignment]:Po,[i.SyntaxKind.ExportDeclaration]:Eo,[i.SyntaxKind.ExportSpecifier]:Oo,[i.SyntaxKind.ExpressionWithTypeArguments]:Rl,[i.SyntaxKind.ExpressionStatement]:oo,[i.SyntaxKind.ExternalModuleReference]:Lo,[i.SyntaxKind.QualifiedName]:Tu,[i.SyntaxKind.ForInStatement]:lo,[i.SyntaxKind.ForOfStatement]:uo,[i.SyntaxKind.ForStatement]:po,[i.SyntaxKind.FunctionDeclaration]:Pa,[i.SyntaxKind.FunctionExpression]:Ea,[i.SyntaxKind.FunctionType]:Vl,[i.SyntaxKind.GetAccessor]:cl,[i.SyntaxKind.HeritageClause]:ed,[i.SyntaxKind.Identifier]:xu,[i.SyntaxKind.IfStatement]:mo,[i.SyntaxKind.ImportClause]:Mo,[i.SyntaxKind.ImportDeclaration]:zo,[i.SyntaxKind.ImportEqualsDeclaration]:Uo,[i.SyntaxKind.ImportSpecifier]:Jo,[i.SyntaxKind.ImportType]:Ql,[i.SyntaxKind.IndexedAccessType]:Gl,[i.SyntaxKind.IndexSignature]:ld,[i.SyntaxKind.InferType]:ql,[i.SyntaxKind.InterfaceDeclaration]:dd,[i.SyntaxKind.IntersectionType]:Hl,[i.SyntaxKind.JSDocAugmentsTag]:Pl,[i.SyntaxKind.JSDocAuthorTag]:vl,[i.SyntaxKind.JSDocCallbackTag]:El,[i.SyntaxKind.JSDocClassTag]:Dl,[i.SyntaxKind.JSDocDeprecatedTag]:Ol,[i.SyntaxKind.JSDocEnumTag]:Al,[i.SyntaxKind.JSDocFunctionType]:Sc,[i.SyntaxKind.JSDocImplementsTag]:Tc,[i.SyntaxKind.JSDocLink]:Nc,[i.SyntaxKind.JSDocLinkCode]:bc,[i.SyntaxKind.JSDocLinkPlain]:Kc,[i.SyntaxKind.JSDocMemberName]:wc,[i.SyntaxKind.JSDocOverrideTag]:Fc,[i.SyntaxKind.JSDocParameterTag]:_c,[i.SyntaxKind.JSDocPrivateTag]:Ic,[i.SyntaxKind.JSDocPropertyTag]:vc,[i.SyntaxKind.JSDocProtectedTag]:Ec,[i.SyntaxKind.JSDocPublicTag]:Dc,[i.SyntaxKind.JSDocReturnTag]:Lc,[i.SyntaxKind.JSDocReadonlyTag]:Oc,[i.SyntaxKind.JSDocSeeTag]:Mc,[i.SyntaxKind.JSDocSignature]:Wc,[i.SyntaxKind.JSDocTag]:Gc,[i.SyntaxKind.JSDocTemplateTag]:jc,[i.SyntaxKind.JSDocText]:Uc,[i.SyntaxKind.JSDocThisTag]:Jc,[i.SyntaxKind.JSDocTypeExpression]:$c,[i.SyntaxKind.JSDocTypeTag]:Qc,[i.SyntaxKind.JSDocTypedefTag]:Vc,[i.SyntaxKind.JsxAttribute]:fd,[i.SyntaxKind.JsxClosingElement]:Td,[i.SyntaxKind.JsxClosingFragment]:Nd,[i.SyntaxKind.JsxElement]:Kd,[i.SyntaxKind.JsxExpression]:Cd,[i.SyntaxKind.JsxFragment]:_d,[i.SyntaxKind.JsxOpeningElement]:Pd,[i.SyntaxKind.JsxOpeningFragment]:vd,[i.SyntaxKind.JsxSelfClosingElement]:Dd,[i.SyntaxKind.JsxSpreadAttribute]:Ad,[i.SyntaxKind.JsxText]:kd,[i.SyntaxKind.LabeledStatement]:xo,[i.SyntaxKind.LiteralType]:Xl,[i.SyntaxKind.MappedType]:Zl,[i.SyntaxKind.MetaProperty]:Vn,[i.SyntaxKind.MethodDeclaration]:Wa,[i.SyntaxKind.MethodSignature]:hd,[i.SyntaxKind.ModuleBlock]:$o,[i.SyntaxKind.ModuleDeclaration]:Ho,[i.SyntaxKind.NamedExports]:Yo,[i.SyntaxKind.NamedImports]:ta,[i.SyntaxKind.NamedTupleMember]:ec,[i.SyntaxKind.NamespaceExport]:ia,[i.SyntaxKind.NamespaceImport]:sa,[i.SyntaxKind.NewExpression]:Qn,[i.SyntaxKind.NonNullExpression]:qn,[i.SyntaxKind.NotEmittedStatement]:So,[i.SyntaxKind.NoSubstitutionTemplateLiteral]:tu,[i.SyntaxKind.NumericLiteral]:Gd,[i.SyntaxKind.ObjectBindingPattern]:on,[i.SyntaxKind.ObjectLiteralExpression]:es,[i.SyntaxKind.OmittedExpression]:ls,[i.SyntaxKind.Parameter]:Oa,[i.SyntaxKind.ParenthesizedExpression]:ds,[i.SyntaxKind.ParenthesizedType]:tc,[i.SyntaxKind.PartiallyEmittedExpression]:hs,[i.SyntaxKind.PostfixUnaryExpression]:gs,[i.SyntaxKind.PrefixUnaryExpression]:ys,[i.SyntaxKind.PrivateIdentifier]:Su,[i.SyntaxKind.PropertyAccessExpression]:fs,[i.SyntaxKind.PropertyAssignment]:rs,[i.SyntaxKind.PropertyDeclaration]:ul,[i.SyntaxKind.PropertySignature]:gd,[i.SyntaxKind.RegularExpressionLiteral]:Xd,[i.SyntaxKind.ReturnStatement]:No,[i.SyntaxKind.SetAccessor]:pl,[i.SyntaxKind.ShorthandPropertyAssignment]:ns,[i.SyntaxKind.SpreadAssignment]:os,[i.SyntaxKind.SpreadElement]:Ts,[i.SyntaxKind.StringLiteral]:Yd,[i.SyntaxKind.SwitchStatement]:Ko,[i.SyntaxKind.SyntaxList]:Mt,[i.SyntaxKind.TaggedTemplateExpression]:ru,[i.SyntaxKind.TemplateExpression]:nu,[i.SyntaxKind.TemplateHead]:ou,[i.SyntaxKind.TemplateLiteralType]:rc,[i.SyntaxKind.TemplateMiddle]:lu,[i.SyntaxKind.TemplateSpan]:du,[i.SyntaxKind.TemplateTail]:hu,[i.SyntaxKind.ThisType]:ic,[i.SyntaxKind.ThrowStatement]:Fo,[i.SyntaxKind.TryStatement]:_o,[i.SyntaxKind.TupleType]:nc,[i.SyntaxKind.TypeAliasDeclaration]:oc,[i.SyntaxKind.TypeAssertionExpression]:Is,[i.SyntaxKind.TypeLiteral]:lc,[i.SyntaxKind.TypeOperator]:cc,[i.SyntaxKind.TypeParameter]:uc,[i.SyntaxKind.TypePredicate]:pc,[i.SyntaxKind.TypeQuery]:gc,[i.SyntaxKind.TypeReference]:mc,[i.SyntaxKind.UnionType]:yc,[i.SyntaxKind.VariableDeclaration]:bu,[i.SyntaxKind.VariableDeclarationList]:wu,[i.SyntaxKind.VariableStatement]:ma,[i.SyntaxKind.JSDocComment]:Nl,[i.SyntaxKind.TypeOfExpression]:vs,[i.SyntaxKind.WhileStatement]:xa,[i.SyntaxKind.WithStatement]:Sa,[i.SyntaxKind.YieldExpression]:As,[i.SyntaxKind.SemicolonToken]:Pt,[i.SyntaxKind.AnyKeyword]:ln,[i.SyntaxKind.BooleanKeyword]:ln,[i.SyntaxKind.FalseKeyword]:Ud,[i.SyntaxKind.ImportKeyword]:jn,[i.SyntaxKind.InferKeyword]:Pt,[i.SyntaxKind.NeverKeyword]:Pt,[i.SyntaxKind.NullKeyword]:$d,[i.SyntaxKind.NumberKeyword]:ln,[i.SyntaxKind.ObjectKeyword]:ln,[i.SyntaxKind.StringKeyword]:ln,[i.SyntaxKind.SymbolKeyword]:ln,[i.SyntaxKind.SuperKeyword]:Ks,[i.SyntaxKind.ThisKeyword]:Cs,[i.SyntaxKind.TrueKeyword]:Bd,[i.SyntaxKind.UndefinedKeyword]:ln,[i.SyntaxKind.VoidExpression]:Ds};class lh{constructor(e){this.context=e,this.sourceFileCacheByFilePath=new Map,this.diagnosticCache=new i.WeakCache,this.definitionInfoCache=new i.WeakCache,this.documentSpanCache=new i.WeakCache,this.diagnosticMessageChainCache=new i.WeakCache,this.jsDocTagInfoCache=new i.WeakCache,this.signatureCache=new i.WeakCache,this.symbolCache=new i.WeakCache,this.symbolDisplayPartCache=new i.WeakCache,this.referenceEntryCache=new i.WeakCache,this.referencedSymbolCache=new i.WeakCache,this.referencedSymbolDefinitionInfoCache=new i.WeakCache,this.typeCache=new i.WeakCache,this.typeParameterCache=new i.WeakCache,this.nodeCache=new oh,this.sourceFileAddedEventContainer=new i.EventContainer,this.sourceFileRemovedEventContainer=new i.EventContainer,this.documentRegistry=new i.DocumentRegistry(e.fileSystemWrapper),this.directoryCache=new sh(e),this.context.compilerOptions.onModified((()=>{const e=Array.from(this.sourceFileCacheByFilePath.values());for(const t of e)Tt(t)}))}*getSourceFilesByDirectoryDepth(){for(const e of this.getDirectoriesByDepth())yield*e.getSourceFiles()}getSourceFilePaths(){return this.sourceFileCacheByFilePath.keys()}getChildDirectoriesOfDirectory(e){return this.directoryCache.getChildDirectoriesOfDirectory(e)}getChildSourceFilesOfDirectory(e){return this.directoryCache.getChildSourceFilesOfDirectory(e)}onSourceFileAdded(e,t=!0){t?this.sourceFileAddedEventContainer.subscribe(e):this.sourceFileAddedEventContainer.unsubscribe(e)}onSourceFileRemoved(e){this.sourceFileRemovedEventContainer.subscribe(e)}createSourceFile(e,t,r){if("string"===typeof(t=t instanceof Function?_(this.context.createWriter(),t):t||""))return this.createSourceFileFromText(e,t,r);const n=this.context.createWriter();return this.context.structurePrinterFactory.forSourceFile({isAmbient:".d.ts"===i.FileUtils.getExtension(e)}).printText(n,t),this.createSourceFileFromText(e,n.toString(),r)}createSourceFileFromText(e,t,r){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),!0===r.overwrite?this.createOrOverwriteSourceFileFromText(e,t,r):(this.throwIfFileExists(e,"Did you mean to provide the overwrite option?"),this.createSourceFileFromTextInternal(e,t,r))}throwIfFileExists(e,t){if(this.containsSourceFileAtPath(e)||this.context.fileSystemWrapper.fileExistsSync(e))throw t=null==t?"":t+" ",new i.errors.InvalidOperationError(`${t}A source file already exists at the provided file path: ${e}`)}createOrOverwriteSourceFileFromText(e,t,r){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);const i=this.addOrGetSourceFileFromFilePath(e,r);return null!=i?(i.getChildren().forEach((e=>e.forget())),this.replaceCompilerNode(i,this.createCompilerSourceFileFromText(e,t,r.scriptKind)),i):this.createSourceFileFromTextInternal(e,t,r)}getSourceFileFromCacheFromFilePath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.sourceFileCacheByFilePath.get(e)}addOrGetSourceFileFromFilePath(e,t){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.sourceFileCacheByFilePath.get(e);if(null==r){let n;try{n=this.context.fileSystemWrapper.readFileSync(e,this.context.getEncoding())}catch(i){}null!=n&&(this.context.logger.log(`Loaded file: ${e}`),r=this.createSourceFileFromTextInternal(e,n,t),r._setIsSaved(!0))}return null!=r&&t.markInProject&&r._markAsInProject(),r}containsSourceFileAtPath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.sourceFileCacheByFilePath.has(e)}containsDirectoryAtPath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.directoryCache.has(e)}getSourceFileForNode(e){let t=e;for(;t.kind!==i.SyntaxKind.SourceFile;){if(null==t.parent)return;t=t.parent}return this.getSourceFile(t,{markInProject:!1})}hasCompilerNode(e){return this.nodeCache.has(e)}getExistingNodeFromCompilerNode(e){return this.nodeCache.get(e)}getNodeFromCompilerNode(e,t){return e.kind===i.SyntaxKind.SourceFile?this.getSourceFile(e,{markInProject:!1}):this.nodeCache.getOrCreate(e,(()=>{const e=r.call(this);return n.call(this,e),e}));function r(){if(null!=e._commentKind)return Se.isCommentStatement(e)?new Gs(this.context,e,t):Se.isCommentClassElement(e)?new nl(this.context,e,t):Se.isCommentTypeElement(e)?new nd(this.context,e,t):Se.isCommentObjectLiteralElement(e)?new Xn(this.context,e,t):Se.isCommentEnumMember(e)?new qc(this.context,e,t):i.errors.throwNotImplementedForNeverValueError(e);return new(ah[e.kind]||Pt)(this.context,e,t)}function n(r){if(null!=e.parent){this.getNodeFromCompilerNode(e.parent,t)._wrappedChildCount++}const n=r._getParentSyntaxListIfWrapped();if(null!=n&&n._wrappedChildCount++,e.kind===i.SyntaxKind.SyntaxList){let e=0;for(const t of r._getChildrenInCacheIterator())e++;r._wrappedChildCount=e}}}createSourceFileFromTextInternal(e,t,r){const n=i.StringUtils.hasBom(t);n&&(t=i.StringUtils.stripBom(t));const s=this.getSourceFile(this.createCompilerSourceFileFromText(e,t,r.scriptKind),r);return n&&(s._hasBom=!0),s}createCompilerSourceFileFromText(e,t,r){return this.documentRegistry.createOrUpdateSourceFile(e,this.context.compilerOptions.get(),i.ts.ScriptSnapshot.fromString(t),r)}getSourceFile(e,t){var r;let i=!1;const n=null!==(r=this.sourceFileCacheByFilePath.get(e.fileName))&&void 0!==r?r:this.nodeCache.getOrCreate(e,(()=>{const r=new ua(this.context,e);return t.markInProject||this.context.inProjectCoordinator.setSourceFileNotInProject(r),this.addSourceFileToCache(r),i=!0,r}));return t.markInProject&&(n._markAsInProject(),i&&this.sourceFileAddedEventContainer.fire(n)),n}addSourceFileToCache(e){this.sourceFileCacheByFilePath.set(e.getFilePath(),e),this.context.fileSystemWrapper.removeFileDelete(e.getFilePath()),this.directoryCache.addSourceFile(e)}getDirectoryFromPath(e,t){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.directoryCache.get(e);return null==r&&this.context.fileSystemWrapper.directoryExistsSync(e)&&(r=this.directoryCache.createOrAddIfExists(e)),null!=r&&t.markInProject&&r._markAsInProject(),r}createDirectoryOrAddIfExists(e,t){const r=this.directoryCache.createOrAddIfExists(e);return null!=r&&t.markInProject&&r._markAsInProject(),r}getDirectoryFromCache(e){return this.directoryCache.get(e)}getDirectoryFromCacheOnlyIfInCache(e){return this.directoryCache.has(e)?this.directoryCache.get(e):void 0}getDirectoriesByDepth(){return this.directoryCache.getAllByDepth()}getOrphanDirectories(){return this.directoryCache.getOrphans()}getSymbolDisplayPart(e){return this.symbolDisplayPartCache.getOrCreate(e,(()=>new Gu(e)))}getType(e){return(e.flags&i.TypeFlags.TypeParameter)===i.TypeFlags.TypeParameter?this.getTypeParameter(e):this.typeCache.getOrCreate(e,(()=>new Zu(this.context,e)))}getTypeParameter(e){return this.typeParameterCache.getOrCreate(e,(()=>new Yu(this.context,e)))}getSignature(e){return this.signatureCache.getOrCreate(e,(()=>new Fu(this.context,e)))}getSymbol(e){return this.symbolCache.getOrCreate(e,(()=>new Cu(this.context,e)))}getDefinitionInfo(e){return this.definitionInfoCache.getOrCreate(e,(()=>new Au(this.context,e)))}getDocumentSpan(e){return this.documentSpanCache.getOrCreate(e,(()=>new Ou(this.context,e)))}getReferenceEntry(e){return this.referenceEntryCache.getOrCreate(e,(()=>new $u(this.context,e)))}getReferencedSymbol(e){return this.referencedSymbolCache.getOrCreate(e,(()=>new Ju(this.context,e)))}getReferencedSymbolDefinitionInfo(e){return this.referencedSymbolDefinitionInfoCache.getOrCreate(e,(()=>new Vu(this.context,e)))}getDiagnostic(e){return this.diagnosticCache.getOrCreate(e,(()=>null!=e.start?new Mu(this.context,e):new ku(this.context,e)))}getDiagnosticWithLocation(e){return this.diagnosticCache.getOrCreate(e,(()=>new Mu(this.context,e)))}getDiagnosticMessageChain(e){return this.diagnosticMessageChainCache.getOrCreate(e,(()=>new Lu(e)))}getJSDocTagInfo(e){return this.jsDocTagInfoCache.getOrCreate(e,(()=>new zc(e)))}replaceCompilerNode(e,t){const r=e instanceof Pt?e.compilerNode:e,n=e instanceof Pt?e:this.nodeCache.get(e);if(r.kind===i.SyntaxKind.SourceFile&&r.fileName!==t.fileName){const e=n;this.removeCompilerNodeFromCache(r),e._replaceCompilerNodeFromFactory(t),this.nodeCache.set(t,e),this.addSourceFileToCache(e),this.sourceFileAddedEventContainer.fire(e)}else this.nodeCache.replaceKey(r,t),null!=n&&n._replaceCompilerNodeFromFactory(t)}removeNodeFromCache(e){this.removeCompilerNodeFromCache(e.compilerNode)}removeCompilerNodeFromCache(e){if(this.nodeCache.removeByKey(e),e.kind===i.SyntaxKind.SourceFile){const t=e,r=this.context.fileSystemWrapper.getStandardizedAbsolutePath(t.fileName);this.directoryCache.removeSourceFile(r);const i=this.sourceFileCacheByFilePath.get(r);this.sourceFileCacheByFilePath.delete(r),this.documentRegistry.removeSourceFile(r),null!=i&&this.sourceFileRemovedEventContainer.fire(i)}}addDirectoryToCache(e){this.directoryCache.addDirectory(e)}removeDirectoryFromCache(e){this.directoryCache.remove(e)}forgetNodesCreatedInBlock(e){this.nodeCache.setForgetPoint();let t,r=!1;try{if(t=e(((...e)=>{for(const t of e)this.nodeCache.rememberNode(t)})),Pt.isNode(t)&&this.nodeCache.rememberNode(t),null!=(i=t)&&"function"===typeof i.then)return r=!0,t.then((e=>(Pt.isNode(e)&&this.nodeCache.rememberNode(e),this.nodeCache.forgetLastPoint(),e)))}finally{r||this.nodeCache.forgetLastPoint()}var i;return t}}class ch{constructor(e){this.compilerFactory=e,this.notInProjectFiles=new Set,e.onSourceFileRemoved((e=>{this.notInProjectFiles.delete(e)}))}setSourceFileNotInProject(e){this.notInProjectFiles.add(e),e._inProject=!1}markSourceFileAsInProject(e){this.isSourceFileInProject(e)||(this._internalMarkSourceFileAsInProject(e),this.notInProjectFiles.delete(e))}markSourceFilesAsInProjectForResolution(){const e="/node_modules/",t=this.compilerFactory,r=[],n=[];for(const i of[...this.notInProjectFiles.values()])s(i)?(this._internalMarkSourceFileAsInProject(i),this.notInProjectFiles.delete(i),r.push(i)):n.push(i);return{changedSourceFiles:r,unchangedSourceFiles:n};function s(r){const n=r.getFilePath(),s=n.toLowerCase().lastIndexOf(e);if(-1===s)return!0;const o=n.substring(0,s+e.length-1),a=t.getDirectoryFromCacheOnlyIfInCache(o);if(null!=a&&a._isInProject())return!0;let l=r.getDirectory();for(;null!=l&&l.getPath()!==o;){if(l._isInProject())return!0;l=t.getDirectoryFromCacheOnlyIfInCache(i.FileUtils.getDirPath(l.getPath()))}return!1}}_internalMarkSourceFileAsInProject(e){e._inProject=!0,this.markDirectoryAsInProject(e.getDirectory())}isSourceFileInProject(e){return!0===e._inProject}setDirectoryAndFilesAsNotInProjectForTesting(e){for(const t of e.getDirectories())this.setDirectoryAndFilesAsNotInProjectForTesting(t);for(const t of e.getSourceFiles())delete t._inProject,this.notInProjectFiles.add(t);delete e._inProject}markDirectoryAsInProject(e){if(this.isDirectoryInProject(e))return;const t=this,r=this.compilerFactory;function*n(e){if(i.FileUtils.isRootDirPath(e.getPath()))return;const s=i.FileUtils.getDirPath(e.getPath()),o=r.getDirectoryFromCacheOnlyIfInCache(s);null!=o&&(yield o,t.isDirectoryInProject(o)||(yield*n(o)))}e._inProject=!0,function(e){const r=Array.from(n(e)),i=r[r.length-1];if(null==i||!t.isDirectoryInProject(i))return;for(const t of r)t._inProject=!0}(e)}isDirectoryInProject(e){return!0===e._inProject}}class dh{constructor(e){this._getFormatCodeSettings=e}getFormatCodeSettings(){return this._getFormatCodeSettings()}forInitializerExpressionableNode(){return new Xt}forModifierableNode(){return new Zt}forReturnTypedNode(e){return new Yt(e)}forTypedNode(e,t){return new er(e,t)}forClassDeclaration(e){return new lr(this,e)}forClassMember(e){return new br(this,e)}forClassStaticBlockDeclaration(){return new Kr(this)}forConstructorDeclaration(e){return new wr(this,e)}forGetAccessorDeclaration(e){return new Fr(this,e)}forMethodDeclaration(e){return new Cr(this,e)}forPropertyDeclaration(){return new _r(this)}forSetAccessorDeclaration(e){return new Ir(this,e)}forDecorator(){return new vr(this)}forJSDoc(){return new Er(this)}forJSDocTag(e){return new Dr(this,e)}forEnumDeclaration(){return new Or(this)}forEnumMember(){return new Ar(this)}forObjectLiteralExpressionProperty(){return new Lr(this)}forPropertyAssignment(){return new kr(this)}forShorthandPropertyAssignment(){return new Mr(this)}forSpreadAssignment(){return new Wr(this)}forFunctionDeclaration(e){return new zr(this,e)}forParameterDeclaration(){return new Br(this)}forCallSignatureDeclaration(){return new jr(this)}forConstructSignatureDeclaration(){return new Ur(this)}forIndexSignatureDeclaration(){return new Rr(this)}forInterfaceDeclaration(){return new Jr(this)}forMethodSignature(){return new Vr(this)}forPropertySignature(){return new $r(this)}forTypeElementMemberedNode(){return new Qr(this)}forTypeElementMember(){return new Gr(this)}forJsxAttributeDecider(){return new qr(this)}forJsxAttribute(){return new Hr(this)}forJsxChildDecider(){return new Xr(this)}forJsxElement(){return new Zr(this)}forJsxSelfClosingElement(){return new Yr(this)}forJsxSpreadAttribute(){return new ei(this)}forExportAssignment(){return new ti(this)}forExportDeclaration(){return new ri(this)}forImportDeclaration(){return new ii(this)}forModuleDeclaration(e){return new ni(this,e)}forNamedImportExportSpecifier(){return new si(this)}forSourceFile(e){return new oi(this,e)}forStatementedNode(e){return new ai(this,e)}forStatement(e){return new li(this,e)}forVariableStatement(){return new di(this)}forTypeAliasDeclaration(){return new ui(this)}forTypeParameterDeclaration(){return new hi(this)}forVariableDeclaration(){return new pi(this)}}la([i.Memoize],dh.prototype,"forInitializerExpressionableNode",null),la([i.Memoize],dh.prototype,"forModifierableNode",null),la([i.Memoize],dh.prototype,"forReturnTypedNode",null),la([i.Memoize],dh.prototype,"forTypedNode",null),la([i.Memoize],dh.prototype,"forClassDeclaration",null),la([i.Memoize],dh.prototype,"forClassMember",null),la([i.Memoize],dh.prototype,"forClassStaticBlockDeclaration",null),la([i.Memoize],dh.prototype,"forConstructorDeclaration",null),la([i.Memoize],dh.prototype,"forGetAccessorDeclaration",null),la([i.Memoize],dh.prototype,"forMethodDeclaration",null),la([i.Memoize],dh.prototype,"forPropertyDeclaration",null),la([i.Memoize],dh.prototype,"forSetAccessorDeclaration",null),la([i.Memoize],dh.prototype,"forDecorator",null),la([i.Memoize],dh.prototype,"forJSDoc",null),la([i.Memoize],dh.prototype,"forJSDocTag",null),la([i.Memoize],dh.prototype,"forEnumDeclaration",null),la([i.Memoize],dh.prototype,"forEnumMember",null),la([i.Memoize],dh.prototype,"forObjectLiteralExpressionProperty",null),la([i.Memoize],dh.prototype,"forPropertyAssignment",null),la([i.Memoize],dh.prototype,"forShorthandPropertyAssignment",null),la([i.Memoize],dh.prototype,"forSpreadAssignment",null),la([i.Memoize],dh.prototype,"forFunctionDeclaration",null),la([i.Memoize],dh.prototype,"forParameterDeclaration",null),la([i.Memoize],dh.prototype,"forCallSignatureDeclaration",null),la([i.Memoize],dh.prototype,"forConstructSignatureDeclaration",null),la([i.Memoize],dh.prototype,"forIndexSignatureDeclaration",null),la([i.Memoize],dh.prototype,"forInterfaceDeclaration",null),la([i.Memoize],dh.prototype,"forMethodSignature",null),la([i.Memoize],dh.prototype,"forPropertySignature",null),la([i.Memoize],dh.prototype,"forTypeElementMemberedNode",null),la([i.Memoize],dh.prototype,"forTypeElementMember",null),la([i.Memoize],dh.prototype,"forJsxAttributeDecider",null),la([i.Memoize],dh.prototype,"forJsxAttribute",null),la([i.Memoize],dh.prototype,"forJsxChildDecider",null),la([i.Memoize],dh.prototype,"forJsxElement",null),la([i.Memoize],dh.prototype,"forJsxSelfClosingElement",null),la([i.Memoize],dh.prototype,"forJsxSpreadAttribute",null),la([i.Memoize],dh.prototype,"forExportAssignment",null),la([i.Memoize],dh.prototype,"forExportDeclaration",null),la([i.Memoize],dh.prototype,"forImportDeclaration",null),la([i.Memoize],dh.prototype,"forModuleDeclaration",null),la([i.Memoize],dh.prototype,"forNamedImportExportSpecifier",null),la([i.Memoize],dh.prototype,"forSourceFile",null),la([i.Memoize],dh.prototype,"forStatementedNode",null),la([i.Memoize],dh.prototype,"forStatement",null),la([i.Memoize],dh.prototype,"forVariableStatement",null),la([i.Memoize],dh.prototype,"forTypeAliasDeclaration",null),la([i.Memoize],dh.prototype,"forTypeParameterDeclaration",null),la([i.Memoize],dh.prototype,"forVariableDeclaration",null);class uh{constructor(e){this.logger=new P,this.manipulationSettings=new w,this._project=e.project,this.fileSystemWrapper=e.fileSystemWrapper,this._compilerOptions=e.compilerOptionsContainer,this.compilerFactory=new lh(this),this.inProjectCoordinator=new ch(this.compilerFactory),this.structurePrinterFactory=new dh((()=>this.manipulationSettings.getFormatCodeSettings())),this.lazyReferenceCoordinator=new E(this.compilerFactory),this.directoryCoordinator=new nh(this.compilerFactory,e.fileSystemWrapper),this._languageService=e.createLanguageService?new Xu({context:this,configFileParsingDiagnostics:e.configFileParsingDiagnostics,resolutionHost:e.resolutionHost&&e.resolutionHost(this.getModuleResolutionHost(),(()=>this.compilerOptions.get())),skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}):void 0,null!=e.typeChecker&&(i.errors.throwIfTrue(e.createLanguageService,"Cannot specify a type checker and create a language service."),this._customTypeChecker=new qu(this),this._customTypeChecker._reset((()=>e.typeChecker)))}get project(){if(null==this._project)throw new i.errors.InvalidOperationError("This operation is not permitted in this context.");return this._project}get compilerOptions(){return this._compilerOptions}get languageService(){if(null==this._languageService)throw this.getToolRequiredError("language service");return this._languageService}get program(){if(null==this._languageService)throw this.getToolRequiredError("program");return this.languageService.getProgram()}get typeChecker(){if(null!=this._customTypeChecker)return this._customTypeChecker;if(null==this._languageService)throw this.getToolRequiredError("type checker");return this.program.getTypeChecker()}hasLanguageService(){return null!=this._languageService}getEncoding(){return this.compilerOptions.getEncoding()}getFormatCodeSettings(){return this.manipulationSettings.getFormatCodeSettings()}getUserPreferences(){return this.manipulationSettings.getUserPreferences()}resetProgram(){this.languageService._reset()}createWriter(){const e=this.manipulationSettings.getIndentationText();return new s.default({newLine:this.manipulationSettings.getNewLineKindAsString(),indentNumberOfSpaces:e===t.xI4.Tab?void 0:e.length,useTabs:e===t.xI4.Tab,useSingleQuote:this.manipulationSettings.getQuoteKind()===t.ZiB.Single})}getPreEmitDiagnostics(e){return i.ts.getPreEmitDiagnostics(this.program.compilerObject,null===e||void 0===e?void 0:e.compilerNode).map((e=>this.compilerFactory.getDiagnostic(e)))}getSourceFileContainer(){return{addOrGetSourceFileFromFilePath:(e,t)=>{var r;return Promise.resolve(null===(r=this.compilerFactory.addOrGetSourceFileFromFilePath(e,t))||void 0===r?void 0:r.compilerNode)},addOrGetSourceFileFromFilePathSync:(e,t)=>{var r;return null===(r=this.compilerFactory.addOrGetSourceFileFromFilePath(e,t))||void 0===r?void 0:r.compilerNode},addLibFileToCacheByText:(e,t,r)=>this.compilerFactory.documentRegistry.createOrUpdateSourceFile(e,this.compilerOptions.get(),i.ts.ScriptSnapshot.fromString(t),r),containsDirectoryAtPath:e=>this.compilerFactory.containsDirectoryAtPath(e),containsSourceFileAtPath:e=>this.compilerFactory.containsSourceFileAtPath(e),getSourceFileFromCacheFromFilePath:e=>{const t=this.compilerFactory.getSourceFileFromCacheFromFilePath(e);return null===t||void 0===t?void 0:t.compilerNode},getSourceFilePaths:()=>this.compilerFactory.getSourceFilePaths(),getSourceFileVersion:e=>this.compilerFactory.documentRegistry.getSourceFileVersion(e),getChildDirectoriesOfDirectory:e=>{const t=[];for(const r of this.compilerFactory.getChildDirectoriesOfDirectory(e))t.push(r.getPath());return t}}}getModuleResolutionHost(){return i.createModuleResolutionHost({transactionalFileSystem:this.fileSystemWrapper,getEncoding:()=>this.getEncoding(),sourceFileContainer:this.getSourceFileContainer()})}getToolRequiredError(e){return new i.errors.InvalidOperationError(`A ${e} is required for this operation. This might occur when manipulating or getting type information from a node that was not added to a Project object and created via createWrappedNode. Please submit a bug report if you don't believe a ${e} should be required for this operation.`)}}la([i.Memoize],uh.prototype,"getSourceFileContainer",null),la([i.Memoize],uh.prototype,"getModuleResolutionHost",null);function hh(e){return t(e[0])&&t(e[e.length-1])&&(e=e.substring(1,e.length-1)),`"${e}"`;function t(e){return'"'===e||"'"===e}}const ph=new dh((()=>{throw new i.errors.NotImplementedError("Not implemented scenario for getting code format settings when using a writer function. Please open an issue.")}));class gh{constructor(){}static object(e){return t=>{const r=Object.keys(e);t.write("{"),r.length>0&&t.indent((()=>{!function(){for(let i=0;i<r.length;i++){i>0&&t.write(",").newLine();const n=r[i],s=e[n];t.write(n),null!=s&&(t.write(": "),yh(t,s))}t.newLine()}()})),t.write("}")}}static objectType(e){return t=>{t.write("{"),function(e){for(const t of Object.keys(e))if(null!=e[t]&&!(e[t]instanceof Array&&0===e[t].length))return!0;return!1}(e)&&t.indent((()=>{ph.forTypeElementMemberedNode().printText(t,e)})),t.write("}")}}static unionType(e,t,...r){return mh("|",[e,t,...r])}static intersectionType(e,t,...r){return mh("&",[e,t,...r])}static assertion(e,t){return r=>{yh(r,e),r.spaceIfLastNot().write("as "),yh(r,t)}}static returnStatement(e){return t=>{t.write("return "),t.hangingIndentUnlessBlock((()=>{yh(t,e),t.write(";")}))}}}function mh(e,t){return r=>{!function(e,t,r){for(let i=0;i<r.length;i++)e.conditionalWrite(i>0,t),yh(e,r[i])}(r,` ${e} `,t)}}function yh(e,t){t instanceof Function?t(e):e.write(t.toString())}const{InvalidOperationError:xh,FileNotFoundError:fh,ArgumentError:Sh,ArgumentNullOrWhitespaceError:Th,ArgumentOutOfRangeError:Nh,ArgumentTypeError:bh,BaseError:Kh,DirectoryNotFoundError:wh,NotImplementedError:Fh,NotSupportedError:Ch,PathNotFoundError:_h}=i.errors,Ih=gh,Ph=Pt;t.NBX=Pt,t.IKL=class{constructor(e={}){var t;!function(){if(null!=e.fileSystem&&e.useInMemoryFileSystem)throw new i.errors.InvalidOperationError("Cannot provide a file system when specifying to use an in-memory file system.")}();const r=function(){var t;return e.useInMemoryFileSystem?new i.InMemoryFileSystemHost:null!==(t=e.fileSystem)&&void 0!==t?t:new i.RealFileSystemHost}(),n=new i.TransactionalFileSystem(r),s=null==e.tsConfigFilePath?void 0:new i.TsConfigResolver(n,n.getStandardizedAbsolutePath(e.tsConfigFilePath),function(){var t;const r="utf-8";return null!=e.compilerOptions&&null!==(t=e.compilerOptions.charset)&&void 0!==t?t:r}()),o=function(){var t;return Object.assign(Object.assign({},function(){var e;return null!==(e=null===s||void 0===s?void 0:s.getCompilerOptions())&&void 0!==e?e:{}}()),null!==(t=e.compilerOptions)&&void 0!==t?t:{})}(),a=new i.CompilerOptionsContainer;a.set(o),this._context=new uh({project:this,compilerOptionsContainer:a,fileSystemWrapper:n,createLanguageService:!0,resolutionHost:e.resolutionHost,configFileParsingDiagnostics:null!==(t=null===s||void 0===s?void 0:s.getErrors())&&void 0!==t?t:[],skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}),null!=e.manipulationSettings&&this._context.manipulationSettings.set(e.manipulationSettings),null!=s&&!0!==e.skipAddingFilesFromTsConfig&&(this._addSourceFilesForTsConfigResolver(s,o),e.skipFileDependencyResolution||this.resolveSourceFileDependencies())}get manipulationSettings(){return this._context.manipulationSettings}get compilerOptions(){return this._context.compilerOptions}resolveSourceFileDependencies(){const e=new Set,t=t=>e.add(t),{compilerFactory:r,inProjectCoordinator:i}=this._context;r.onSourceFileAdded(t);try{this.getProgram().compilerObject}finally{r.onSourceFileAdded(t,!1)}const n=i.markSourceFilesAsInProjectForResolution();for(const s of n.changedSourceFiles)e.add(s);for(const s of n.unchangedSourceFiles)e.delete(s);return Array.from(e.values())}addDirectoryAtPathIfExists(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),Object.assign(Object.assign({},t),{markInProject:!0}))}addDirectoryAtPath(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),Object.assign(Object.assign({},t),{markInProject:!0}))}createDirectory(e){return this._context.directoryCoordinator.createDirectoryOrAddIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}getDirectoryOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getDirectory(e),(()=>`Could not find a directory at the specified path: ${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e)}`))}getDirectory(e){const{compilerFactory:t}=this._context;return t.getDirectoryFromCache(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e))}getDirectories(){return Array.from(this._getProjectDirectoriesByDirectoryDepth())}getRootDirectories(){const{inProjectCoordinator:e}=this._context,t=[];for(const i of this._context.compilerFactory.getOrphanDirectories())for(const e of r(i))t.push(e);return t;function*r(t){if(e.isDirectoryInProject(t))yield t;else for(const e of t._getDirectoriesIterator())yield*r(e)}}addSourceFilesAtPaths(e){return this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:!0})}addSourceFileAtPathIfExists(e){return this._context.directoryCoordinator.addSourceFileAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFileAtPath(e){return this._context.directoryCoordinator.addSourceFileAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFilesFromTsConfig(e){const t=new i.TsConfigResolver(this._context.fileSystemWrapper,this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.getEncoding());return this._addSourceFilesForTsConfigResolver(t,t.getCompilerOptions())}_addSourceFilesForTsConfigResolver(e,t){const r=e.getPaths(t),i=r.filePaths.map((e=>this.addSourceFileAtPath(e)));for(const n of r.directoryPaths)this.addDirectoryAtPathIfExists(n);return i}createSourceFile(e,t,r){return this._context.compilerFactory.createSourceFile(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),null!==t&&void 0!==t?t:"",Object.assign(Object.assign({},null!==r&&void 0!==r?r:{}),{markInProject:!0}))}removeSourceFile(e){const t=e.wasForgotten();return e.forget(),!t}getSourceFileOrThrow(e){const t=this.getSourceFile(e);if(null!=t)return t;if("string"===typeof e){const t=i.FileUtils.standardizeSlashes(e);if(i.FileUtils.pathIsAbsolute(t)||t.indexOf("/")>=0){const e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(t);throw new i.errors.InvalidOperationError(`Could not find source file in project at the provided path: ${e}`)}throw new i.errors.InvalidOperationError(`Could not find source file in project with the provided file name: ${e}`)}throw new i.errors.InvalidOperationError("Could not find source file in project based on the provided condition.")}getSourceFile(e){const t=function(t){if(e instanceof Function)return e;const r=i.FileUtils.standardizeSlashes(e);return i.FileUtils.pathIsAbsolute(r)||r.indexOf("/")>=0?t.getStandardizedAbsolutePath(r):e=>i.FileUtils.pathEndsWith(e.getFilePath(),r)}(this._context.fileSystemWrapper);return"string"===typeof t?this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t):i.IterableUtils.find(this._getProjectSourceFilesByDirectoryDepth(),t)}getSourceFiles(e){const{compilerFactory:t,fileSystemWrapper:r}=this._context,n=this._getProjectSourceFilesByDirectoryDepth();return"string"===typeof e||e instanceof Array?Array.from(function*(){const s=Array.from(function*(){for(const e of n)yield e.getFilePath()}()),o=i.matchGlobs(s,e,r.getCurrentDirectory());for(const e of o)yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(e))}()):Array.from(n)}*_getProjectSourceFilesByDirectoryDepth(){const{compilerFactory:e,inProjectCoordinator:t}=this._context;for(const r of e.getSourceFilesByDirectoryDepth())t.isSourceFileInProject(r)&&(yield r)}*_getProjectDirectoriesByDirectoryDepth(){const{compilerFactory:e,inProjectCoordinator:t}=this._context;for(const r of e.getDirectoriesByDepth())t.isDirectoryInProject(r)&&(yield r)}getAmbientModule(e){return e=hh(e),this.getAmbientModules().find((t=>t.getName()===e))}getAmbientModuleOrThrow(e){return i.errors.throwIfNullOrUndefined(this.getAmbientModule(e),(()=>`Could not find ambient module with name: ${hh(e)}`))}getAmbientModules(){return this.getTypeChecker().getAmbientModules()}save(){return ca(this,void 0,void 0,(function*(){yield this._context.fileSystemWrapper.flush(),yield Promise.all(this._getUnsavedSourceFiles().map((e=>e.save())))}))}saveSync(){this._context.fileSystemWrapper.flushSync();for(const e of this._getUnsavedSourceFiles())e.saveSync()}enableLogging(e=!0){this._context.logger.setEnabled(e)}_getUnsavedSourceFiles(){return Array.from(function*(e){for(const t of e)t.isSaved()||(yield t)}(this._context.compilerFactory.getSourceFilesByDirectoryDepth()))}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics()}getLanguageService(){return this._context.languageService}getProgram(){return this._context.program}getTypeChecker(){return this._context.typeChecker}getFileSystem(){return this._context.fileSystemWrapper.getFileSystem()}emit(e={}){return this._context.program.emit(e)}emitSync(e={}){return this._context.program.emitSync(e)}emitToMemory(e={}){return this._context.program.emitToMemory(e)}getCompilerOptions(){return this._context.compilerOptions.get()}getConfigFileParsingDiagnostics(){return this.getProgram().getConfigFileParsingDiagnostics()}createWriter(){return this._context.createWriter()}forgetNodesCreatedInBlock(e){return this._context.compilerFactory.forgetNodesCreatedInBlock(e)}formatDiagnosticsWithColorAndContext(e,t={}){return i.ts.formatDiagnosticsWithColorAndContext(e.map((e=>e.compilerObject)),{getCurrentDirectory:()=>this._context.fileSystemWrapper.getCurrentDirectory(),getCanonicalFileName:e=>e,getNewLine:()=>{var e;return null!==(e=t.newLineChar)&&void 0!==e?e:i.runtime.getEndOfLine()}})}getModuleResolutionHost(){return this._context.getModuleResolutionHost()}}}}]);