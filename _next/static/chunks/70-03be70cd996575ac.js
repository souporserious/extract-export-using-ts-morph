(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{1861:function(e,t,r){"use strict";var i=r(4155);Object.defineProperty(t,"__esModule",{value:!0});var n=r(6938),s=r(1171),o=r(683),a=r(3562),c=r(2160),h=r(2800),l=r(3807);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var f=d(n),g=u(s),p=u(o),y=d(a),m=u(c),S=d(h),w=d(l);class v{constructor(){this.cacheItems=new Map}getSize(){return this.cacheItems.size}getValues(){return this.cacheItems.values()}getValuesAsArray(){return Array.from(this.getValues())}getKeys(){return this.cacheItems.keys()}getEntries(){return this.cacheItems.entries()}getOrCreate(e,t){let r=this.get(e);return null==r&&(r=t(),this.set(e,r)),r}has(e){return this.cacheItems.has(e)}get(e){return this.cacheItems.get(e)}set(e,t){this.cacheItems.set(e,t)}replaceKey(e,t){if(!this.cacheItems.has(e))throw new Error("Key not found.");const r=this.cacheItems.get(e);this.cacheItems.delete(e),this.cacheItems.set(t,r)}removeByKey(e){this.cacheItems.delete(e)}clear(){this.cacheItems.clear()}}class C{constructor(e,t){this.comparer=e,this.storedValue=t}compareTo(e){return this.comparer.compareTo(this.storedValue,e)}}class b{compareTo(e,t){const r=e.localeCompare(t,"en-us-u-kf-upper");return r<0?-1:0===r?0:1}}b.instance=new b;class D{constructor(e,t){this.getProperty=e,this.comparer=t}compareTo(e,t){return this.comparer.compareTo(this.getProperty(e),this.getProperty(t))}}class E{constructor(e,t){this.getProperty=e,this.comparer=t}compareTo(e){return this.comparer.compareTo(this.getProperty(e))}}class O{constructor(){}static isReadonlyArray(e){return e instanceof Array}static isNullOrEmpty(e){return!(e instanceof Array)||0===e.length}static getUniqueItems(e){return e.filter(((t,r)=>e.indexOf(t)===r))}static removeFirst(e,t){const r=e.indexOf(t);return-1!==r&&(e.splice(r,1),!0)}static removeAll(e,t){const r=[];for(let i=e.length-1;i>=0;i--)t(e[i])&&(r.push(e[i]),e.splice(i,1));return r}static flatten(e){return e.reduce(((e,t)=>e.concat(t)),[])}static from(e){const t=[];for(const r of e)t.push(r);return t}static*toIterator(e){for(const t of e)yield t}static sortByProperty(e,t){return e.sort(((e,r)=>t(e)<=t(r)?-1:1)),e}static groupBy(e,t){const r=[],i={};for(const n of e){const e=t(n).toString();null==i[e]&&(i[e]=[],r.push(i[e])),i[e].push(n)}return r}static binaryInsertWithOverwrite(e,t,r){let i=e.length-1,n=0;for(;n<=i;){const s=Math.floor((i+n)/2);r.compareTo(t,e[s])<0?i=s-1:n=s+1}null!=e[i]&&0===r.compareTo(t,e[i])?e[i]=t:e.splice(i+1,0,t)}static binarySearch(e,t){let r=e.length-1,i=0;for(;i<=r;){const n=Math.floor((r+i)/2),s=t.compareTo(e[n]);if(0===s)return n;s<0?r=n-1:i=n+1}return-1}static containsSubArray(e,t){let r=0;for(const i of e)if(t[r]===i){if(r++,r===t.length)return!0}else r=0;return!1}}function F(e){return t(e);function t(e){const t=Object.create(e.constructor.prototype);for(const i of Object.keys(e))t[i]=r(e[i]);return t}function r(e){return e instanceof Array?e.map(r):"object"===typeof e?null===e?e:t(e):e}}class _{constructor(){this.subscriptions=[]}subscribe(e){-1===this.getIndex(e)&&this.subscriptions.push(e)}unsubscribe(e){const t=this.getIndex(e);t>=0&&this.subscriptions.splice(t,1)}fire(e){for(const t of this.subscriptions)t(e)}getIndex(e){return this.subscriptions.indexOf(e)}}class I{constructor(){}static clone(e){if(null!=e)return e instanceof Array?e.map((e=>I.clone(e))):I.assign({},e)}static assign(e,t,r){return null!=Object.assign?null==r?Object.assign(e,t):Object.assign(e,t,r):null==r?this.es5Assign(e,t):this.es5Assign(e,t,r)}static es5Assign(e,t,r){const i=Object(e);for(let n=1;n<arguments.length;n++){const e=arguments[n];if(null!=e)for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}return i}}function x(e,t,r,i,n,s,o,a,c,h){return f.matchFiles.apply(this,arguments)}function P(e,t,r,i,n){return f.getFileMatcherPatterns.apply(this,arguments)}function A(e){return function(){if(null!=N)return N;N={};for(const e of Object.keys(f.SyntaxKind).filter((e=>isNaN(parseInt(e,10))))){const t=f.SyntaxKind[e];null==N[t]&&(N[t]=e)}return N}()[e]}let N;t.errors=void 0,function(e){class t extends Error{constructor(e){super(e),this.message=e,this.message=e}}e.BaseError=t;class r extends t{constructor(e,t){super(`Argument Error (${e}): ${t}`)}}e.ArgumentError=r;class i extends r{constructor(e){super(e,"Cannot be null or whitespace.")}}e.ArgumentNullOrWhitespaceError=i;class n extends r{constructor(e,t,r){super(e,`Range is ${r[0]} to ${r[1]}, but ${t} was provided.`)}}e.ArgumentOutOfRangeError=n;class s extends r{constructor(e,t,r){super(e,`Expected type '${t}', but was '${r}'.`)}}e.ArgumentTypeError=s;class o extends t{constructor(e,t="Path"){super(`${t} not found: ${e}`),this.path=e,this.code="ENOENT"}}e.PathNotFoundError=o;e.DirectoryNotFoundError=class extends o{constructor(e){super(e,"Directory")}};e.FileNotFoundError=class extends o{constructor(e){super(e,"File")}};class a extends t{constructor(e){super(e)}}e.InvalidOperationError=a;class c extends t{constructor(e="Not implemented."){super(e)}}e.NotImplementedError=c;function h(e,t){if("string"!==typeof e)throw new s(t,"string",typeof e)}function l(e,t,r){if(e<t[0]||e>t[1])throw new n(r,e,t)}function u(e){throw new c(`Not implemented feature for syntax kind '${A(e)}'.`)}e.NotSupportedError=class extends t{constructor(e){super(e)}},e.throwIfNotType=function(e,t,r){if(typeof e!==t)throw new s(r,t,typeof e)},e.throwIfNotString=h,e.throwIfWhitespaceOrNotString=function(e,t){if(h(e,t),0===e.trim().length)throw new i(t)},e.throwIfOutOfRange=l,e.throwIfRangeOutOfRange=function(e,t,i){if(e[0]>e[1])throw new r(i,`The start of a range must not be greater than the end: [${e[0]}, ${e[1]}]`);l(e[0],t,i),l(e[1],t,i)},e.throwNotImplementedForSyntaxKindError=u,e.throwIfNegative=function(e,t){if(e<0)throw new r(t,"Expected a non-negative value.")},e.throwIfNullOrUndefined=function(e,t){if(null==e)throw new a("string"===typeof t?t:t());return e},e.throwNotImplementedForNeverValueError=function(e){const t=e;if(null!=t&&"number"===typeof t.kind)return u(t.kind);throw new c(`Not implemented value: ${JSON.stringify(e)}`)},e.throwIfNotEqual=function(e,t,r){if(e!==t)throw new a(`Expected ${e} to equal ${t}. ${r}`)},e.throwIfTrue=function(e,t){if(!0===e)throw new a(t)}}(t.errors||(t.errors={}));"*".charCodeAt(0);const L="\n".charCodeAt(0),k="\r".charCodeAt(0),R=" ".charCodeAt(0),M="\t".charCodeAt(0),T=("}".charCodeAt(0),new Set([" ","\f","\n","\r","\t","\v","\xa0","\u2028","\u2029"].map((e=>e.charCodeAt(0)))));class j{constructor(){}static isWhitespaceCharCode(e){return T.has(e)}static isSpaces(e){if(null==e||0===e.length)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)!==R)return!1;return!0}static hasBom(e){return 65279===e.charCodeAt(0)}static stripBom(e){return j.hasBom(e)?e.slice(1):e}static stripQuotes(e){return j.isQuoted(e)?e.substring(1,e.length-1):e}static isQuoted(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')}static isNullOrWhitespace(e){return"string"!==typeof e||j.isWhitespace(e)}static isNullOrEmpty(e){return"string"!==typeof e||0===e.length}static isWhitespace(e){if(null==e)return!0;for(let t=0;t<e.length;t++)if(!j.isWhitespaceCharCode(e.charCodeAt(t)))return!1;return!0}static startsWithNewLine(e){return null!=e&&(e.charCodeAt(0)===L||e.charCodeAt(0)===k&&e.charCodeAt(1)===L)}static endsWithNewLine(e){return null!=e&&e.charCodeAt(e.length-1)===L}static insertAtLastNonWhitespace(e,t){let r=e.length;for(;r>0&&j.isWhitespaceCharCode(e.charCodeAt(r-1));)r--;return e.substring(0,r)+t+e.substring(r)}static getLineNumberAtPos(e,r){t.errors.throwIfOutOfRange(r,[0,e.length],"pos");let i=0;for(let t=0;t<r;t++)e.charCodeAt(t)===L&&i++;return i+1}static getLengthFromLineStartAtPos(e,r){return t.errors.throwIfOutOfRange(r,[0,e.length],"pos"),r-j.getLineStartFromPos(e,r)}static getLineStartFromPos(e,r){for(t.errors.throwIfOutOfRange(r,[0,e.length],"pos");r>0;){const t=e.charCodeAt(r-1);if(t===L||t===k)break;r--}return r}static getLineEndFromPos(e,r){for(t.errors.throwIfOutOfRange(r,[0,e.length],"pos");r<e.length;){const t=e.charCodeAt(r);if(t===L||t===k)break;r++}return r}static escapeForWithinString(e,t){return j.escapeChar(e,t).replace(/(\r?\n)/g,"\\$1")}static escapeChar(e,r){if(1!==r.length)throw new t.errors.InvalidOperationError("Specified char must be one character long.");let i="";for(const t of e)t===r&&(i+="\\"),i+=t;return i}static removeIndentation(e,t){const{isInStringAtPos:r,indentSizeInSpaces:i}=t,n=[],s=[];let o;return function(){let t=e.charCodeAt(0)===R||e.charCodeAt(0)===M;for(let a=0;a<e.length;a++){if(!t){e.charCodeAt(a)!==L||r(a+1)||(t=!0);continue}n.push(a);let c=0,h=0;for(;;){if(e.charCodeAt(a)===R)c++;else{if(e.charCodeAt(a)!==M)break;h++}a++}const l=Math.ceil(c/i)*i+h*i;(null==o||l<o)&&(o=l),s.push(a),t=!1}}(),function(){if(0===n.length)return e;if(null==o||0===o)return e;const t=o;let r="";r+=e.substring(0,n[0]);let a=n[0];for(let o=0;o<n.length;o++){const c=n[o],h=s[o];let l,u=0;for(l=c;l<h&&!(u>=t);l++)e.charCodeAt(l)===R?u++:e.charCodeAt(l)===M&&(u+=i);a=null==n[o+1]?e.length:n[o+1],r+=e.substring(l,a)}return r+=e.substring(a),r}()}static indent(e,t,r){if(0===t)return e;const{indentText:i,indentSizeInSpaces:n,isInStringAtPos:s}=r,o=t>0?i.repeat(t):void 0,a=Math.abs(t*n);let c="",h=0,l=0;for(let d=0;d<e.length;d++){for(h=d;d<e.length&&e.charCodeAt(d)!==L;)d++;l=d===e.length?d:d+1,u()}return c;function u(){if(s(h))c+=e.substring(h,l);else if(t>0)c+=o+e.substring(h,l);else{let t=h,r=0;for(t=h;t<e.length&&!(r>=a);t++)if(e.charCodeAt(t)===R)r++;else{if(e.charCodeAt(t)!==M)break;r+=n}c+=e.substring(t,l)}}}}class W{constructor(e,t){this.getKey=e,this.comparer=t,this.array=[]}set(e){O.binaryInsertWithOverwrite(this.array,e,new D(this.getKey,this.comparer))}removeByValue(e){this.removeByKey(this.getKey(e))}removeByKey(e){const t=new C(this.comparer,e),r=O.binarySearch(this.array,new E(this.getKey,t));r>=0&&this.array.splice(r,1)}getArrayCopy(){return[...this.array]}hasItems(){return this.array.length>0}*entries(){yield*this.array}}function B(e,t,r,i,s,o){return f.createLanguageServiceSourceFile(e,t,null!==r&&void 0!==r?r:n.ScriptTarget.Latest,i,s,o)}class z{constructor(e,t){this.documentCache=t,this.absoluteToOriginalPath=new Map;for(const r of t._getFilePaths())this.absoluteToOriginalPath.set(e.getStandardizedAbsolutePath(r),r)}getDocumentIfMatch(e,t,r,i){const n=this.absoluteToOriginalPath.get(e);if(null!=n)return this.documentCache._getDocumentIfMatch(n,e,t,r,i)}}class q{constructor(){this._fileTexts=new Map,this._documents=new Map}_addFiles(e){for(const t of e)this._fileTexts.set(t.fileName,t.text)}_getFilePaths(){return this._fileTexts.keys()}_getCacheForFileSystem(e){return new z(e,this)}_getDocumentIfMatch(e,t,r,i,n){const s=this._fileTexts.get(e);if(null!=s&&s===r.getText(0,r.getLength()))return this._getDocument(e,t,r,i,n)}_getDocument(e,t,r,i,n){const s=this._getKey(e,i,n);let o=this._documents.get(s);return null==o&&(o=B(t,r,i,"-1",!1,n),this._documents.set(s,o)),o=F(o),o.fileName=t,o}_getKey(e,t,r){var i,n;return e+(null!==(i=null===t||void 0===t?void 0:t.toString())&&void 0!==i?i:"-1")+(null!==(n=null===r||void 0===r?void 0:r.toString())&&void 0!==n?n:"-1")}}function K(){return r(7828).libFiles}const $="/node_modules/typescript/lib",H=r(6470);class V{constructor(){this.fs=new U,this.path=new Q}getEnvVar(e){}getEndOfLine(){return"\n"}getPathMatchesPattern(e,t){return g.default(e,t)}}class Q{join(...e){return H.join(...e)}normalize(e){return H.normalize(e)}relative(e,t){return H.relative(e,t)}}class U{constructor(){this._errorMessage="Access to the file system is not supported in the browser. Please use an in-memory file system (specify `useInMemoryFileSystem: true` when creating the project)."}delete(e){return Promise.reject(new Error(this._errorMessage))}deleteSync(e){throw new Error(this._errorMessage)}readDirSync(e){throw new Error(this._errorMessage)}readFile(e,t){return Promise.reject(new Error(this._errorMessage))}readFileSync(e,t){throw new Error(this._errorMessage)}writeFile(e,t){return Promise.reject(new Error(this._errorMessage))}writeFileSync(e,t){throw new Error(this._errorMessage)}mkdir(e){return Promise.reject(new Error(this._errorMessage))}mkdirSync(e){throw new Error(this._errorMessage)}move(e,t){return Promise.reject(new Error(this._errorMessage))}moveSync(e,t){throw new Error(this._errorMessage)}copy(e,t){return Promise.reject(new Error(this._errorMessage))}copySync(e,t){throw new Error(this._errorMessage)}fileExists(e){return Promise.reject(new Error(this._errorMessage))}fileExistsSync(e){throw new Error(this._errorMessage)}directoryExists(e){return Promise.reject(new Error(this._errorMessage))}directoryExistsSync(e){throw new Error(this._errorMessage)}realpathSync(e){throw new Error(this._errorMessage)}getCurrentDirectory(){throw new Error(this._errorMessage)}glob(e){return Promise.reject(new Error(this._errorMessage))}globSync(e){throw new Error(this._errorMessage)}isCaseSensitive(){return!0}}function G(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function J(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function Z(e){return this instanceof Z?(this.v=e,this):new Z(e)}function X(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof Z?Promise.resolve(r.value.v).then(c,h):l(s[0][2],r)}catch(i){l(s[0][3],i)}var r}function c(e){a("next",e)}function h(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}class Y{constructor(){this.fs=new te,this.path=new ee}getEnvVar(e){return null===i||void 0===i?void 0:i.env[e]}getEndOfLine(){return S.EOL}getPathMatchesPattern(e,t){return g.default(e,t)}}class ee{join(...e){return w.join(...e)}normalize(e){return w.normalize(e)}relative(e,t){return w.relative(e,t)}}class te{delete(e){return new Promise(((t,r)=>{y.unlink(e,(e=>{e?r(e):t()}))}))}deleteSync(e){y.unlinkSync(e)}readDirSync(e){return y.readdirSync(e)}readFile(e,t="utf-8"){return new Promise(((r,i)=>{y.readFile(e,t,((e,t)=>{e?i(e):r(t)}))}))}readFileSync(e,t="utf-8"){return y.readFileSync(e,t)}writeFile(e,t){return J(this,void 0,void 0,(function*(){yield new Promise(((r,i)=>{y.writeFile(e,t,(e=>{e?i(e):r()}))}))}))}writeFileSync(e,t){y.writeFileSync(e,t)}mkdir(e){return J(this,void 0,void 0,(function*(){yield m.default(e)}))}mkdirSync(e){m.default.sync(e)}move(e,t){return new Promise(((r,i)=>{y.rename(e,t,(e=>{e?i(e):r()}))}))}moveSync(e,t){y.renameSync(e,t)}copy(e,t){return new Promise(((r,i)=>{y.copyFile(e,t,(e=>{e?i(e):r()}))}))}copySync(e,t){y.copyFileSync(e,t)}fileExists(e){return new Promise((t=>{y.stat(e,((e,r)=>{t(!e&&r.isFile())}))}))}fileExistsSync(e){try{return y.statSync(e).isFile()}catch(t){return!1}}directoryExists(e){return new Promise((t=>{y.stat(e,((e,r)=>{t(!e&&r.isDirectory())}))}))}directoryExistsSync(e){try{return y.statSync(e).isDirectory()}catch(t){return!1}}realpathSync(e){return y.realpathSync(e)}getCurrentDirectory(){return w.resolve()}glob(e){return p.default(e,{cwd:this.getCurrentDirectory(),absolute:!0})}globSync(e){return p.default.sync(e,{cwd:this.getCurrentDirectory(),absolute:!0})}isCaseSensitive(){const e=null===i||void 0===i?void 0:i.platform;return"win32"!==e&&"darwin"!==e}}const re="object"===typeof globalThis.process&&"object"===typeof globalThis.process.versions&&"undefined"!==typeof globalThis.process.versions.node?new Y:new V;const ie=/^[a-z]+:[\\\/]$/i,ne=re.path;class se{constructor(){}static isNotExistsError(e){return null!=e&&e.code===se.ENOENT}static pathJoin(e,...t){return se.pathIsAbsolute(e)?se.standardizeSlashes(ne.normalize(ne.join(e,...t))):se.standardizeSlashes(ne.join(e,...t))}static pathIsAbsolute(e){return oe(e)}static getStandardizedAbsolutePath(e,t,r){return se.standardizeSlashes(ne.normalize(oe(t)?t:t.startsWith("./")||null==r?ne.join(e.getCurrentDirectory(),t):ne.join(r,t)))}static getDirPath(e){const t=(e=se.standardizeSlashes(e)).lastIndexOf("/");return-1===t?".":se.standardizeSlashes(e.substring(0,t+1))}static getBaseName(e){const t=e.lastIndexOf("/");return e.substring(t+1)}static getExtension(e){const t=se.getBaseName(e),r=t.lastIndexOf(".");if(r<=0)return"";const i=t.substring(r),n=i.toLowerCase();return".ts"===n&&".d"===t.substring(r-2,r).toLowerCase()?t.substring(r-2):".map"===n&&".js"===t.substring(r-3,r).toLowerCase()?t.substring(r-3):i}static standardizeSlashes(e){let t=e.replace(this.standardizeSlashesRegex,"/");return!se.isRootDirPath(t)&&t.endsWith("/")&&(t=t.substring(0,t.length-1)),t}static pathEndsWith(e,t){const r=se.splitPathBySlashes(e),i=se.splitPathBySlashes(t);if(i.length>r.length)return!1;for(let n=0;n<i.length;n++)if(i[i.length-n-1]!==r[r.length-n-1])return!1;return i.length>0}static pathStartsWith(e,t){const r=j.isNullOrWhitespace(e),i=j.isNullOrWhitespace(t),n=se.splitPathBySlashes(e),s=se.splitPathBySlashes(t);if(r&&i)return!0;if(i||s.length>n.length)return!1;if(1===s.length&&0===s[0].length)return!0;for(let o=0;o<s.length;o++)if(s[o]!==n[o])return!1;return s.length>0}static splitPathBySlashes(e){return e=(e||"").replace(se.trimSlashStartRegex,"").replace(se.trimSlashEndRegex,""),se.standardizeSlashes(e).replace(/^\//,"").split("/")}static getParentMostPaths(e){const t=[];for(const r of O.sortByProperty(e,(e=>e.length)))t.every((e=>!se.pathStartsWith(r,e)))&&t.push(r);return t}static readFileOrNotExists(e,t,r){return J(this,void 0,void 0,(function*(){try{return yield e.readFile(t,r)}catch(i){if(!se.isNotExistsError(i))throw i;return!1}}))}static readFileOrNotExistsSync(e,t,r){try{return e.readFileSync(t,r)}catch(i){if(!se.isNotExistsError(i))throw i;return!1}}static getTextWithByteOrderMark(e){return j.hasBom(e)?e:"\ufeff"+e}static getRelativePathTo(e,t){const r=ne.relative(e,se.getDirPath(t));return se.standardizeSlashes(ne.join(r,se.getBaseName(t)))}static isRootDirPath(e){return"/"===e||ie.test(e)}static*getDescendantDirectories(e,t){for(const r of e.readDirSync(t))e.directoryExistsSync(r)&&(yield r,yield*se.getDescendantDirectories(e,r))}static toAbsoluteGlob(e,t){"./"===e.slice(0,2)&&(e=e.slice(2)),1===e.length&&"."===e&&(e="");const r=e.slice(-1),i=se.isNegatedGlob(e);return i&&(e=e.slice(1)),oe(e)&&"\\"!==e.slice(0,1)||(e=function(e,t){"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1));"/"===t.charAt(0)&&(t=t.slice(1));return t?e+"/"+t:e}(t,e)),"/"===r&&"/"!==e.slice(-1)&&(e+="/"),i?"!"+e:e}static isNegatedGlob(e){return"!"===e[0]&&"("!==e[1]}}function oe(e){return e.startsWith("/")||function(e){return ae.test(e)||function(e){return e.startsWith("\\\\")}(e)||function(e){return ce.test(e)}(e)}(e)}se.standardizeSlashesRegex=/\\/g,se.trimSlashStartRegex=/^\//,se.trimSlashEndRegex=/\/$/,se.ENOENT="ENOENT";const ae=/^[a-z]+:[\\\/]/i;const ce=/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/;function he(e,t,r){t="string"===typeof t?[se.toAbsoluteGlob(t,r)]:t.map((e=>se.toAbsoluteGlob(e,r)));const i=[];for(const n of e)for(let e of t){let t=le;se.isNegatedGlob(e)&&(t=ue,e=e.slice(1)),re.getPathMatchesPattern(n,e)&&t(i,n)}return i}function le(e,t){-1===e.indexOf(t)&&e.push(t)}function ue(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function*de(e,t){for(const r of e)se.pathStartsWith(r,t)&&(yield r)}const fe=re.fs;class ge{delete(e){return J(this,void 0,void 0,(function*(){try{yield fe.delete(e)}catch(t){throw this.getFileNotFoundErrorIfNecessary(t,e)}}))}deleteSync(e){try{fe.deleteSync(e)}catch(t){throw this.getFileNotFoundErrorIfNecessary(t,e)}}readDirSync(e){try{return fe.readDirSync(e).map((t=>se.pathJoin(e,t)))}catch(t){throw this.getDirectoryNotFoundErrorIfNecessary(t,e)}}readFile(e,t="utf-8"){return J(this,void 0,void 0,(function*(){try{return yield fe.readFile(e,t)}catch(r){throw this.getFileNotFoundErrorIfNecessary(r,e)}}))}readFileSync(e,t="utf-8"){try{return fe.readFileSync(e,t)}catch(r){throw this.getFileNotFoundErrorIfNecessary(r,e)}}writeFile(e,t){return J(this,void 0,void 0,(function*(){return fe.writeFile(e,t)}))}writeFileSync(e,t){fe.writeFileSync(e,t)}mkdir(e){return fe.mkdir(e)}mkdirSync(e){fe.mkdirSync(e)}move(e,t){return fe.move(e,t)}moveSync(e,t){fe.moveSync(e,t)}copy(e,t){return fe.copy(e,t)}copySync(e,t){fe.copySync(e,t)}fileExists(e){return fe.fileExists(e)}fileExistsSync(e){return fe.fileExistsSync(e)}directoryExists(e){return fe.directoryExists(e)}directoryExistsSync(e){return fe.directoryExistsSync(e)}realpathSync(e){return fe.realpathSync(e)}getCurrentDirectory(){return se.standardizeSlashes(fe.getCurrentDirectory())}glob(e){return fe.glob(pe(e))}globSync(e){return fe.globSync(pe(e))}isCaseSensitive(){return fe.isCaseSensitive()}getDirectoryNotFoundErrorIfNecessary(e,r){return se.isNotExistsError(e)?new t.errors.DirectoryNotFoundError(se.getStandardizedAbsolutePath(this,r)):e}getFileNotFoundErrorIfNecessary(e,r){return se.isNotExistsError(e)?new t.errors.FileNotFoundError(se.getStandardizedAbsolutePath(this,r)):e}}function pe(e){return e.map((e=>e.replace(/\\/g,"/")))}class ye{constructor(e){this.path=e,this.operations=[],this.inboundOperations=[],this.isDeleted=!1,this.wasEverDeleted=!1,this.childDirs=new W((e=>e.path),b.instance)}getExternalOperations(){return[...O.flatten(this.getAncestors().map((e=>e.operations.filter((e=>"move"===e.kind||"deleteDir"===e.kind||"copy"===e.kind))))).filter((e=>function(e,r){switch(r.kind){case"move":case"copy":return e.isDescendantOrEqual(r.oldDir)||e.isDescendantOrEqual(r.newDir);case"deleteDir":return e.isDescendantOrEqual(r.dir);default:return t.errors.throwNotImplementedForNeverValueError(r)}}(this,e))),...O.flatten([this,...this.getDescendants()].map((e=>e.operations.filter((e=>"move"===e.kind||"copy"===e.kind))))).filter((e=>{return t=this,!((r=e).oldDir.isDescendantOrEqual(t)&&r.newDir.isDescendantOrEqual(t));var t,r}))]}isDescendantOrEqual(e){return this.isDescendant(e)||this===e}isDescendant(e){return se.pathStartsWith(this.path,e.path)}getIsDeleted(){return this.isDeleted}getWasEverDeleted(){if(this.wasEverDeleted)return!0;for(const e of this.getAncestorsIterator())if(e.wasEverDeleted)return!0;return!1}setIsDeleted(e){if(this.isDeleted!==e){if(e){this.wasEverDeleted=!0;for(const e of this.childDirs.entries())e.setIsDeleted(!0)}else null!=this.parent&&this.parent.setIsDeleted(!1);this.isDeleted=e}}getParent(){return this.parent}setParent(e){if(null!=this.parent)throw new t.errors.InvalidOperationError("For some reason, a parent was being set when the directory already had a parent. Please open an issue.");this.parent=e,e.childDirs.set(this),e.isDeleted&&!this.isDeleted&&e.setIsDeleted(!1)}removeParent(){const e=this.parent;null!=e&&(e.childDirs.removeByValue(this),this.parent=void 0)}getAncestors(){return Array.from(this.getAncestorsIterator())}*getAncestorsIterator(){let e=this.parent;for(;null!=e;)yield e,e=e.parent}*getChildrenPathsIterator(){for(const e of this.childDirs.entries())yield e.path}getDescendants(){const e=[];for(const t of this.childDirs.entries())e.push(t),e.push(...t.getDescendants());return e}isFileQueuedForDelete(e){return this.hasOperation((t=>"deleteFile"===t.kind&&t.filePath===e))}hasOperation(e){for(const t of this.operations)if(e(t))return!0;return!1}dequeueFileDelete(e){this.removeMatchingOperations((t=>"deleteFile"===t.kind&&t.filePath===e))}dequeueDirDelete(e){this.removeMatchingOperations((t=>"deleteDir"===t.kind&&t.dir.path===e))}isRootDir(){return se.isRootDirPath(this.path)}removeMatchingOperations(e){O.removeAll(this.operations,e)}}class me{constructor(e){this.fileSystem=e,this.directories=new v,this.operationIndex=0,this.pathCasingMaintainer=new Se(e)}queueFileDelete(e){this.getOrCreateParentDirectory(e).operations.push({kind:"deleteFile",index:this.getNextOperationIndex(),filePath:e}),this.pathCasingMaintainer.removePath(e)}removeFileDelete(e){this.getOrCreateParentDirectory(e).dequeueFileDelete(e)}queueMkdir(e){const t=this.getOrCreateDirectory(e);t.setIsDeleted(!1);this.getOrCreateParentDirectory(e).operations.push({kind:"mkdir",index:this.getNextOperationIndex(),dir:t})}queueDirectoryDelete(e){const t=this.getOrCreateDirectory(e);t.setIsDeleted(!0);this.getOrCreateParentDirectory(e).operations.push({kind:"deleteDir",index:this.getNextOperationIndex(),dir:t}),this.pathCasingMaintainer.removePath(e)}queueMoveDirectory(e,t){const r=this.getOrCreateParentDirectory(e),i=this.getOrCreateDirectory(e),n=this.getOrCreateDirectory(t),s={kind:"move",index:this.getNextOperationIndex(),oldDir:i,newDir:n};r.operations.push(s),(n.getParent()||n).inboundOperations.push(s),i.setIsDeleted(!0),this.pathCasingMaintainer.removePath(e)}queueCopyDirectory(e,t){const r=this.getOrCreateParentDirectory(e),i=this.getOrCreateDirectory(e),n=this.getOrCreateDirectory(t),s={kind:"copy",index:this.getNextOperationIndex(),oldDir:i,newDir:n};r.operations.push(s),(n.getParent()||n).inboundOperations.push(s)}flush(){return J(this,void 0,void 0,(function*(){const e=this.getAndClearOperations();for(const t of e)yield this.executeOperation(t)}))}flushSync(){for(const e of this.getAndClearOperations())this.executeOperationSync(e)}saveForDirectory(e){return J(this,void 0,void 0,(function*(){const t=this.getOrCreateDirectory(e);this.throwIfHasExternalOperations(t,"save directory");const r=this.getAndClearOperationsForDir(t);yield this.ensureDirectoryExists(t);for(const e of r)yield this.executeOperation(e)}))}saveForDirectorySync(e){const t=this.getOrCreateDirectory(e);this.throwIfHasExternalOperations(t,"save directory"),this.ensureDirectoryExistsSync(t);for(const r of this.getAndClearOperationsForDir(t))this.executeOperationSync(r)}getAndClearOperationsForDir(e){const t=function e(t,r){if(null==t)return[];return[...O.removeAll(t.operations,(e=>"mkdir"===e.kind&&e.dir===r)),...e(t.getParent(),t)]}(e.getParent(),e);for(const r of[e,...e.getDescendants()])t.push(...r.operations);return O.sortByProperty(t,(e=>e.index)),this.removeDirAndSubDirs(e),t}executeOperation(e){return J(this,void 0,void 0,(function*(){switch(e.kind){case"deleteDir":yield this.deleteSuppressNotFound(e.dir.path);break;case"deleteFile":yield this.deleteSuppressNotFound(e.filePath);break;case"move":yield this.fileSystem.move(e.oldDir.path,e.newDir.path);break;case"copy":yield this.fileSystem.copy(e.oldDir.path,e.newDir.path);break;case"mkdir":yield this.fileSystem.mkdir(e.dir.path);break;default:t.errors.throwNotImplementedForNeverValueError(e)}}))}executeOperationSync(e){switch(e.kind){case"deleteDir":this.deleteSuppressNotFoundSync(e.dir.path);break;case"deleteFile":this.deleteSuppressNotFoundSync(e.filePath);break;case"move":this.fileSystem.moveSync(e.oldDir.path,e.newDir.path);break;case"copy":this.fileSystem.copySync(e.oldDir.path,e.newDir.path);break;case"mkdir":this.fileSystem.mkdirSync(e.dir.path);break;default:t.errors.throwNotImplementedForNeverValueError(e)}}getAndClearOperations(){const e=[];for(const t of this.directories.getValues())e.push(...t.operations);return O.sortByProperty(e,(e=>e.index)),this.directories.clear(),e}moveFileImmediately(e,t,r){return J(this,void 0,void 0,(function*(){this.throwIfHasExternalOperations(this.getOrCreateParentDirectory(e),"move file"),this.throwIfHasExternalOperations(this.getOrCreateParentDirectory(t),"move file"),yield this.writeFile(t,r),yield this.deleteFileImmediately(e)}))}moveFileImmediatelySync(e,t,r){this.throwIfHasExternalOperations(this.getOrCreateParentDirectory(e),"move file"),this.throwIfHasExternalOperations(this.getOrCreateParentDirectory(t),"move file"),this.writeFileSync(t,r),this.deleteFileImmediatelySync(e)}deleteFileImmediately(e){return J(this,void 0,void 0,(function*(){const t=this.getOrCreateParentDirectory(e);this.throwIfHasExternalOperations(t,"delete file"),t.dequeueFileDelete(e),this.pathCasingMaintainer.removePath(e);try{yield this.deleteSuppressNotFound(e)}catch(r){throw this.queueFileDelete(e),r}}))}deleteFileImmediatelySync(e){const t=this.getOrCreateParentDirectory(e);this.throwIfHasExternalOperations(t,"delete file"),t.dequeueFileDelete(e),this.pathCasingMaintainer.removePath(e);try{this.deleteSuppressNotFoundSync(e)}catch(r){throw this.queueFileDelete(e),r}}copyDirectoryImmediately(e,t){return J(this,void 0,void 0,(function*(){const r=this.getOrCreateDirectory(e),i=this.getOrCreateDirectory(t);this.throwIfHasExternalOperations(r,"copy directory"),this.throwIfHasExternalOperations(i,"copy directory");const n=Promise.all([this.saveForDirectory(e),this.saveForDirectory(t)]);this.removeDirAndSubDirs(r),yield n,yield this.fileSystem.copy(e,t)}))}copyDirectoryImmediatelySync(e,t){const r=this.getOrCreateDirectory(e),i=this.getOrCreateDirectory(t);this.throwIfHasExternalOperations(r,"copy directory"),this.throwIfHasExternalOperations(i,"copy directory"),this.saveForDirectorySync(e),this.saveForDirectorySync(t),this.removeDirAndSubDirs(r),this.fileSystem.copySync(e,t)}moveDirectoryImmediately(e,t){return J(this,void 0,void 0,(function*(){const r=this.getOrCreateDirectory(e),i=this.getOrCreateDirectory(t);this.throwIfHasExternalOperations(r,"move directory"),this.throwIfHasExternalOperations(i,"move directory");const n=Promise.all([this.saveForDirectory(e),this.saveForDirectory(t)]);this.removeDirAndSubDirs(r),this.pathCasingMaintainer.removePath(e),yield n,yield this.fileSystem.move(e,t)}))}moveDirectoryImmediatelySync(e,t){const r=this.getOrCreateDirectory(e),i=this.getOrCreateDirectory(t);this.throwIfHasExternalOperations(r,"move directory"),this.throwIfHasExternalOperations(i,"move directory"),this.saveForDirectorySync(e),this.saveForDirectorySync(t),this.removeDirAndSubDirs(r),this.pathCasingMaintainer.removePath(e),this.fileSystem.moveSync(e,t)}deleteDirectoryImmediately(e){return J(this,void 0,void 0,(function*(){const t=this.getOrCreateDirectory(e);this.throwIfHasExternalOperations(t,"delete"),this.removeDirAndSubDirs(t),this.pathCasingMaintainer.removePath(e);try{yield this.deleteSuppressNotFound(e)}catch(r){this.addBackDirAndSubDirs(t),this.queueDirectoryDelete(e)}}))}clearDirectoryImmediately(e){return J(this,void 0,void 0,(function*(){yield this.deleteDirectoryImmediately(e),this.getOrCreateDirectory(e).setIsDeleted(!1),yield this.fileSystem.mkdir(e)}))}clearDirectoryImmediatelySync(e){this.deleteDirectoryImmediatelySync(e),this.getOrCreateDirectory(e).setIsDeleted(!1),this.fileSystem.mkdirSync(e)}deleteDirectoryImmediatelySync(e){const t=this.getOrCreateDirectory(e);this.throwIfHasExternalOperations(t,"delete"),this.removeDirAndSubDirs(t),this.pathCasingMaintainer.removePath(e);try{this.deleteSuppressNotFoundSync(e)}catch(r){this.addBackDirAndSubDirs(t),this.queueDirectoryDelete(e)}}deleteSuppressNotFound(e){return J(this,void 0,void 0,(function*(){try{yield this.fileSystem.delete(e)}catch(t){if(!se.isNotExistsError(t))throw t}}))}deleteSuppressNotFoundSync(e){try{this.fileSystem.deleteSync(e)}catch(t){if(!se.isNotExistsError(t))throw t}}fileExists(e){return!this._fileDeletedInMemory(e)&&this.fileSystem.fileExists(e)}fileExistsSync(e){return!this._fileDeletedInMemory(e)&&this.fileSystem.fileExistsSync(e)}_fileDeletedInMemory(e){if(this.isPathQueuedForDeletion(e))return!0;const t=this.getParentDirectoryIfExists(e);return!(null==t||!t.getWasEverDeleted())}directoryExistsSync(e){if(this.isPathQueuedForDeletion(e))return!1;if(this.isPathDirectoryInQueueThatExists(e))return!0;const t=this.getDirectoryIfExists(e);return(null==t||!t.getWasEverDeleted())&&this.fileSystem.directoryExistsSync(e)}readFileSync(e,t){return this._verifyCanReadFile(e),this.fileSystem.readFileSync(e,t)}readFile(e,t){return this._verifyCanReadFile(e),this.fileSystem.readFile(e,t)}_verifyCanReadFile(e){if(this.isPathQueuedForDeletion(e))throw new t.errors.InvalidOperationError(`Cannot read file at ${e} when it is queued for deletion.`);if(this.getOrCreateParentDirectory(e).getWasEverDeleted())throw new t.errors.InvalidOperationError(`Cannot read file at ${e} because one of its ancestor directories was once deleted or moved.`)}readDirSync(e){const r=this.getOrCreateDirectory(e);if(r.getIsDeleted())throw new t.errors.InvalidOperationError(`Cannot read directory at ${e} when it is queued for deletion.`);if(r.getWasEverDeleted())throw new t.errors.InvalidOperationError(`Cannot read directory at ${e} because one of its ancestor directories was once deleted or moved.`);const i=new Set(r.getChildrenPathsIterator());for(const t of this.fileSystem.readDirSync(e)){const e=this.getStandardizedAbsolutePath(t);this.isPathQueuedForDeletion(e)||i.add(e)}return Array.from(i).sort()}glob(e){return X(this,arguments,(function*(){const t=yield Z(this.fileSystem.glob(e));for(const e of t){const t=this.getStandardizedAbsolutePath(e);this.isPathQueuedForDeletion(t)||(yield yield Z(t))}}))}*globSync(e){const t=this.fileSystem.globSync(e);for(const r of t){const e=this.getStandardizedAbsolutePath(r);this.isPathQueuedForDeletion(e)||(yield e)}}getFileSystem(){return this.fileSystem}getCurrentDirectory(){return this.getStandardizedAbsolutePath(this.fileSystem.getCurrentDirectory())}getDirectories(e){return this.readDirSync(e).filter((e=>this.directoryExistsSync(e)))}realpathSync(e){try{return this.getStandardizedAbsolutePath(this.fileSystem.realpathSync(e))}catch(t){return e}}getStandardizedAbsolutePath(e,t){const r=se.getStandardizedAbsolutePath(this.fileSystem,e,t);return this.pathCasingMaintainer.getPath(r)}readFileOrNotExists(e,t){return!this.isPathQueuedForDeletion(e)&&se.readFileOrNotExists(this.fileSystem,e,t)}readFileOrNotExistsSync(e,t){return!this.isPathQueuedForDeletion(e)&&se.readFileOrNotExistsSync(this.fileSystem,e,t)}writeFile(e,t){return J(this,void 0,void 0,(function*(){const r=this.getOrCreateParentDirectory(e);this.throwIfHasExternalOperations(r,"write file"),r.dequeueFileDelete(e),yield this.ensureDirectoryExists(r),yield this.fileSystem.writeFile(e,t)}))}writeFileSync(e,t){const r=this.getOrCreateParentDirectory(e);this.throwIfHasExternalOperations(r,"write file"),r.dequeueFileDelete(e),this.ensureDirectoryExistsSync(r),this.fileSystem.writeFileSync(e,t)}isPathDirectoryInQueueThatExists(e){const t=this.getDirectoryIfExists(e);return null!=t&&!t.getIsDeleted()}isPathQueuedForDeletion(e){const t=this.getDirectoryIfExists(e);if(null!=t)return t.getIsDeleted();const r=this.getParentDirectoryIfExists(e);return null!=r&&(r.isFileQueuedForDelete(e)||r.getIsDeleted())}removeDirAndSubDirs(e){const t=e.getParent();e.removeParent();for(const r of[e,...e.getDescendants()])this.directories.removeByKey(r.path);null!=t&&t.dequeueDirDelete(e.path)}addBackDirAndSubDirs(e){for(const t of[e,...e.getDescendants()])this.directories.set(t.path,t);e.isRootDir()||e.setParent(this.getOrCreateParentDirectory(e.path))}getNextOperationIndex(){return this.operationIndex++}getParentDirectoryIfExists(e){return this.getDirectoryIfExists(se.getDirPath(e))}getOrCreateParentDirectory(e){return this.getOrCreateDirectory(se.getDirPath(e))}getDirectoryIfExists(e){return this.directories.get(e)}getOrCreateDirectory(e){let t=this.directories.get(e);if(null!=t)return t;const r=e=>this.directories.getOrCreate(e,(()=>new ye(e)));t=r(e);let i=e,n=t;for(;!se.isRootDirPath(i);){const e=se.getDirPath(i),s=this.directories.has(e),o=r(e);if(n.setParent(o),s)return t;n=o,i=e}return t}throwIfHasExternalOperations(e,r){const i=e.getExternalOperations();if(0!==i.length)throw new t.errors.InvalidOperationError(function(){let e=!1,t=`Cannot execute immediate operation '${r}' because of the following external operations:\n`;for(const r of i)"move"===r.kind?t+=`\n* Move: ${r.oldDir.path} --\x3e ${r.newDir.path}`:"copy"===r.kind?(t+=`\n* Copy: ${r.oldDir.path} --\x3e ${r.newDir.path}`,e=!0):"deleteDir"===r.kind?t+=`\n* Delete: ${r.dir.path}`:t+="\n* Unknown operation: Please report this as a bug.";e&&(t+="\n\nNote: Copy operations can be removed from external operations by setting `includeUntrackedFiles` to `false` when copying.");return t}())}ensureDirectoryExists(e){return J(this,void 0,void 0,(function*(){e.isRootDir()||(this.removeMkDirOperationsForDir(e),yield this.fileSystem.mkdir(e.path))}))}ensureDirectoryExistsSync(e){e.isRootDir()||(this.removeMkDirOperationsForDir(e),this.fileSystem.mkdirSync(e.path))}removeMkDirOperationsForDir(e){const t=e.getParent();null!=t&&(O.removeAll(t.operations,(t=>"mkdir"===t.kind&&t.dir===e)),this.removeMkDirOperationsForDir(t))}}class Se{constructor(e){null==e.isCaseSensitive||e.isCaseSensitive()||(this.caseInsensitiveMappings=new Map)}getPath(e){if(null==this.caseInsensitiveMappings)return e;const t=e.toLowerCase();let r=this.caseInsensitiveMappings.get(t);return null==r&&(r=e,this.caseInsensitiveMappings.set(t,r)),r}removePath(e){null!=this.caseInsensitiveMappings&&this.caseInsensitiveMappings.delete(e.toLowerCase())}}class we{constructor(e){this.transactionalFileSystem=e,this.sourceFileCacheByFilePath=new Map}createOrUpdateSourceFile(e,t,r,i){let n=this.sourceFileCacheByFilePath.get(e);return n=null==n?this.updateSourceFile(e,t,r,we.initialVersion,i):this.updateSourceFile(e,t,r,this.getNextSourceFileVersion(n),i),n}removeSourceFile(e){this.sourceFileCacheByFilePath.delete(e)}acquireDocument(e,t,r,i,n){const s=this.transactionalFileSystem.getStandardizedAbsolutePath(e);let o=this.sourceFileCacheByFilePath.get(s);return null!=o&&this.getSourceFileVersion(o)===i||(o=this.updateSourceFile(s,t,r,i,n)),o}acquireDocumentWithKey(e,t,r,i,n,s,o){return this.acquireDocument(e,r,n,s,o)}updateDocument(e,t,r,i,n){return this.acquireDocument(e,t,r,i,n)}updateDocumentWithKey(e,t,r,i,n,s,o){return this.updateDocument(e,r,n,s,o)}getKeyForCompilationSettings(e){return"defaultKey"}releaseDocument(e,t){}releaseDocumentWithKey(e,t){}reportStats(){throw new t.errors.NotImplementedError}getSourceFileVersion(e){return e.version||"0"}getNextSourceFileVersion(e){return((parseInt(this.getSourceFileVersion(e),10)||0)+1).toString()}updateSourceFile(e,t,r,i,n){const s=B(e,r,t.target,i,!0,n);return this.sourceFileCacheByFilePath.set(e,s),s}}we.initialVersion="0";const ve={deno:(e,t)=>{return{resolveModuleNames:(i,n)=>{const s=t(),o=[];for(const t of i.map(r)){const r=f.resolveModuleName(t,n,s,e);r.resolvedModule&&o.push(r.resolvedModule)}return o}};function r(e){return".ts"===e.slice(-3).toLowerCase()?e.slice(0,-3):e}}};function Ce(e,t,r){if(null!=r.value)r.value=Ee(r.value);else{if(null==r.get)throw new Error("Only put a Memoize decorator on a method or get accessor.");r.get=Ee(r.get)}}const be=new WeakMap;let De=0;function Ee(e){const t=De++;return function(...r){let i=be.get(this);null==i&&(i=new Map,be.set(this,i));let n,s=`__memoized_value_${t}`;return arguments.length>0&&(s+="_"+JSON.stringify(r)),i.has(s)?n=i.get(s):(n=e.apply(this,r),i.set(s,n)),n}}class Oe{constructor(e){this._defaultSettings=I.assign({},e),this._settings=e}reset(){this._settings=I.assign({},this._defaultSettings),this._fireModified()}get(){return I.assign({},this._settings)}set(e){I.assign(this._settings,e),this._fireModified()}onModified(e){null==this._modifiedEventContainer&&(this._modifiedEventContainer=new _),this._modifiedEventContainer.subscribe(e)}_fireModified(){null!=this._modifiedEventContainer&&this._modifiedEventContainer.fire(void 0)}}function Fe(e,t,r,i,n,s,o){const a=e.getCurrentDirectory(),c=[],h=t?"":"i",l=P(r,n||[],s,t,a),u=l.includeDirectoryPattern&&new RegExp(l.includeDirectoryPattern,h),d=l.excludePattern&&new RegExp(l.excludePattern,h);return{files:x(r,i,n||[],s,t,a,o,(t=>{const r=function(e){"/"!==e[e.length-1]&&(e+="/");return(!u||u.test(e))&&(!d||!d.test(e))}(t),i=e.getStandardizedAbsolutePath(t);return r&&c.push(i),function(e,t){const r=[],i=[];try{const n=t.readDirSync(e);for(const e of n)t.fileExistsSync(e)?r.push(e):i.push(e)}catch(n){if(!se.isNotExistsError(n))throw n}return{files:r,directories:i}}(i,e)}),(t=>e.realpathSync(e.getStandardizedAbsolutePath(t))),(t=>e.directoryExistsSync(e.getStandardizedAbsolutePath(t)))),directories:c}}class _e{constructor(e,t,r){this.fileSystem=e,this.encoding=r,this.host=function(e,t){const r=[];return{useCaseSensitiveFileNames:!1,readDirectory:(t,i,n,s,o)=>{const a=Fe(e,!1,t,i,n,s,o);return r.push(...a.directories),a.files},fileExists:t=>e.fileExistsSync(e.getStandardizedAbsolutePath(t)),readFile:r=>e.readFileSync(e.getStandardizedAbsolutePath(r),t.encoding),getDirectories:()=>[...r],clearDirectories:()=>r.length=0}}(e,{encoding:r}),this.tsConfigFilePath=e.getStandardizedAbsolutePath(t),this.tsConfigDirPath=se.getDirPath(this.tsConfigFilePath)}getCompilerOptions(){return this.parseJsonConfigFileContent().options}getErrors(){return this.parseJsonConfigFileContent().errors||[]}getPaths(e){const t=new Set,{fileSystem:r}=this,i=new Set;e=e||this.getCompilerOptions();const n=this.parseJsonConfigFileContent();for(let s of n.directories){const e=r.getStandardizedAbsolutePath(s);r.directoryExistsSync(e)&&i.add(e)}for(let s of n.fileNames){const e=r.getStandardizedAbsolutePath(s),n=se.getDirPath(e);r.fileExistsSync(e)&&(i.add(n),t.add(e))}return{filePaths:Array.from(t.values()),directoryPaths:Array.from(i.values())}}parseJsonConfigFileContent(){this.host.clearDirectories();const e=f.parseJsonConfigFileContent(this.getTsConfigFileJson(),this.host,this.tsConfigDirPath,void 0,this.tsConfigFilePath);return Object.assign(Object.assign({},e),{directories:this.host.getDirectories()})}getTsConfigFileJson(){const e=this.fileSystem.readFileSync(this.tsConfigFilePath,this.encoding),t=f.parseConfigFileTextToJson(this.tsConfigFilePath,e);if(null!=t.error)throw new Error(t.error.messageText.toString());return t.config}}G([Ce],_e.prototype,"getCompilerOptions",null),G([Ce],_e.prototype,"getErrors",null),G([Ce],_e.prototype,"getPaths",null),G([Ce],_e.prototype,"parseJsonConfigFileContent",null),G([Ce],_e.prototype,"getTsConfigFileJson",null),Object.defineProperty(t,"DiagnosticCategory",{enumerable:!0,get:function(){return n.DiagnosticCategory}}),Object.defineProperty(t,"EmitHint",{enumerable:!0,get:function(){return n.EmitHint}}),Object.defineProperty(t,"LanguageVariant",{enumerable:!0,get:function(){return n.LanguageVariant}}),Object.defineProperty(t,"ModuleKind",{enumerable:!0,get:function(){return n.ModuleKind}}),Object.defineProperty(t,"ModuleResolutionKind",{enumerable:!0,get:function(){return n.ModuleResolutionKind}}),Object.defineProperty(t,"NewLineKind",{enumerable:!0,get:function(){return n.NewLineKind}}),Object.defineProperty(t,"NodeFlags",{enumerable:!0,get:function(){return n.NodeFlags}}),Object.defineProperty(t,"ObjectFlags",{enumerable:!0,get:function(){return n.ObjectFlags}}),Object.defineProperty(t,"ScriptKind",{enumerable:!0,get:function(){return n.ScriptKind}}),Object.defineProperty(t,"ScriptTarget",{enumerable:!0,get:function(){return n.ScriptTarget}}),Object.defineProperty(t,"SymbolFlags",{enumerable:!0,get:function(){return n.SymbolFlags}}),Object.defineProperty(t,"SyntaxKind",{enumerable:!0,get:function(){return n.SyntaxKind}}),Object.defineProperty(t,"TypeFlags",{enumerable:!0,get:function(){return n.TypeFlags}}),Object.defineProperty(t,"TypeFormatFlags",{enumerable:!0,get:function(){return n.TypeFormatFlags}}),t.ts=f,t.ArrayUtils=O,t.ComparerToStoredComparer=C,t.CompilerOptionsContainer=class extends Oe{constructor(){super({})}set(e){super.set(e)}getEncoding(){return this._settings.charset||"utf-8"}},t.DocumentRegistry=we,t.EventContainer=_,t.FileUtils=se,t.InMemoryFileSystemHost=class{constructor(){this.directories=new Map,this.getOrCreateDir("/")}isCaseSensitive(){return!0}delete(e){try{return this.deleteSync(e),Promise.resolve()}catch(t){return Promise.reject(t)}}deleteSync(e){const r=se.getStandardizedAbsolutePath(this,e);if(this.directories.has(r)){for(const e of de(this.directories.keys(),r))this.directories.delete(e);return void this.directories.delete(r)}const i=this.directories.get(se.getDirPath(r));if(null==i||!i.files.has(r))throw new t.errors.FileNotFoundError(r);i.files.delete(r)}readDirSync(e){const r=se.getStandardizedAbsolutePath(this,e),i=this.directories.get(r);if(null==i)throw new t.errors.DirectoryNotFoundError(r);return[...function*(e){for(const t of e){const e=se.getDirPath(t);e===r&&e!==t&&(yield t)}}(this.directories.keys()),...i.files.keys()]}readFile(e,t="utf-8"){try{return Promise.resolve(this.readFileSync(e,t))}catch(r){return Promise.reject(r)}}readFileSync(e,r="utf-8"){const i=se.getStandardizedAbsolutePath(this,e),n=this.directories.get(se.getDirPath(i));if(null==n)throw new t.errors.FileNotFoundError(i);const s=n.files.get(i);if(void 0===s)throw new t.errors.FileNotFoundError(i);return s}writeFile(e,t){return this.writeFileSync(e,t),Promise.resolve()}writeFileSync(e,t){this._writeFileSync(e,t)}_writeFileSync(e,t){const r=se.getStandardizedAbsolutePath(this,e),i=se.getDirPath(r);this.getOrCreateDir(i).files.set(r,t)}mkdir(e){return this.mkdirSync(e),Promise.resolve()}mkdirSync(e){this.getOrCreateDir(se.getStandardizedAbsolutePath(this,e))}move(e,t){return this.moveSync(e,t),Promise.resolve()}moveSync(e,r){const i=se.getStandardizedAbsolutePath(this,e),n=se.getStandardizedAbsolutePath(this,r);if(this.fileExistsSync(i)){const e=this.readFileSync(i);this.deleteSync(i),this.writeFileSync(n,e)}else{if(!this.directories.has(i))throw new t.errors.PathNotFoundError(i);{const e=(e,t)=>{this._copyDirInternal(e,t),this.directories.delete(e)};e(i,n);for(const t of de(this.directories.keys(),i)){const r=se.getRelativePathTo(i,t);e(t,se.pathJoin(n,r))}}}}copy(e,t){return this.copySync(e,t),Promise.resolve()}copySync(e,r){const i=se.getStandardizedAbsolutePath(this,e),n=se.getStandardizedAbsolutePath(this,r);if(this.fileExistsSync(i))this.writeFileSync(n,this.readFileSync(i));else{if(!this.directories.has(i))throw new t.errors.PathNotFoundError(i);this._copyDirInternal(i,n);for(const e of de(this.directories.keys(),i)){const t=se.getRelativePathTo(i,e);this._copyDirInternal(e,se.pathJoin(n,t))}}}_copyDirInternal(e,t){const r=this.directories.get(e),i=this.getOrCreateDir(t);for(const[n,s]of r.files.entries()){const e=se.pathJoin(t,se.getBaseName(n));i.files.set(e,s)}}fileExists(e){return Promise.resolve(this.fileExistsSync(e))}fileExistsSync(e){const t=se.getStandardizedAbsolutePath(this,e),r=se.getDirPath(t),i=this.directories.get(r);return null!=i&&i.files.has(t)}directoryExists(e){return Promise.resolve(this.directoryExistsSync(e))}directoryExistsSync(e){return this.directories.has(se.getStandardizedAbsolutePath(this,e))}realpathSync(e){return e}getCurrentDirectory(){return"/"}glob(e){try{return Promise.resolve(this.globSync(e))}catch(t){return Promise.reject(t)}}globSync(e){return he(Array.from(function*(e){for(const t of e)yield*t.files.keys()}(this.directories.values())),e,this.getCurrentDirectory())}getOrCreateDir(e){let t=this.directories.get(e);if(null==t){t={path:e,files:new Map},this.directories.set(e,t);const r=se.getDirPath(e);r!==e&&this.getOrCreateDir(r)}return t}},t.IterableUtils=class{static find(e,t){for(const r of e)if(t(r))return r}},t.KeyValueCache=v,t.LocaleStringComparer=b,t.Memoize=Ce,t.ObjectUtils=I,t.PropertyComparer=D,t.PropertyStoredComparer=E,t.RealFileSystemHost=ge,t.ResolutionHosts=ve,t.SettingsContainer=Oe,t.SortedKeyValueArray=W,t.StringUtils=j,t.TransactionalFileSystem=me,t.TsConfigResolver=_e,t.WeakCache=class{constructor(){this.cacheItems=new WeakMap}getOrCreate(e,t){let r=this.get(e);return null==r&&(r=t(),this.set(e,r)),r}has(e){return this.cacheItems.has(e)}get(e){return this.cacheItems.get(e)}set(e,t){this.cacheItems.set(e,t)}removeByKey(e){this.cacheItems.delete(e)}},t.createDocumentCache=function(e){const t=new q;return t._addFiles(e),t},t.createHosts=function(e){const{transactionalFileSystem:r,sourceFileContainer:i,compilerOptions:n,getNewLine:s,resolutionHost:o,getProjectVersion:a,isKnownTypesPackageName:c}=e;let h=0;const l=r.getStandardizedAbsolutePath(function(){if(null!=e.libFolderPath){if(!0===e.skipLoadingLibFiles)throw new t.errors.InvalidOperationError("Cannot set skipLoadingLibFiles to true when libFolderPath is provided.");return e.libFolderPath}return $}()),u=function(){if(e.skipLoadingLibFiles||null!=e.libFolderPath)return;const t=new Map,i=K();for(const e of i)t.set(r.getStandardizedAbsolutePath(l+"/"+e.fileName),e.text);return t}(),d=e=>i.containsSourceFileAtPath(e)||r.fileExistsSync(e),g={getCompilationSettings:()=>n.get(),getNewLine:s,getProjectVersion:a,getScriptFileNames:()=>Array.from(i.getSourceFilePaths()),getScriptVersion:e=>{const t=r.getStandardizedAbsolutePath(e),n=i.getSourceFileFromCacheFromFilePath(t);return null==n?(h++).toString():i.getSourceFileVersion(n)},getScriptSnapshot:e=>{const t=r.getStandardizedAbsolutePath(e);if(d(t))return f.ScriptSnapshot.fromString(i.addOrGetSourceFileFromFilePathSync(t,{markInProject:!1,scriptKind:void 0}).getFullText());if(null!=u){const e=u.get(t);if(null!=e)return f.ScriptSnapshot.fromString(e)}},getCurrentDirectory:()=>r.getCurrentDirectory(),getDefaultLibFileName:e=>l+"/"+f.getDefaultLibFileName(e),isKnownTypesPackageName:c,useCaseSensitiveFileNames:()=>!0,readFile:(e,t)=>{const n=r.getStandardizedAbsolutePath(e);if(null!=u){const e=u.get(n);if(null!=e)return e}return i.containsSourceFileAtPath(n)?i.getSourceFileFromCacheFromFilePath(n).getFullText():r.readFileSync(n,t)},fileExists:e=>{const t=r.getStandardizedAbsolutePath(e);return d(t)||null!=u&&u.has(t)},directoryExists:e=>{const t=r.getStandardizedAbsolutePath(e);return i.containsDirectoryAtPath(t)||r.directoryExistsSync(t)},resolveModuleNames:o.resolveModuleNames,resolveTypeReferenceDirectives:o.resolveTypeReferenceDirectives,getResolvedModuleWithFailedLookupLocationsFromCache:o.getResolvedModuleWithFailedLookupLocationsFromCache,realpath:e=>r.realpathSync(r.getStandardizedAbsolutePath(e))},p={getSourceFile:(e,t,n)=>{const s=r.getStandardizedAbsolutePath(e);if(null!=u){const e=u.get(s);if(null!=e){let t=i.getSourceFileFromCacheFromFilePath(s);return null==t&&(t=i.addLibFileToCacheByText(s,e,f.ScriptKind.TS)),t}}return i.addOrGetSourceFileFromFilePathSync(s,{markInProject:!1,scriptKind:void 0})},getDefaultLibFileName:g.getDefaultLibFileName,writeFile:(e,t,i,n,s)=>{const o=r.getStandardizedAbsolutePath(e);r.writeFileSync(o,i?"\ufeff"+t:t)},getCurrentDirectory:()=>g.getCurrentDirectory(),getDirectories:e=>r.getDirectories(r.getStandardizedAbsolutePath(e)),fileExists:g.fileExists,readFile:g.readFile,getCanonicalFileName:e=>r.getStandardizedAbsolutePath(e),useCaseSensitiveFileNames:g.useCaseSensitiveFileNames,getNewLine:g.getNewLine,getEnvironmentVariable:e=>re.getEnvVar(e),directoryExists:e=>g.directoryExists(e),resolveModuleNames:o.resolveModuleNames,resolveTypeReferenceDirectives:o.resolveTypeReferenceDirectives,realpath:g.realpath};return{languageServiceHost:g,compilerHost:p}},t.createModuleResolutionHost=function(e){const{transactionalFileSystem:t,sourceFileContainer:r,getEncoding:i}=e;return{directoryExists:e=>{const i=t.getStandardizedAbsolutePath(e);return!!r.containsDirectoryAtPath(i)||t.directoryExistsSync(i)},fileExists:e=>{const i=t.getStandardizedAbsolutePath(e);return!!r.containsSourceFileAtPath(i)||t.fileExistsSync(i)},readFile:e=>{const n=t.getStandardizedAbsolutePath(e),s=r.getSourceFileFromCacheFromFilePath(n);if(null!=s)return s.getFullText();try{return t.readFileSync(n,i())}catch(o){if(se.isNotExistsError(o))return;throw o}},getCurrentDirectory:()=>t.getCurrentDirectory(),getDirectories:e=>{const i=t.getStandardizedAbsolutePath(e),n=new Set(t.readDirSync(i));for(const t of r.getChildDirectoriesOfDirectory(i))n.add(t);return Array.from(n)},realpath:e=>t.realpathSync(t.getStandardizedAbsolutePath(e))}},t.deepClone=F,t.getCompilerOptionsFromTsConfig=function(e,t={}){const r=new me(t.fileSystem||new ge),i=new _e(r,r.getStandardizedAbsolutePath(e),t.encoding||"utf-8");return{options:i.getCompilerOptions(),errors:i.getErrors()}},t.getEmitModuleResolutionKind=function(e){return f.getEmitModuleResolutionKind.apply(this,arguments)},t.getFileMatcherPatterns=P,t.getLibFiles=K,t.getSyntaxKindName=A,t.libFolderInMemoryPath=$,t.matchFiles=x,t.matchGlobs=he,t.runtime=re},5623:function(e){"use strict";function t(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var s=i(e,t,n);return s&&{start:s[0],end:s[1],pre:n.slice(0,s[0]),body:n.slice(s[0]+e.length,s[1]),post:n.slice(s[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var i,n,s,o,a,c=r.indexOf(e),h=r.indexOf(t,c+1),l=c;if(c>=0&&h>0){if(e===t)return[c,h];for(i=[],s=r.length;l>=0&&!a;)l==c?(i.push(l),c=r.indexOf(e,l+1)):1==i.length?a=[i.pop(),h]:((n=i.pop())<s&&(s=n,o=h),h=r.indexOf(t,l+1)),l=c<h&&c>=0?c:h;i.length&&(a=[s,o])}return a}e.exports=t,t.range=i},3644:function(e,t,r){var i=r(1048),n=r(5623);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return m(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(h)}(e),!0).map(u)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(h).join(".")}function d(e){if(!e)return[""];var t=[],r=n("{","}",e);if(!r)return e.split(",");var i=r.pre,s=r.body,o=r.post,a=i.split(",");a[a.length-1]+="{"+s+"}";var c=d(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function f(e){return"{"+e+"}"}function g(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function y(e,t){return e>=t}function m(e,t){var r=[],s=n("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var o,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),u=c||h,S=s.body.indexOf(",")>=0;if(!u&&!S)return s.post.match(/,.*\}/)?m(e=s.pre+"{"+s.body+a+s.post):[e];if(u)o=s.body.split(/\.\./);else if(1===(o=d(s.body)).length&&1===(o=m(o[0],!1).map(f)).length)return(C=s.post.length?m(s.post,!1):[""]).map((function(e){return s.pre+o[0]+e}));var w,v=s.pre,C=s.post.length?m(s.post,!1):[""];if(u){var b=l(o[0]),D=l(o[1]),E=Math.max(o[0].length,o[1].length),O=3==o.length?Math.abs(l(o[2])):1,F=p;D<b&&(O*=-1,F=y);var _=o.some(g);w=[];for(var I=b;F(I,D);I+=O){var x;if(h)"\\"===(x=String.fromCharCode(I))&&(x="");else if(x=String(I),_){var P=E-x.length;if(P>0){var A=new Array(P+1).join("0");x=I<0?"-"+A+x.slice(1):A+x}}w.push(x)}}else w=i(o,(function(e){return m(e,!1)}));for(var N=0;N<w.length;N++)for(var L=0;L<C.length;L++){var k=v+w[N]+C[L];(!t||u||k)&&r.push(k)}return r}},1872:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentChar=void 0,function(e){e[e.Line=0]="Line",e[e.Star=1]="Star"}(t.CommentChar||(t.CommentChar={}))},2058:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4518),n=r(1872),s={BACK_SLASH:"\\".charCodeAt(0),FORWARD_SLASH:"/".charCodeAt(0),NEW_LINE:"\n".charCodeAt(0),CARRIAGE_RETURN:"\r".charCodeAt(0),ASTERISK:"*".charCodeAt(0),DOUBLE_QUOTE:'"'.charCodeAt(0),SINGLE_QUOTE:"'".charCodeAt(0),BACK_TICK:"`".charCodeAt(0),OPEN_BRACE:"{".charCodeAt(0),CLOSE_BRACE:"}".charCodeAt(0),DOLLAR_SIGN:"$".charCodeAt(0)},o=new Set([s.BACK_SLASH,s.FORWARD_SLASH,s.NEW_LINE,s.CARRIAGE_RETURN,s.ASTERISK,s.DOUBLE_QUOTE,s.SINGLE_QUOTE,s.BACK_TICK,s.OPEN_BRACE,s.CLOSE_BRACE]);class a{constructor(e={}){var t,r;this._currentIndentation=0,this._length=0,this._newLineOnNextWrite=!1,this._currentCommentChar=void 0,this._stringCharStack=[],this._isInRegEx=!1,this._isOnFirstLineOfBlock=!0,this._texts=[],this._newLine=e.newLine||"\n",this._useTabs=e.useTabs||!1,this._indentNumberOfSpaces=e.indentNumberOfSpaces||4,this._indentationText=(t=this._useTabs,r=this._indentNumberOfSpaces,t?"\t":Array(r+1).join(" ")),this._quoteChar=e.useSingleQuote?"'":'"'}getOptions(){return{indentNumberOfSpaces:this._indentNumberOfSpaces,newLine:this._newLine,useTabs:this._useTabs,useSingleQuote:"'"===this._quoteChar}}queueIndentationLevel(e){return this._queuedIndentation=this._getIndentationLevelFromArg(e),this._queuedOnlyIfNotBlock=void 0,this}hangingIndent(e){return this._withResetIndentation((()=>this.queueIndentationLevel(this.getIndentationLevel()+1)),e)}hangingIndentUnlessBlock(e){return this._withResetIndentation((()=>{this.queueIndentationLevel(this.getIndentationLevel()+1),this._queuedOnlyIfNotBlock=!0}),e)}setIndentationLevel(e){return this._currentIndentation=this._getIndentationLevelFromArg(e),this}withIndentationLevel(e,t){return this._withResetIndentation((()=>this.setIndentationLevel(e)),t)}_withResetIndentation(e,t){const r=this._getIndentationState();e();try{t()}finally{this._setIndentationState(r)}return this}getIndentationLevel(){return this._currentIndentation}block(e){return this._newLineIfNewLineOnNextWrite(),this.getLength()>0&&!this.isLastNewLine()&&this.spaceIfLastNot(),this.inlineBlock(e),this._newLineOnNextWrite=!0,this}inlineBlock(e){return this._newLineIfNewLineOnNextWrite(),this.write("{"),this._indentBlockInternal(e),this.newLineIfLastNot().write("}"),this}indent(e=1){return"number"===typeof e?(this._newLineIfNewLineOnNextWrite(),this.write(this._indentationText.repeat(e))):(this._indentBlockInternal(e),this.isLastNewLine()||(this._newLineOnNextWrite=!0),this)}_indentBlockInternal(e){null!=this.getLastChar()&&this.newLineIfLastNot(),this._currentIndentation++,this._isOnFirstLineOfBlock=!0,null!=e&&e(),this._isOnFirstLineOfBlock=!1,this._currentIndentation=Math.max(0,this._currentIndentation-1)}conditionalWriteLine(e,t){return e&&this.writeLine(i.getStringFromStrOrFunc(t)),this}writeLine(e){return this._newLineIfNewLineOnNextWrite(),null!=this.getLastChar()&&this.newLineIfLastNot(),this._writeIndentingNewLines(e),this.newLine(),this}newLineIfLastNot(){return this._newLineIfNewLineOnNextWrite(),this.isLastNewLine()||this.newLine(),this}blankLineIfLastNot(){return this.isLastBlankLine()||this.blankLine(),this}conditionalBlankLine(e){return e&&this.blankLine(),this}blankLine(){return this.newLineIfLastNot().newLine()}conditionalNewLine(e){return e&&this.newLine(),this}newLine(){return this._newLineOnNextWrite=!1,this._baseWriteNewline(),this}quote(e){return this._newLineIfNewLineOnNextWrite(),this._writeIndentingNewLines(null==e?this._quoteChar:this._quoteChar+i.escapeForWithinString(e,this._quoteChar)+this._quoteChar),this}spaceIfLastNot(){return this._newLineIfNewLineOnNextWrite(),this.isLastSpace()||this._writeIndentingNewLines(" "),this}space(e=1){return this._newLineIfNewLineOnNextWrite(),this._writeIndentingNewLines(" ".repeat(e)),this}tabIfLastNot(){return this._newLineIfNewLineOnNextWrite(),this.isLastTab()||this._writeIndentingNewLines("\t"),this}tab(e=1){return this._newLineIfNewLineOnNextWrite(),this._writeIndentingNewLines("\t".repeat(e)),this}conditionalWrite(e,t){return e&&this.write(i.getStringFromStrOrFunc(t)),this}write(e){return this._newLineIfNewLineOnNextWrite(),this._writeIndentingNewLines(e),this}closeComment(){const e=this._currentCommentChar;switch(e){case n.CommentChar.Line:this.newLine();break;case n.CommentChar.Star:this.isLastNewLine()||this.spaceIfLastNot(),this.write("*/");break;default:}return this}unsafeInsert(e,t){const r=this._length,i=this._texts;return function(){if(e<0)throw new Error(`Provided position of '${e}' was less than zero.`);if(e>r)throw new Error(`Provided position of '${e}' was greater than the text length of '${r}'.`)}(),e===r?this.write(t):(function(){const{index:n,localIndex:s}=function(){if(e<r/2){let t=0;for(let r=0;r<i.length;r++){const n=t;if(t+=i[r].length,t>=e)return{index:r,localIndex:e-n}}}else{let t=r;for(let r=i.length-1;r>=0;r--){if(t-=i[r].length,t<=e)return{index:r,localIndex:e-t}}}throw new Error("Unhandled situation inserting. This should never happen.")}();if(0===s)i.splice(n,0,t);else if(s===i[n].length)i.splice(n+1,0,t);else{const e=i[n],r=e.substring(0,s),o=e.substring(s);i.splice(n,1,r,t,o)}}(),this._length+=t.length,this)}getLength(){return this._length}isInComment(){return void 0!==this._currentCommentChar}isAtStartOfFirstLineOfBlock(){return this.isOnFirstLineOfBlock()&&(this.isLastNewLine()||null==this.getLastChar())}isOnFirstLineOfBlock(){return this._isOnFirstLineOfBlock}isInString(){return this._stringCharStack.length>0&&this._stringCharStack[this._stringCharStack.length-1]!==s.OPEN_BRACE}isLastNewLine(){const e=this.getLastChar();return"\n"===e||"\r"===e}isLastBlankLine(){let e=0;for(let t=this._texts.length-1;t>=0;t--){const r=this._texts[t];for(let t=r.length-1;t>=0;t--){const i=r.charCodeAt(t);if(i===s.NEW_LINE){if(e++,2===e)return!0}else if(i!==s.CARRIAGE_RETURN)return!1}}return!1}isLastSpace(){return" "===this.getLastChar()}isLastTab(){return"\t"===this.getLastChar()}getLastChar(){const e=this._getLastCharCodeWithOffset(0);return null==e?void 0:String.fromCharCode(e)}endsWith(e){const t=this._length;return this.iterateLastCharCodes(((r,i)=>{const n=t-i,s=e.length-n;return e.charCodeAt(s)===r&&(0===s||void 0)}))||!1}iterateLastChars(e){return this.iterateLastCharCodes(((t,r)=>e(String.fromCharCode(t),r)))}iterateLastCharCodes(e){let t=this._length;for(let r=this._texts.length-1;r>=0;r--){const i=this._texts[r];for(let r=i.length-1;r>=0;r--){t--;const n=e(i.charCodeAt(r),t);if(null!=n)return n}}}toString(){if(this._texts.length>1){const e=this._texts.join("");this._texts.length=0,this._texts.push(e)}return this._texts[0]||""}_writeIndentingNewLines(e){if(0===(e=e||"").length)return void t(this,"");function t(e,t){if(!e.isInString()){(e.isLastNewLine()||null==e.getLastChar())&&e._writeIndentation()}e._updateInternalState(t),e._internalWrite(t)}e.split(a._newLineRegEx).forEach(((e,r)=>{r>0&&this._baseWriteNewline(),0!==e.length&&t(this,e)}))}_baseWriteNewline(){this._currentCommentChar===n.CommentChar.Line&&(this._currentCommentChar=void 0);const e=this._stringCharStack[this._stringCharStack.length-1];e!==s.DOUBLE_QUOTE&&e!==s.SINGLE_QUOTE||this._getLastCharCodeWithOffset(0)===s.BACK_SLASH||this._stringCharStack.pop(),this._internalWrite(this._newLine),this._isOnFirstLineOfBlock=!1,this._dequeueQueuedIndentation()}_dequeueQueuedIndentation(){null!=this._queuedIndentation&&(this._queuedOnlyIfNotBlock&&function(e){let t=!1;return e.iterateLastCharCodes((e=>{switch(e){case s.NEW_LINE:if(t)return!1;t=!0;break;case s.CARRIAGE_RETURN:return;case s.OPEN_BRACE:return!0;default:return!1}}))}(this)?(this._queuedIndentation=void 0,this._queuedOnlyIfNotBlock=void 0):(this._currentIndentation=this._queuedIndentation,this._queuedIndentation=void 0))}_updateInternalState(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(!o.has(r))continue;const i=0===t?this._getLastCharCodeWithOffset(0):e.charCodeAt(t-1),a=0===t?this._getLastCharCodeWithOffset(1):1===t?this._getLastCharCodeWithOffset(0):e.charCodeAt(t-2);if(this._isInRegEx){if((i!==s.FORWARD_SLASH||a===s.BACK_SLASH)&&i!==s.NEW_LINE)continue;this._isInRegEx=!1}else if(!this.isInString()&&!this.isInComment()&&c(r,i,a)){this._isInRegEx=!0;continue}if(null==this._currentCommentChar&&i===s.FORWARD_SLASH&&r===s.FORWARD_SLASH?this._currentCommentChar=n.CommentChar.Line:null==this._currentCommentChar&&i===s.FORWARD_SLASH&&r===s.ASTERISK?this._currentCommentChar=n.CommentChar.Star:this._currentCommentChar===n.CommentChar.Star&&i===s.ASTERISK&&r===s.FORWARD_SLASH&&(this._currentCommentChar=void 0),this.isInComment())continue;const h=0===this._stringCharStack.length?void 0:this._stringCharStack[this._stringCharStack.length-1];i===s.BACK_SLASH||r!==s.DOUBLE_QUOTE&&r!==s.SINGLE_QUOTE&&r!==s.BACK_TICK?a!==s.BACK_SLASH&&i===s.DOLLAR_SIGN&&r===s.OPEN_BRACE&&h===s.BACK_TICK?this._stringCharStack.push(r):r===s.CLOSE_BRACE&&h===s.OPEN_BRACE&&this._stringCharStack.pop():h===r?this._stringCharStack.pop():h!==s.OPEN_BRACE&&void 0!==h||this._stringCharStack.push(r)}}_getLastCharCodeWithOffset(e){if(!(e>=this._length||e<0))for(let t=this._texts.length-1;t>=0;t--){const r=this._texts[t];if(!(e>=r.length))return r.charCodeAt(r.length-1-e);e-=r.length}}_writeIndentation(){const e=Math.floor(this._currentIndentation);this._internalWrite(this._indentationText.repeat(e));const t=this._currentIndentation-e;if(this._useTabs)t>.5&&this._internalWrite(this._indentationText);else{const e=Math.round(this._indentationText.length*t);let r="";for(let t=0;t<e;t++)r+=this._indentationText[t];this._internalWrite(r)}}_newLineIfNewLineOnNextWrite(){this._newLineOnNextWrite&&(this._newLineOnNextWrite=!1,this.newLine())}_internalWrite(e){0!==e.length&&(this._texts.push(e),this._length+=e.length)}_getIndentationLevelFromArg(e){if("number"===typeof e){if(e<0)throw new Error("Passed in indentation level should be greater than or equal to 0.");return e}if("string"===typeof e){if(!a._spacesOrTabsRegEx.test(e))throw new Error("Provided string must be empty or only contain spaces or tabs.");const{spacesCount:t,tabsCount:r}=function(e){let t=0,r=0;for(const i of e)" "===i?t++:"\t"===i&&r++;return{spacesCount:t,tabsCount:r}}(e);return r+t/this._indentNumberOfSpaces}throw new Error("Argument provided must be a string or number.")}_setIndentationState(e){this._currentIndentation=e.current,this._queuedIndentation=e.queued,this._queuedOnlyIfNotBlock=e.queuedOnlyIfNotBlock}_getIndentationState(){return{current:this._currentIndentation,queued:this._queuedIndentation,queuedOnlyIfNotBlock:this._queuedOnlyIfNotBlock}}}function c(e,t,r){return t===s.FORWARD_SLASH&&e!==s.FORWARD_SLASH&&e!==s.ASTERISK&&r!==s.ASTERISK&&r!==s.FORWARD_SLASH}t.default=a,a._newLineRegEx=/\r?\n/,a._spacesOrTabsRegEx=/^[ \t]*$/},4518:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStringFromStrOrFunc=t.escapeChar=t.escapeForWithinString=void 0;const r=/(\r?\n)/g;function i(e,t){if(1!==t.length)throw new Error("Specified char must be one character long.");let r="";for(let i=0;i<e.length;i++)e[i]===t&&(r+="\\"),r+=e[i];return r}t.escapeForWithinString=function(e,t){return i(e,t).replace(r,"\\$1")},t.escapeChar=i,t.getStringFromStrOrFunc=function(e){return e instanceof Function?e():e}},1048:function(e){e.exports=function(e,r){for(var i=[],n=0;n<e.length;n++){var s=r(e[n],n);t(s)?i.push.apply(i,s):i.push(s)}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},1171:function(e,t,r){e.exports=d,d.Minimatch=f;var i={sep:"/"};try{i=r(6470)}catch(y){}var n=d.GLOBSTAR=f.GLOBSTAR={},s=r(3644),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",h="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var l=/\/+/;function u(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function d(e,t,r){if("string"!==typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new f(t,r).match(e))}function f(e,t){if(!(this instanceof f))return new f(e,t);if("string"!==typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof f?this.options:{}),"undefined"===typeof(e="undefined"===typeof e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}d.filter=function(e,t){return t=t||{},function(r,i,n){return d(r,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,r=function(r,i,n){return t.minimatch(r,i,u(e,n))};return r.Minimatch=function(r,i){return new t.Minimatch(r,u(e,i))},r},f.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(l)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,i=0;if(r.nonegate)return;for(var n=0,s=e.length;n<s&&"!"===e.charAt(n);n++)t=!t,i++;i&&(this.pattern=e.substr(i));this.negate=t},d.braceExpand=function(e,t){return g(e,t)},f.prototype.braceExpand=g,f.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return n;if(""===e)return"";var i,s="",l=!!r.nocase,u=!1,d=[],f=[],g=!1,m=-1,S=-1,w="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function C(){if(i){switch(i){case"*":s+=c,l=!0;break;case"?":s+=a,l=!0;break;default:s+="\\"+i}v.debug("clearStateChar %j %j",i,s),i=!1}}for(var b,D=0,E=e.length;D<E&&(b=e.charAt(D));D++)if(this.debug("%s\t%s %s %j",e,D,s,b),u&&h[b])s+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":C(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,D,s,b),g){this.debug("  in class"),"!"===b&&D===S+1&&(b="^"),s+=b;continue}v.debug("call clearStateChar %j",i),C(),i=b,r.noext&&C();continue;case"(":if(g){s+="(";continue}if(!i){s+="\\(";continue}d.push({type:i,start:D-1,reStart:s.length,open:o[i].open,close:o[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(g||!d.length){s+="\\)";continue}C(),l=!0;var O=d.pop();s+=O.close,"!"===O.type&&f.push(O),O.reEnd=s.length;continue;case"|":if(g||!d.length||u){s+="\\|",u=!1;continue}C(),s+="|";continue;case"[":if(C(),g){s+="\\"+b;continue}g=!0,S=D,m=s.length,s+=b;continue;case"]":if(D===S+1||!g){s+="\\"+b,u=!1;continue}if(g){var F=e.substring(S+1,D);try{RegExp("["+F+"]")}catch(y){var _=this.parse(F,p);s=s.substr(0,m)+"\\["+_[0]+"\\]",l=l||_[1],g=!1;continue}}l=!0,g=!1,s+=b;continue;default:C(),u?u=!1:!h[b]||"^"===b&&g||(s+="\\"),s+=b}g&&(F=e.substr(S+1),_=this.parse(F,p),s=s.substr(0,m)+"\\["+_[0],l=l||_[1]);for(O=d.pop();O;O=d.pop()){var I=s.slice(O.reStart+O.open.length);this.debug("setting tail",s,O),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",I,I,O,s);var x="*"===O.type?c:"?"===O.type?a:"\\"+O.type;l=!0,s=s.slice(0,O.reStart)+x+"\\("+I}C(),u&&(s+="\\\\");var P=!1;switch(s.charAt(0)){case".":case"[":case"(":P=!0}for(var A=f.length-1;A>-1;A--){var N=f[A],L=s.slice(0,N.reStart),k=s.slice(N.reStart,N.reEnd-8),R=s.slice(N.reEnd-8,N.reEnd),M=s.slice(N.reEnd);R+=M;var T=L.split("(").length-1,j=M;for(D=0;D<T;D++)j=j.replace(/\)[+*?]?/,"");var W="";""===(M=j)&&t!==p&&(W="$"),s=L+k+M+W+R}""!==s&&l&&(s="(?=.)"+s);P&&(s=w+s);if(t===p)return[s,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var B=r.nocase?"i":"";try{var z=new RegExp("^"+s+"$",B)}catch(y){return new RegExp("$.")}return z._glob=e,z._src=s,z};var p={};d.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===n?r:"string"===typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(o){this.regexp=!1}return this.regexp},d.match=function(e,t,r){var i=new f(t,r=r||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/"));e=e.split(l),this.debug(this.pattern,"split",e);var n,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(n=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],c=e;if(r.matchBase&&1===a.length&&(c=[n]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var h,l=t[o],u=e[s];if(this.debug(t,l,u),!1===l)return!1;if(l===n){this.debug("GLOBSTAR",[t,l,u]);var d=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!i.dot&&"."===e[s].charAt(0))return!1;return!0}for(;d<a;){var g=e[d];if(this.debug("\nglobstar while",e,d,t,f,g),this.matchOne(e.slice(d),t.slice(f),r))return this.debug("globstar found match!",d,a,g),!0;if("."===g||".."===g||!i.dot&&"."===g.charAt(0)){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!r||(this.debug("\n>>> no match, partial?",e,d,t,f),d!==a))}if("string"===typeof l?(h=i.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,h)):(h=u.match(l),this.debug("pattern match",l,u,h)),!h)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},6470:function(e,t,r){"use strict";var i=r(4155);function n(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function s(e,t){for(var r,i="",n=0,s=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var c=i.lastIndexOf("/");if(c!==i.length-1){-1===c?(i="",n=0):n=(i=i.slice(0,c)).length-1-i.lastIndexOf("/"),s=a,o=0;continue}}else if(2===i.length||1===i.length){i="",n=0,s=a,o=0;continue}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(s+1,a):i=e.slice(s+1,a),n=a-s-1;s=a,o=0}else 46===r&&-1!==o?++o:o=-1}return i}var o={resolve:function(){for(var e,t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=i.cwd()),a=e),n(a),0!==a.length&&(t=a+"/"+t,r=47===a.charCodeAt(0))}return t=s(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=s(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=o.resolve(e))===(t=o.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var i=e.length,s=i-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,h=s<c?s:c,l=-1,u=0;u<=h;++u){if(u===h){if(c>h){if(47===t.charCodeAt(a+u))return t.slice(a+u+1);if(0===u)return t.slice(a+u)}else s>h&&(47===e.charCodeAt(r+u)?l=u:0===u&&(l=0));break}var d=e.charCodeAt(r+u);if(d!==t.charCodeAt(a+u))break;47===d&&(l=u)}var f="";for(u=r+l+1;u<=i;++u)u!==i&&47!==e.charCodeAt(u)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(a+l):(a+=l,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!s){i=o;break}}else s=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,s=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var h=e.charCodeAt(r);if(47===h){if(!o){i=r+1;break}}else-1===c&&(o=!1,c=r+1),a>=0&&(h===t.charCodeAt(a)?-1===--a&&(s=r):(a=-1,s=c))}return i===s?s=c:-1===s&&(s=e.length),e.slice(i,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===s&&(o=!1,s=r+1);return-1===s?"":e.slice(i,s)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(s=!1,i=a+1),46===c?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!s){r=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),s=47===i;s?(t.root="/",r=1):r=0;for(var o=-1,a=0,c=-1,h=!0,l=e.length-1,u=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(h=!1,c=l+1),46===i?-1===o?o=l:1!==u&&(u=1):-1!==o&&(u=-1);else if(!h){a=l+1;break}return-1===o||-1===c||0===u||1===u&&o===c-1&&o===a+1?-1!==c&&(t.base=t.name=0===a&&s?e.slice(1,c):e.slice(a,c)):(0===a&&s?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o}}]);